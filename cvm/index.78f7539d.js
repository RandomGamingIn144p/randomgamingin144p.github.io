let t,e,n,r,i,o,s,a,c,l,u,d,h;function f(t){return t&&t.__esModule?t.default:t}function p(t,e){return Object.keys(e).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t}function m(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}let g=()=>({emit(t,...e){for(let n=this.events[t]||[],r=0,i=n.length;r<i;r++)n[r](...e)},events:{},on(t,e){return(this.events[t]||=[]).push(e),()=>{this.events[t]=this.events[t]?.filter(t=>e!==t)}}});class y{restore=!1;reboot=!1;ban=!1;forcevote=!1;mute=!1;kick=!1;bypassturn=!1;rename=!1;grabip=!1;xss=!1;constructor(t){this.set(t)}set(t){this.restore=(1&t)!=0,this.reboot=(2&t)!=0,this.ban=(4&t)!=0,this.forcevote=(8&t)!=0,this.mute=(16&t)!=0,this.kick=(32&t)!=0,this.bypassturn=(64&t)!=0,this.rename=(128&t)!=0,this.grabip=(256&t)!=0,this.xss=(512&t)!=0}}(Q=J||(J={}))[Q.Unregistered=0]="Unregistered",Q[Q.Registered=1]="Registered",Q[Q.Admin=2]="Admin",Q[Q.Moderator=3]="Moderator",(X=Z||(Z={}))[X.Login=2]="Login",X[X.MonitorCommand=5]="MonitorCommand",X[X.Restore=8]="Restore",X[X.Reboot=10]="Reboot",X[X.BanUser=12]="BanUser",X[X.ForceVote=13]="ForceVote",X[X.MuteUser=14]="MuteUser",X[X.KickUser=15]="KickUser",X[X.EndTurn=16]="EndTurn",X[X.ClearTurns=17]="ClearTurns",X[X.RenameUser=18]="RenameUser",X[X.GetIP=19]="GetIP",X[X.BypassTurn=20]="BypassTurn",X[X.ChatXSS=21]="ChatXSS",X[X.ToggleTurns=22]="ToggleTurns",X[X.IndefiniteTurn=23]="IndefiniteTurn",X[X.HideScreen=24]="HideScreen";class v{username;rank;turn;countryCode=null;constructor(t,e=J.Unregistered){this.username=t,this.rank=e,this.turn=-1}}class b{left=!1;middle=!1;right=!1;scrollDown=!1;scrollUp=!1;x=0;y=0;constructor(){}makeMask(){var t=0;return this.left&&(t|=1),this.middle&&(t|=2),this.right&&(t|=4),this.scrollUp&&(t|=8),this.scrollDown&&(t|=16),t}initFromMouseEvent(t){this.left=(1&t.buttons)==1,this.right=(2&t.buttons)==2,this.middle=(4&t.buttons)==4,this.x=t.offsetX,this.y=t.offsetY}initFromWheelEvent(t){this.initFromMouseEvent(t),t.deltaY<0?this.scrollUp=!0:t.deltaY>0&&(this.scrollDown=!0)}}function w(t,e,n){return function(t,e){var n,r;let i;if(!t)return null;let o=t.indexOf("U+");if(o>=0)i=String.fromCharCode(parseInt(t.substring(o+2),16));else{if(1!==t.length)return _(k[t],e);i=t}return i?(r=n=i.charCodeAt(0))<=31||r>=127&&r<=159?65280|n:n>=0&&n<=255?n:n>=256&&n<=1114111?16777216|n:null:null}(e,n)||_(E[t],n)}function _(t,e){return t?t[e]||t[0]:null}const E={8:[65288],9:[65289],12:[65291,65291,65291,65461],13:[65293],16:[65505,65505,65506],17:[65507,65507,65508],18:[65513,65513,65027],19:[65299],20:[65509],27:[65307],32:[32],33:[65365,65365,65365,65465],34:[65366,65366,65366,65459],35:[65367,65367,65367,65457],36:[65360,65360,65360,65463],37:[65361,65361,65361,65460],38:[65362,65362,65362,65464],39:[65363,65363,65363,65462],40:[65364,65364,65364,65458],45:[65379,65379,65379,65456],46:[65535,65535,65535,65454],91:[65515],92:[65383],93:null,96:[65456],97:[65457],98:[65458],99:[65459],100:[65460],101:[65461],102:[65462],103:[65463],104:[65464],105:[65465],106:[65450],107:[65451],109:[65453],110:[65454],111:[65455],112:[65470],113:[65471],114:[65472],115:[65473],116:[65474],117:[65475],118:[65476],119:[65477],120:[65478],121:[65479],122:[65480],123:[65481],144:[65407],145:[65300],225:[65027]},k={Again:[65382],AllCandidates:[65341],Alphanumeric:[65328],Alt:[65513,65513,65027],Attn:[64782],AltGraph:[65027],ArrowDown:[65364],ArrowLeft:[65361],ArrowRight:[65363],ArrowUp:[65362],Backspace:[65288],CapsLock:[65509],Cancel:[65385],Clear:[65291],Convert:[65313],Copy:[64789],Crsel:[64796],CrSel:[64796],CodeInput:[65335],Compose:[65312],Control:[65507,65507,65508],ContextMenu:[65383],DeadGrave:[65104],DeadAcute:[65105],DeadCircumflex:[65106],DeadTilde:[65107],DeadMacron:[65108],DeadBreve:[65109],DeadAboveDot:[65110],DeadUmlaut:[65111],DeadAboveRing:[65112],DeadDoubleacute:[65113],DeadCaron:[65114],DeadCedilla:[65115],DeadOgonek:[65116],DeadIota:[65117],DeadVoicedSound:[65118],DeadSemivoicedSound:[65119],Delete:[65535],Down:[65364],End:[65367],Enter:[65293],EraseEof:[64774],Escape:[65307],Execute:[65378],Exsel:[64797],ExSel:[64797],F1:[65470],F2:[65471],F3:[65472],F4:[65473],F5:[65474],F6:[65475],F7:[65476],F8:[65477],F9:[65478],F10:[65479],F11:[65480],F12:[65481],F13:[65482],F14:[65483],F15:[65484],F16:[65485],F17:[65486],F18:[65487],F19:[65488],F20:[65489],F21:[65490],F22:[65491],F23:[65492],F24:[65493],Find:[65384],GroupFirst:[65036],GroupLast:[65038],GroupNext:[65032],GroupPrevious:[65034],FullWidth:null,HalfWidth:null,HangulMode:[65329],Hankaku:[65321],HanjaMode:[65332],Help:[65386],Hiragana:[65317],HiraganaKatakana:[65319],Home:[65360],Hyper:[65517,65517,65518],Insert:[65379],JapaneseHiragana:[65317],JapaneseKatakana:[65318],JapaneseRomaji:[65316],JunjaMode:[65336],KanaMode:[65325],KanjiMode:[65313],Katakana:[65318],Left:[65361],Meta:[65511,65511,65512],ModeChange:[65406],NumLock:[65407],PageDown:[65366],PageUp:[65365],Pause:[65299],Play:[64790],PreviousCandidate:[65342],PrintScreen:[64797],Redo:[65382],Right:[65363],RomanCharacters:null,Scroll:[65300],Select:[65376],Separator:[65452],Shift:[65505,65505,65506],SingleCandidate:[65340],Super:[65515,65515,65516],Tab:[65289],Up:[65362],Undo:[65381],Win:[65515],Zenkaku:[65320],ZenkakuHankaku:[65322]},S=[["!",49,"Digit1","!",0],["#",51,"Digit3","#",0],["$",52,"Digit4","$",0],["%",53,"Digit5","%",0],["&",55,"Digit7","&",0],["'",222,"Quote","'",0],["(",57,"Digit9","(",0],[")",48,"Digit0",")",0],["*",56,"Digit8","*",0],["+",187,"Equal","+",0],[",",188,"Comma",",",0],["-",189,"Minus","-",0],[".",190,"Period",".",0],["/",191,"Slash","/",0],["0",48,"Digit0","0",0],["1",49,"Digit1","1",0],["2",50,"Digit2","2",0],["3",51,"Digit3","3",0],["4",52,"Digit4","4",0],["5",53,"Digit5","5",0],["6",54,"Digit6","6",0],["7",55,"Digit7","7",0],["8",56,"Digit8","8",0],["9",57,"Digit9","9",0],[":",186,"Semicolon",":",0],[";",186,"Semicolon",";",0],["<",188,"Comma","<",0],["=",187,"Equal","=",0],[">",190,"Period",">",0],["?",191,"Slash","?",0],["@",50,"Digit2","@",0],["A",65,"KeyA","A",0],["B",66,"KeyB","B",0],["C",67,"KeyC","C",0],["D",68,"KeyD","D",0],["E",69,"KeyE","E",0],["F",70,"KeyF","F",0],["G",71,"KeyG","G",0],["H",72,"KeyH","H",0],["I",73,"KeyI","I",0],["J",74,"KeyJ","J",0],["K",75,"KeyK","K",0],["L",76,"KeyL","L",0],["M",77,"KeyM","M",0],["N",78,"KeyN","N",0],["O",79,"KeyO","O",0],["P",80,"KeyP","P",0],["Q",81,"KeyQ","Q",0],["R",82,"KeyR","R",0],["S",83,"KeyS","S",0],["T",84,"KeyT","T",0],["U",85,"KeyU","U",0],["V",86,"KeyV","V",0],["W",87,"KeyW","W",0],["X",88,"KeyX","X",0],["Y",89,"KeyY","Y",0],["Z",90,"KeyZ","Z",0],["[",219,"BracketLeft","[",0],["\\",220,"Backslash","\\",0],["]",221,"BracketRight","]",0],["^",54,"Digit6","^",0],["_",189,"Minus","_",0],["`",192,"Backquote","`",0],["a",65,"KeyA","a",0],["b",66,"KeyB","b",0],["c",67,"KeyC","c",0],["d",68,"KeyD","d",0],["e",69,"KeyE","e",0],["f",70,"KeyF","f",0],["g",71,"KeyG","g",0],["h",72,"KeyH","h",0],["i",73,"KeyI","i",0],["j",74,"KeyJ","j",0],["k",75,"KeyK","k",0],["l",76,"KeyL","l",0],["m",77,"KeyM","m",0],["n",78,"KeyN","n",0],["o",79,"KeyO","o",0],["p",80,"KeyP","p",0],["q",81,"KeyQ","q",0],["r",82,"KeyR","r",0],["s",83,"KeyS","s",0],["t",84,"KeyT","t",0],["u",85,"KeyU","u",0],["v",86,"KeyV","v",0],["w",87,"KeyW","w",0],["x",88,"KeyX","x",0],["y",89,"KeyY","y",0],["z",90,"KeyZ","z",0],["{",219,"BracketLeft","{",0],["{altleft}",18,"AltLeft","AltLeft",1],["{altright}",18,"AltRight","AltRight",2],["{arrowdown}",40,"ArrowDown","ArrowDown",0],["{arrowleft}",37,"ArrowLeft","ArrowLeft",0],["{arrowright}",39,"ArrowRight","ArrowRight",0],["{arrowup}",38,"ArrowUp","ArrowUp",0],["{backspace}",8,"Backspace","Backspace",0],["{capslock}",20,"CapsLock","CapsLock",0],["{controlleft}",17,"ControlLeft","ControlLeft",1],["{controlright}",17,"ControlRight","ControlRight",2],["{delete}",46,"Delete","Delete",0],["{end}",35,"End","End",0],["{enter}",13,"Enter","Enter",0],["{escape}",27,"Escape","Escape",0],["{f10}",121,"F10","F10",0],["{f11}",122,"F11","F11",0],["{f12}",123,"F12","F12",0],["{f1}",112,"F1","F1",0],["{f2}",113,"F2","F2",0],["{f3}",114,"F3","F3",0],["{f4}",115,"F4","F4",0],["{f5}",116,"F5","F5",0],["{f6}",117,"F6","F6",0],["{f7}",118,"F7","F7",0],["{f8}",119,"F8","F8",0],["{f9}",120,"F9","F9",0],["{home}",36,"Home","Home",0],["{insert}",45,"Insert","Insert",0],["{metaleft}",91,"OSLeft","OSLeft",1],["{metaright}",92,"OSRight","OSRight",2],["{numlock}",144,"NumLock","NumLock",0],["{numpad0}",96,"Numpad0","Numpad0",3],["{numpad1}",97,"Numpad1","Numpad1",3],["{numpad2}",98,"Numpad2","Numpad2",3],["{numpad3}",99,"Numpad3","Numpad3",3],["{numpad4}",100,"Numpad4","Numpad4",3],["{numpad5}",101,"Numpad5","Numpad5",3],["{numpad6}",102,"Numpad6","Numpad6",3],["{numpad7}",103,"Numpad7","Numpad7",3],["{numpad8}",104,"Numpad8","Numpad8",3],["{numpad9}",105,"Numpad9","Numpad9",3],["{numpadadd}",107,"NumpadAdd","NumpadAdd",3],["{numpaddecimal}",110,"NumpadDecimal","NumpadDecimal",3],["{numpaddivide}",111,"NumpadDivide","NumpadDivide",3],["{numpadenter}",13,"NumpadEnter","NumpadEnter",3],["{numpadmultiply}",106,"NumpadMultiply","NumpadMultiply",3],["{numpadsubtract}",109,"NumpadSubtract","NumpadSubtract",3],["{pagedown}",34,"PageDown","PageDown",0],["{pageup}",33,"PageUp","PageUp",0],["{pause}",19,"Pause","Pause",0],["{prtscr}",44,"PrintScreen","PrintScreen",0],["{scrolllock}",145,"ScrollLock","ScrollLock",0],["{shiftleft}",16,"ShiftLeft","ShiftLeft",1],["{shiftright}",16,"ShiftRight","ShiftRight",2],["{space}",32,"Space","Space",0],["{tab}",9,"Tab","Tab",0],["|",220,"Backslash","|",0],["}",221,"BracketRight","}",0],["~",192,"Backquote","~",0],['"',222,"Quote",'"',0]];tt=function(t){var e,n,r=function(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}(t),i=r[0],o=r[1],s=new tw((i+o)*3/4-o),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=tb[t.charCodeAt(n)]<<18|tb[t.charCodeAt(n+1)]<<12|tb[t.charCodeAt(n+2)]<<6|tb[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=tb[t.charCodeAt(n)]<<2|tb[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=tb[t.charCodeAt(n)]<<10|tb[t.charCodeAt(n+1)]<<4|tb[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},te=function(t){for(var e,n=t.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(function(t,e,n){for(var r,i=[],o=e;o<n;o+=3)i.push(tv[(r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+tv[r>>12&63]+tv[r>>6&63]+tv[63&r]);return i.join("")}(t,o,o+16383>s?s:o+16383));return 1===r?i.push(tv[(e=t[n-1])>>2]+tv[e<<4&63]+"=="):2===r&&i.push(tv[(e=(t[n-2]<<8)+t[n-1])>>10]+tv[e>>4&63]+tv[e<<2&63]+"="),i.join("")};for(var T,A,M,C,x,I,B,O,P,L,R,D,N,U,V,j,F,$,G,H,K,z,W,q,Y,Q,X,J,Z,tt,te,tn,tr,ti,to,ts,ta,tc,tl,tu,td,th,tf,tp,tm,tg,ty,tv=[],tb=[],tw="undefined"!=typeof Uint8Array?Uint8Array:Array,t_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tE=0,tk=t_.length;tE<tk;++tE)tv[tE]=t_[tE],tb[t_.charCodeAt(tE)]=tE;tb["-".charCodeAt(0)]=62,tb["_".charCodeAt(0)]=63,tn=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+d],d+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},tr=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,h=23===i?5960464477539062e-23:0,f=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+f]=255&s,f+=p,s/=256,l-=8);t[n+f-p]|=128*m};const tS="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function tT(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,tA.prototype),e}function tA(t,e,n){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return tx(t)}return tM(t,e,n)}function tM(t,e,n){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!tA.isEncoding(e))throw TypeError("Unknown encoding: "+e);let n=0|tP(t,e),r=tT(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(t2(t,Uint8Array)){let e=new Uint8Array(t);return tB(e.buffer,e.byteOffset,e.byteLength)}return tI(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(t2(t,ArrayBuffer)||t&&t2(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(t2(t,SharedArrayBuffer)||t&&t2(t.buffer,SharedArrayBuffer)))return tB(t,e,n);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return tA.from(r,e,n);let i=function(t){var e;if(tA.isBuffer(t)){let e=0|tO(t.length),n=tT(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?tT(0):tI(t):"Buffer"===t.type&&Array.isArray(t.data)?tI(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return tA.from(t[Symbol.toPrimitive]("string"),e,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function tC(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function tx(t){return tC(t),tT(t<0?0:0|tO(t))}function tI(t){let e=t.length<0?0:0|tO(t.length),n=tT(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function tB(t,e,n){let r;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),tA.prototype),r}function tO(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function tP(t,e){if(tA.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||t2(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return tZ(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return t0(t).length;default:if(i)return r?-1:tZ(t).length;e=(""+e).toLowerCase(),i=!0}}function tL(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,n){let r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=t6[t[r]];return i}(this,e,n);case"utf8":case"utf-8":return tU(this,e,n);case"ascii":return function(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":var i,o;return i=e,o=n,0===i&&o===this.length?te(this):te(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){let r=t.slice(e,n),i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}(this,e,n);default:if(r)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function tR(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function tD(t,e,n,r,i){var o;if(0===t.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return -1;n=t.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof e&&(e=tA.from(e,r)),tA.isBuffer(e))return 0===e.length?-1:tN(t,e,n,r,i);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):tN(t,[e],n,r,i);throw TypeError("val must be string, number or Buffer")}function tN(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else -1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(l(t,o+r)!==l(e,r)){n=!1;break}if(n)return o}return -1}function tU(t,e,n){n=Math.min(t.length,n);let r=[],i=e;for(;i<n;){let e=t[i],o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:(192&(n=t[i+1]))==128&&(c=(31&e)<<6|63&n)>127&&(o=c);break;case 3:n=t[i+1],r=t[i+2],(192&n)==128&&(192&r)==128&&(c=(15&e)<<12|(63&n)<<6|63&r)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],(192&n)==128&&(192&r)==128&&(192&a)==128&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function tV(t,e,n){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>n)throw RangeError("Trying to access beyond buffer length")}function tj(t,e,n,r,i,o){if(!tA.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(n+r>t.length)throw RangeError("Index out of range")}function tF(t,e,n,r,i){tY(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function t$(t,e,n,r,i){tY(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function tG(t,e,n,r,i,o){if(n+r>t.length||n<0)throw RangeError("Index out of range")}function tH(t,e,n,r,i){return e=+e,n>>>=0,i||tG(t,e,n,4,34028234663852886e22,-34028234663852886e22),tr(t,e,n,r,23,4),n+4}function tK(t,e,n,r,i){return e=+e,n>>>=0,i||tG(t,e,n,8,17976931348623157e292,-17976931348623157e292),tr(t,e,n,r,52,8),n+8}tA.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),tA.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(tA.prototype,"parent",{enumerable:!0,get:function(){if(tA.isBuffer(this))return this.buffer}}),Object.defineProperty(tA.prototype,"offset",{enumerable:!0,get:function(){if(tA.isBuffer(this))return this.byteOffset}}),tA.poolSize=8192,tA.from=function(t,e,n){return tM(t,e,n)},Object.setPrototypeOf(tA.prototype,Uint8Array.prototype),Object.setPrototypeOf(tA,Uint8Array),tA.alloc=function(t,e,n){return(tC(t),t<=0)?tT(t):void 0!==e?"string"==typeof n?tT(t).fill(e,n):tT(t).fill(e):tT(t)},tA.allocUnsafe=function(t){return tx(t)},tA.allocUnsafeSlow=function(t){return tx(t)},tA.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==tA.prototype},tA.compare=function(t,e){if(t2(t,Uint8Array)&&(t=tA.from(t,t.offset,t.byteLength)),t2(e,Uint8Array)&&(e=tA.from(e,e.offset,e.byteLength)),!tA.isBuffer(t)||!tA.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},tA.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},tA.concat=function(t,e){let n;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return tA.alloc(0);if(void 0===e)for(n=0,e=0;n<t.length;++n)e+=t[n].length;let r=tA.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){let e=t[n];if(t2(e,Uint8Array))i+e.length>r.length?(tA.isBuffer(e)||(e=tA.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else if(tA.isBuffer(e))e.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=e.length}return r},tA.byteLength=tP,tA.prototype._isBuffer=!0,tA.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)tR(this,e,e+1);return this},tA.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)tR(this,e,e+3),tR(this,e+1,e+2);return this},tA.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)tR(this,e,e+7),tR(this,e+1,e+6),tR(this,e+2,e+5),tR(this,e+3,e+4);return this},tA.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?tU(this,0,t):tL.apply(this,arguments)},tA.prototype.toLocaleString=tA.prototype.toString,tA.prototype.equals=function(t){if(!tA.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===tA.compare(this,t)},tA.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},tS&&(tA.prototype[tS]=tA.prototype.inspect),tA.prototype.compare=function(t,e,n,r,i){if(t2(t,Uint8Array)&&(t=tA.from(t,t.offset,t.byteLength)),!tA.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return -1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;let o=i-r,s=n-e,a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==l[t]){o=c[t],s=l[t];break}return o<s?-1:s<o?1:0},tA.prototype.includes=function(t,e,n){return -1!==this.indexOf(t,e,n)},tA.prototype.indexOf=function(t,e,n){return tD(this,t,e,n,!0)},tA.prototype.lastIndexOf=function(t,e,n){return tD(this,t,e,n,!1)},tA.prototype.write=function(t,e,n,r){var i,o,s,a,c,l,u,d;if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-e;if((void 0===n||n>h)&&(n=h),t.length>0&&(n<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let f=!1;for(;;)switch(r){case"hex":return function(t,e,n,r){let i;n=Number(n)||0;let o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;let s=e.length;for(r>s/2&&(r=s/2),i=0;i<r;++i){let r=parseInt(e.substr(2*i,2),16);if(r!=r)break;t[n+i]=r}return i}(this,t,e,n);case"utf8":case"utf-8":return i=e,o=n,t1(tZ(t,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=e,a=n,t1(function(t){let e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(t),this,s,a);case"base64":return c=e,l=n,t1(t0(t),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=e,d=n,t1(function(t,e){let n,r;let i=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,this.length-u),this,u,d);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},tA.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},tA.prototype.slice=function(t,e){let n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);let r=this.subarray(t,e);return Object.setPrototypeOf(r,tA.prototype),r},tA.prototype.readUintLE=tA.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||tV(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},tA.prototype.readUintBE=tA.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||tV(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},tA.prototype.readUint8=tA.prototype.readUInt8=function(t,e){return t>>>=0,e||tV(t,1,this.length),this[t]},tA.prototype.readUint16LE=tA.prototype.readUInt16LE=function(t,e){return t>>>=0,e||tV(t,2,this.length),this[t]|this[t+1]<<8},tA.prototype.readUint16BE=tA.prototype.readUInt16BE=function(t,e){return t>>>=0,e||tV(t,2,this.length),this[t]<<8|this[t+1]},tA.prototype.readUint32LE=tA.prototype.readUInt32LE=function(t,e){return t>>>=0,e||tV(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},tA.prototype.readUint32BE=tA.prototype.readUInt32BE=function(t,e){return t>>>=0,e||tV(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},tA.prototype.readBigUInt64LE=t5(function(t){tQ(t>>>=0,"offset");let e=this[t],n=this[t+7];(void 0===e||void 0===n)&&tX(t,this.length-8);let r=e+256*this[++t]+65536*this[++t]+16777216*this[++t],i=this[++t]+256*this[++t]+65536*this[++t]+16777216*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),tA.prototype.readBigUInt64BE=t5(function(t){tQ(t>>>=0,"offset");let e=this[t],n=this[t+7];(void 0===e||void 0===n)&&tX(t,this.length-8);let r=16777216*e+65536*this[++t]+256*this[++t]+this[++t],i=16777216*this[++t]+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),tA.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||tV(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},tA.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||tV(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},tA.prototype.readInt8=function(t,e){return(t>>>=0,e||tV(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},tA.prototype.readInt16LE=function(t,e){t>>>=0,e||tV(t,2,this.length);let n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},tA.prototype.readInt16BE=function(t,e){t>>>=0,e||tV(t,2,this.length);let n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},tA.prototype.readInt32LE=function(t,e){return t>>>=0,e||tV(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},tA.prototype.readInt32BE=function(t,e){return t>>>=0,e||tV(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},tA.prototype.readBigInt64LE=t5(function(t){tQ(t>>>=0,"offset");let e=this[t],n=this[t+7];return(void 0===e||void 0===n)&&tX(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),tA.prototype.readBigInt64BE=t5(function(t){tQ(t>>>=0,"offset");let e=this[t],n=this[t+7];return(void 0===e||void 0===n)&&tX(t,this.length-8),(BigInt((e<<24)+65536*this[++t]+256*this[++t]+this[++t])<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+n)}),tA.prototype.readFloatLE=function(t,e){return t>>>=0,e||tV(t,4,this.length),tn(this,t,!0,23,4)},tA.prototype.readFloatBE=function(t,e){return t>>>=0,e||tV(t,4,this.length),tn(this,t,!1,23,4)},tA.prototype.readDoubleLE=function(t,e){return t>>>=0,e||tV(t,8,this.length),tn(this,t,!0,52,8)},tA.prototype.readDoubleBE=function(t,e){return t>>>=0,e||tV(t,8,this.length),tn(this,t,!1,52,8)},tA.prototype.writeUintLE=tA.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tj(this,t,e,n,r,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},tA.prototype.writeUintBE=tA.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tj(this,t,e,n,r,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},tA.prototype.writeUint8=tA.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,1,255,0),this[e]=255&t,e+1},tA.prototype.writeUint16LE=tA.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},tA.prototype.writeUint16BE=tA.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},tA.prototype.writeUint32LE=tA.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},tA.prototype.writeUint32BE=tA.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},tA.prototype.writeBigUInt64LE=t5(function(t,e=0){return tF(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),tA.prototype.writeBigUInt64BE=t5(function(t,e=0){return t$(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),tA.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){let r=Math.pow(2,8*n-1);tj(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},tA.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){let r=Math.pow(2,8*n-1);tj(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},tA.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},tA.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},tA.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},tA.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},tA.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||tj(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},tA.prototype.writeBigInt64LE=t5(function(t,e=0){return tF(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),tA.prototype.writeBigInt64BE=t5(function(t,e=0){return t$(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),tA.prototype.writeFloatLE=function(t,e,n){return tH(this,t,e,!0,n)},tA.prototype.writeFloatBE=function(t,e,n){return tH(this,t,e,!1,n)},tA.prototype.writeDoubleLE=function(t,e,n){return tK(this,t,e,!0,n)},tA.prototype.writeDoubleBE=function(t,e,n){return tK(this,t,e,!1,n)},tA.prototype.copy=function(t,e,n,r){if(!tA.isBuffer(t))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);let i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},tA.prototype.fill=function(t,e,n,r){let i;if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!tA.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===t.length){let e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{let o=tA.isBuffer(t)?t:tA.from(t,r),s=o.length;if(0===s)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const tz={};function tW(t,e,n){tz[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function tq(t){let e="",n=t.length,r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function tY(t,e,n,r,i,o){if(t>n||t<e){let r;let i="bigint"==typeof e?"n":"";throw r=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new tz.ERR_OUT_OF_RANGE("value",r,t)}tQ(i,"offset"),(void 0===r[i]||void 0===r[i+o])&&tX(i,r.length-(o+1))}function tQ(t,e){if("number"!=typeof t)throw new tz.ERR_INVALID_ARG_TYPE(e,"number",t)}function tX(t,e,n){if(Math.floor(t)!==t)throw tQ(t,n),new tz.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new tz.ERR_BUFFER_OUT_OF_BOUNDS;throw new tz.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}tW("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tW("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),tW("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?i=tq(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=tq(i)),i+="n"),r+=` It must be ${e}. Received ${i}`},RangeError);const tJ=/[^+/0-9A-Za-z-_]/g;function tZ(t,e){let n;e=e||1/0;let r=t.length,i=null,o=[];for(let s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function t0(t){return tt(function(t){if((t=(t=t.split("=")[0]).trim().replace(tJ,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function t1(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length)&&!(i>=t.length);++i)e[i+n]=t[i];return i}function t2(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}const t6=function(){let t="0123456789abcdef",e=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function t5(t){return"undefined"==typeof BigInt?t3:t}function t3(){throw Error("BigInt not supported")}try{ti=new TextDecoder}catch(t){}var t4=0;const t9=[];var t8=t9,t7=0,et={},ee=0,en=0,er=[],ei={useRecords:!1,mapsAsObjects:!0};class eo{}const es=new eo;es.name="MessagePack 0xC1";var ea=!1,ec=2;try{Function("")}catch(t){ec=1/0}class el{constructor(t){t&&(!1===t.useRecords&&void 0===t.mapsAsObjects&&(t.mapsAsObjects=!0),!t.sequential||!1===t.trusted||(t.trusted=!0,t.structures||!1==t.useRecords||(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,e){if(to)return eU(()=>(eV(),this?this.unpack(t,e):el.prototype.unpack.call(ei,t,e)));t.buffer||t.constructor!==ArrayBuffer||(t=tA.from(t)),"object"==typeof e?(ts=e.end||t.length,t4=e.start||0):(t4=0,ts=e>-1?e:t.length),t7=0,en=0,tc=null,t8=t9,tl=null,to=t;try{td=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(e){if(to=null,t instanceof Uint8Array)throw e;throw Error("Source must be a Uint8Array or Buffer but was a "+(t&&"object"==typeof t?t.constructor.name:typeof t))}return this instanceof el?(et=this,this.structures?ta=this.structures:(!ta||ta.length>0)&&(ta=[])):(et=ei,(!ta||ta.length>0)&&(ta=[])),eu(e)}unpackMultiple(t,e){let n,r=0;try{ea=!0;let i=t.length,o=this?this.unpack(t,i):eF.unpack(t,i);if(e){if(!1===e(o,r,t4))return;for(;t4<i;)if(r=t4,!1===e(eu(),r,t4))return}else{for(n=[o];t4<i;)r=t4,n.push(eu());return n}}catch(t){throw t.lastPosition=r,t.values=n,t}finally{ea=!1,eV()}}_mergeStructures(t,e){tf&&(t=tf.call(this,t)),Object.isFrozen(t=t||[])&&(t=t.map(t=>t.slice(0)));for(let e=0,n=t.length;e<n;e++){let n=t[e];n&&(n.isShared=!0,e>=32&&(n.highByte=e-32>>5))}for(let n in t.sharedLength=t.length,e||[])if(n>=0){let r=t[n],i=e[n];i&&(r&&((t.restoreStructures||(t.restoreStructures=[]))[n]=r),t[n]=i)}return this.structures=t}decode(t,e){return this.unpack(t,e)}}function eu(t){try{let e;if(!et.trusted&&!ea){let t=ta.sharedLength||0;t<ta.length&&(ta.length=t)}if(et.randomAccessStructure&&to[t4]<64&&to[t4]>=32&&th?(e=th(to,t4,ts,et),to=null,!(t&&t.lazy)&&e&&(e=e.toJSON()),t4=ts):e=eh(),tl&&(t4=tl.postBundlePosition,tl=null),ea&&(ta.restoreStructures=null),t4==ts)ta&&ta.restoreStructures&&ed(),ta=null,to=null,tu&&(tu=null);else if(t4>ts)throw Error("Unexpected end of MessagePack data");else if(!ea){let t;try{t=JSON.stringify(e,(t,e)=>"bigint"==typeof e?`${e}n`:e).slice(0,100)}catch(e){t="(JSON view not available "+e+")"}throw Error("Data read, but end of buffer not reached "+t)}return e}catch(t){throw ta&&ta.restoreStructures&&ed(),eV(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||t4>ts)&&(t.incomplete=!0),t}}function ed(){for(let t in ta.restoreStructures)ta[t]=ta.restoreStructures[t];ta.restoreStructures=null}function eh(){let t=to[t4++];if(t<160){if(t<128){if(t<64)return t;{let e=ta[63&t]||et.getStructures&&eg()[63&t];return e?(e.read||(e.read=ep(e,63&t)),e.read()):t}}if(t<144){if(t-=128,et.mapsAsObjects){let e={};for(let n=0;n<t;n++){let t=eB();"__proto__"===t&&(t="__proto_"),e[t]=eh()}return e}{let e=new Map;for(let n=0;n<t;n++)e.set(eh(),eh());return e}}{let e=Array(t-=144);for(let n=0;n<t;n++)e[n]=eh();return et.freezeData?Object.freeze(e):e}}if(t<192){let e=t-160;if(en>=t4)return tc.slice(t4-ee,(t4+=e)-ee);if(0==en&&ts<140){let t=e<16?eA(e):eT(e);if(null!=t)return t}return ey(e)}{let e;switch(t){case 192:return null;case 193:if(tl){if((e=eh())>0)return tl[1].slice(tl.position1,tl.position1+=e);return tl[0].slice(tl.position0,tl.position0-=e)}return es;case 194:return!1;case 195:return!0;case 196:if(void 0===(e=to[t4++]))throw Error("Unexpected end of buffer");return eC(e);case 197:return e=td.getUint16(t4),t4+=2,eC(e);case 198:return e=td.getUint32(t4),t4+=4,eC(e);case 199:return ex(to[t4++]);case 200:return e=td.getUint16(t4),t4+=2,ex(e);case 201:return e=td.getUint32(t4),t4+=4,ex(e);case 202:if(e=td.getFloat32(t4),et.useFloat32>2){let t=ej[(127&to[t4])<<1|to[t4+1]>>7];return t4+=4,(t*e+(e>0?.5:-.5)>>0)/t}return t4+=4,e;case 203:return e=td.getFloat64(t4),t4+=8,e;case 204:return to[t4++];case 205:return e=td.getUint16(t4),t4+=2,e;case 206:return e=td.getUint32(t4),t4+=4,e;case 207:return"number"===et.int64AsType?e=4294967296*td.getUint32(t4)+td.getUint32(t4+4):"string"===et.int64AsType?e=td.getBigUint64(t4).toString():"auto"===et.int64AsType?(e=td.getBigUint64(t4))<=BigInt(2)<<BigInt(52)&&(e=Number(e)):e=td.getBigUint64(t4),t4+=8,e;case 208:return td.getInt8(t4++);case 209:return e=td.getInt16(t4),t4+=2,e;case 210:return e=td.getInt32(t4),t4+=4,e;case 211:return"number"===et.int64AsType?e=4294967296*td.getInt32(t4)+td.getUint32(t4+4):"string"===et.int64AsType?e=td.getBigInt64(t4).toString():"auto"===et.int64AsType?(e=td.getBigInt64(t4))>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e)):e=td.getBigInt64(t4),t4+=8,e;case 212:if(114==(e=to[t4++]))return eP(63&to[t4++]);{let t=er[e];if(t){if(t.read)return t4++,t.read(eh());if(t.noBuffer)return t4++,t();return t(to.subarray(t4,++t4))}throw Error("Unknown extension "+e)}case 213:if(114==(e=to[t4]))return t4++,eP(63&to[t4++],to[t4++]);return ex(2);case 214:return ex(4);case 215:return ex(8);case 216:return ex(16);case 217:if(e=to[t4++],en>=t4)return tc.slice(t4-ee,(t4+=e)-ee);return ev(e);case 218:if(e=td.getUint16(t4),t4+=2,en>=t4)return tc.slice(t4-ee,(t4+=e)-ee);return eb(e);case 219:if(e=td.getUint32(t4),t4+=4,en>=t4)return tc.slice(t4-ee,(t4+=e)-ee);return ew(e);case 220:return e=td.getUint16(t4),t4+=2,eE(e);case 221:return e=td.getUint32(t4),t4+=4,eE(e);case 222:return e=td.getUint16(t4),t4+=2,ek(e);case 223:return e=td.getUint32(t4),t4+=4,ek(e);default:if(t>=224)return t-256;if(void 0===t){let t=Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}throw Error("Unknown MessagePack token "+t)}}}const ef=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ep(t,e){function n(){if(n.count++>ec){let n=t.read=Function("r","return function(){return "+(et.freezeData?"Object.freeze":"")+"({"+t.map(t=>"__proto__"===t?"__proto_:r()":ef.test(t)?t+":r()":"["+JSON.stringify(t)+"]:r()").join(",")+"})}")(eh);return 0===t.highByte&&(t.read=em(e,t.read)),n()}let r={};for(let e=0,n=t.length;e<n;e++){let n=t[e];"__proto__"===n&&(n="__proto_"),r[n]=eh()}return et.freezeData?Object.freeze(r):r}return(n.count=0,0===t.highByte)?em(e,n):n}const em=(t,e)=>function(){let n=to[t4++];if(0===n)return e();let r=t<32?-(t+(n<<5)):t+(n<<5),i=ta[r]||eg()[r];if(!i)throw Error("Record id is not defined for "+r);return i.read||(i.read=ep(i,t)),i.read()};function eg(){let t=eU(()=>(to=null,et.getStructures()));return ta=et._mergeStructures(t,ta)}var ey=e_,ev=e_,eb=e_,ew=e_;function e_(t){let e;if(t<16&&(e=eA(t)))return e;if(t>64&&ti)return ti.decode(to.subarray(t4,t4+=t));let n=t4+t,r=[];for(e="";t4<n;){let t=to[t4++];if((128&t)==0)r.push(t);else if((224&t)==192){let e=63&to[t4++];r.push((31&t)<<6|e)}else if((240&t)==224){let e=63&to[t4++],n=63&to[t4++];r.push((31&t)<<12|e<<6|n)}else if((248&t)==240){let e=(7&t)<<18|(63&to[t4++])<<12|(63&to[t4++])<<6|63&to[t4++];e>65535&&(e-=65536,r.push(e>>>10&1023|55296),e=56320|1023&e),r.push(e)}else r.push(t);r.length>=4096&&(e+=eS.apply(String,r),r.length=0)}return r.length>0&&(e+=eS.apply(String,r)),e}function eE(t){let e=Array(t);for(let n=0;n<t;n++)e[n]=eh();return et.freezeData?Object.freeze(e):e}function ek(t){if(et.mapsAsObjects){let e={};for(let n=0;n<t;n++){let t=eB();"__proto__"===t&&(t="__proto_"),e[t]=eh()}return e}{let e=new Map;for(let n=0;n<t;n++)e.set(eh(),eh());return e}}var eS=String.fromCharCode;function eT(t){let e=t4,n=Array(t);for(let r=0;r<t;r++){let t=to[t4++];if((128&t)>0){t4=e;return}n[r]=t}return eS.apply(String,n)}function eA(t){if(t<4){if(t<2){if(0===t)return"";{let t=to[t4++];if((128&t)>1){t4-=1;return}return eS(t)}}{let e=to[t4++],n=to[t4++];if((128&e)>0||(128&n)>0){t4-=2;return}if(t<3)return eS(e,n);let r=to[t4++];if((128&r)>0){t4-=3;return}return eS(e,n,r)}}{let e=to[t4++],n=to[t4++],r=to[t4++],i=to[t4++];if((128&e)>0||(128&n)>0||(128&r)>0||(128&i)>0){t4-=4;return}if(t<6){if(4===t)return eS(e,n,r,i);{let t=to[t4++];if((128&t)>0){t4-=5;return}return eS(e,n,r,i,t)}}if(t<8){let o=to[t4++],s=to[t4++];if((128&o)>0||(128&s)>0){t4-=6;return}if(t<7)return eS(e,n,r,i,o,s);let a=to[t4++];if((128&a)>0){t4-=7;return}return eS(e,n,r,i,o,s,a)}{let o=to[t4++],s=to[t4++],a=to[t4++],c=to[t4++];if((128&o)>0||(128&s)>0||(128&a)>0||(128&c)>0){t4-=8;return}if(t<10){if(8===t)return eS(e,n,r,i,o,s,a,c);{let t=to[t4++];if((128&t)>0){t4-=9;return}return eS(e,n,r,i,o,s,a,c,t)}}if(t<12){let l=to[t4++],u=to[t4++];if((128&l)>0||(128&u)>0){t4-=10;return}if(t<11)return eS(e,n,r,i,o,s,a,c,l,u);let d=to[t4++];if((128&d)>0){t4-=11;return}return eS(e,n,r,i,o,s,a,c,l,u,d)}{let l=to[t4++],u=to[t4++],d=to[t4++],h=to[t4++];if((128&l)>0||(128&u)>0||(128&d)>0||(128&h)>0){t4-=12;return}if(t<14){if(12===t)return eS(e,n,r,i,o,s,a,c,l,u,d,h);{let t=to[t4++];if((128&t)>0){t4-=13;return}return eS(e,n,r,i,o,s,a,c,l,u,d,h,t)}}{let f=to[t4++],p=to[t4++];if((128&f)>0||(128&p)>0){t4-=14;return}if(t<15)return eS(e,n,r,i,o,s,a,c,l,u,d,h,f,p);let m=to[t4++];if((128&m)>0){t4-=15;return}return eS(e,n,r,i,o,s,a,c,l,u,d,h,f,p,m)}}}}}function eM(){let t,e=to[t4++];if(e<192)t=e-160;else switch(e){case 217:t=to[t4++];break;case 218:t=td.getUint16(t4),t4+=2;break;case 219:t=td.getUint32(t4),t4+=4;break;default:throw Error("Expected string")}return e_(t)}function eC(t){return et.copyBuffers?Uint8Array.prototype.slice.call(to,t4,t4+=t):to.subarray(t4,t4+=t)}function ex(t){let e=to[t4++];if(er[e]){let n;return er[e](to.subarray(t4,n=t4+=t),t=>{t4=t;try{return eh()}finally{t4=n}})}throw Error("Unknown extension type "+e)}var eI=Array(4096);function eB(){let t,e=to[t4++];if(!(e>=160)||!(e<192))return t4--,eO(eh());if(e-=160,en>=t4)return tc.slice(t4-ee,(t4+=e)-ee);if(!(0==en&&ts<180))return ey(e);let n=(e<<5^(e>1?td.getUint16(t4):e>0?to[t4]:0))&4095,r=eI[n],i=t4,o=t4+e-3,s=0;if(r&&r.bytes==e){for(;i<o;){if((t=td.getUint32(i))!=r[s++]){i=1879048192;break}i+=4}for(o+=3;i<o;)if((t=to[i++])!=r[s++]){i=1879048192;break}if(i===o)return t4=i,r.string;o-=3,i=t4}for(r=[],eI[n]=r,r.bytes=e;i<o;)t=td.getUint32(i),r.push(t),i+=4;for(o+=3;i<o;)t=to[i++],r.push(t);let a=e<16?eA(e):eT(e);return null!=a?r.string=a:r.string=ey(e)}function eO(t){if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t.toString();if(null==t)return t+"";throw Error("Invalid property type for record",typeof t)}const eP=(t,e)=>{let n=eh().map(eO),r=t;void 0!==e&&(t=t<32?-((e<<5)+t):(e<<5)+t,n.highByte=e);let i=ta[t];return i&&(i.isShared||ea)&&((ta.restoreStructures||(ta.restoreStructures=[]))[t]=i),ta[t]=n,n.read=ep(n,r),n.read()};er[0]=()=>{},er[0].noBuffer=!0,er[66]=t=>{let e=t.length,n=BigInt(128&t[0]?t[0]-256:t[0]);for(let r=1;r<e;r++)n<<=BigInt(8),n+=BigInt(t[r]);return n};let eL={Error:Error,TypeError:TypeError,ReferenceError:ReferenceError};er[101]=()=>{let t=eh();return(eL[t[0]]||Error)(t[1],{cause:t[2]})},er[105]=t=>{let e;if(!1===et.structuredClone)throw Error("Structured clone extension is disabled");let n=td.getUint32(t4-4);tu||(tu=new Map);let r=to[t4],i={target:e=r>=144&&r<160||220==r||221==r?[]:{}};tu.set(n,i);let o=eh();return i.used?Object.assign(e,o):(i.target=o,o)},er[112]=t=>{if(!1===et.structuredClone)throw Error("Structured clone extension is disabled");let e=td.getUint32(t4-4),n=tu.get(e);return n.used=!0,n.target},er[115]=()=>new Set(eh());const eR=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");let eD="object"==typeof globalThis?globalThis:window;er[116]=t=>{let e=t[0],n=eR[e];if(!n){if(16===e){let e=new ArrayBuffer(t.length-1);return new Uint8Array(e).set(t.subarray(1)),e}throw Error("Could not find typed array for code "+e)}return new eD[n](Uint8Array.prototype.slice.call(t,1).buffer)},er[120]=()=>{let t=eh();return new RegExp(t[0],t[1])};const eN=[];function eU(t){tp&&tp();let e=ts,n=t4,r=t7,i=ee,o=en,s=tc,a=t8,c=tu,l=tl,u=new Uint8Array(to.slice(0,ts)),d=ta,h=ta.slice(0,ta.length),f=et,p=ea,m=t();return ts=e,t4=n,t7=r,ee=i,en=o,tc=s,t8=a,tu=c,tl=l,to=u,ea=p,(ta=d).splice(0,ta.length,...h),et=f,td=new DataView(to.buffer,to.byteOffset,to.byteLength),m}function eV(){to=null,tu=null,ta=null}er[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],n=t4;return t4+=e-t.length,tl=eN,(tl=[eM(),eM()]).position0=0,tl.position1=0,tl.postBundlePosition=t4,t4=n,eh()},er[255]=t=>new Date(4==t.length?(16777216*t[0]+(t[1]<<16)+(t[2]<<8)+t[3])*1e3:8==t.length?((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((3&t[3])*4294967296+16777216*t[4]+(t[5]<<16)+(t[6]<<8)+t[7])*1e3:12==t.length?((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((128&t[4]?-281474976710656:0)+1099511627776*t[6]+4294967296*t[7]+16777216*t[8]+(t[9]<<16)+(t[10]<<8)+t[11])*1e3:"invalid");const ej=Array(147);for(let t=0;t<256;t++)ej[t]=+("1e"+Math.floor(45.15-.30103*t));var eF=new el({useRecords:!1});eF.unpack,eF.unpackMultiple;const e$=eF.unpack;new Uint8Array(new Float32Array(1).buffer,0,4);try{t=new TextEncoder}catch(t){}const eG=function(t){return tA.allocUnsafeSlow(t)};let eH=0,eK=null;const ez=/[\u0080-\uFFFF]/,eW=Symbol("record-id");function eq(t,e,n,r){let i=t.byteLength;if(i+1<256){var{target:o,position:s}=n(4+i);o[s++]=199,o[s++]=i+1}else if(i+1<65536){var{target:o,position:s}=n(5+i);o[s++]=200,o[s++]=i+1>>8,o[s++]=i+1&255}else{var{target:o,position:s,targetView:a}=n(7+i);o[s++]=201,a.setUint32(s,i+1),s+=4}o[s++]=116,o[s++]=e,t.buffer||(t=new Uint8Array(t)),o.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),s)}function eY(t,e){let n=t.byteLength;if(n<256){var r,i,{target:r,position:i}=e(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=e(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=255&n}else{var{target:r,position:i,targetView:o}=e(n+5);r[i++]=198,o.setUint32(i,n),i+=4}r.set(t,i)}function eQ(t,e,n){if(eK.length>0){o.setUint32(eK.position+t,eH+n-eK.position-t),eK.stringsPosition=eH-t;let r=eK;eK=null,e(r[0]),e(r[1])}}n=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,eo],e=[{pack(t,e,n){let r=t.getTime()/1e3;if((this.useTimestamp32||0===t.getMilliseconds())&&r>=0&&r<4294967296){let{target:t,targetView:n,position:i}=e(6);t[i++]=214,t[i++]=255,n.setUint32(i,r)}else if(r>0&&r<4294967296){let{target:n,targetView:i,position:o}=e(10);n[o++]=215,n[o++]=255,i.setUint32(o,4e6*t.getMilliseconds()+(r/1e3/4294967296>>0)),i.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return e(0),n(this.onInvalidDate());let{target:t,targetView:r,position:i}=e(3);t[i++]=212,t[i++]=255,t[i++]=255}else{let{target:n,targetView:i,position:o}=e(15);n[o++]=199,n[o++]=12,n[o++]=255,i.setUint32(o,1e6*t.getMilliseconds()),i.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(t,e,n){if(this.setAsEmptyObject)return e(0),n({});let r=Array.from(t),{target:i,position:o}=e(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),n(r)}},{pack(t,e,n){let{target:r,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([t.name,t.message,t.cause])}},{pack(t,e,n){let{target:r,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([t.source,t.flags])}},{pack(t,e){this.moreTypes?eq(t,16,e):eY(tA.from(t),e)}},{pack(t,e){let n=t.constructor;n!==tA&&this.moreTypes?eq(t,eR.indexOf(n.name),e):eY(t,e)}},{pack(t,e){let{target:n,position:r}=e(1);n[r]=193}}];let eX=new class extends el{constructor(c){let l,u,d,h;super(c),this.offset=0;let f=tA.prototype.utf8Write?function(t,e){return r.utf8Write(t,e,r.byteLength-e)}:!!t&&!!t.encodeInto&&function(e,n){return t.encodeInto(e,r.subarray(n)).written},p=this;c||(c={});let m=c&&c.sequential,g=c.structures||c.saveStructures,y=c.maxSharedStructures;if(null==y&&(y=g?32:0),y>8160)throw Error("Maximum maxSharedStructure is 8160");c.structuredClone&&void 0==c.moreTypes&&(this.moreTypes=!0);let v=c.maxOwnStructures;null==v&&(v=g?32:64),this.structures||!1==c.useRecords||(this.structures=[]);let b=y>32||v+y>64,w=y+64,_=y+v+64;if(_>8256)throw Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let E=[],k=0,S=0;this.pack=this.encode=function(t,e){let n;if(r||(o=(r=new eG(8192)).dataView||(r.dataView=new DataView(r.buffer,0,8192)),eH=0),(s=r.length-10)-eH<2048?(o=(r=new eG(r.length)).dataView||(r.dataView=new DataView(r.buffer,0,r.length)),s=r.length-10,eH=0):eH=eH+7&2147483640,l=eH,e&e5&&(eH+=255&e),h=p.structuredClone?new Map:null,p.bundleStrings&&"string"!=typeof t?(eK=[]).size=1/0:eK=null,d=p.structures){d.uninitialized&&(d=p._mergeStructures(p.getStructures()));let t=d.sharedLength||0;if(t>y)throw Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+d.sharedLength);if(!d.transitions){d.transitions=Object.create(null);for(let e=0;e<t;e++){let t=d[e];if(!t)continue;let n,r=d.transitions;for(let e=0,i=t.length;e<i;e++){let i=t[e];(n=r[i])||(n=r[i]=Object.create(null)),r=n}r[eW]=e+64}this.lastNamedStructuresLength=t}m||(d.nextId=t+64)}u&&(u=!1);try{p.randomAccessStructure&&t&&t.constructor&&t.constructor===Object?R(t):M(t);let n=eK;if(eK&&eQ(l,M,0),h&&h.idsToInsert){let t=h.idsToInsert.sort((t,e)=>t.offset>e.offset?1:-1),e=t.length,i=-1;for(;n&&e>0;){let r=t[--e].offset+l;r<n.stringsPosition+l&&-1===i&&(i=0),r>n.position+l?i>=0&&(i+=6):(i>=0&&(o.setUint32(n.position+l,o.getUint32(n.position+l)+i),i=-1),n=n.previous,e++)}i>=0&&n&&o.setUint32(n.position+l,o.getUint32(n.position+l)+i),(eH+=6*t.length)>s&&O(eH),p.offset=eH;let a=function(t,e){let n;let r=6*e.length,i=t.length-r;for(;n=e.pop();){let e=n.offset,o=n.id;t.copyWithin(e+r,e,i);let s=e+(r-=6);t[s++]=214,t[s++]=105,t[s++]=o>>24,t[s++]=o>>16&255,t[s++]=o>>8&255,t[s++]=255&o,i=e}return t}(r.subarray(l,eH),t);return h=null,a}if(p.offset=eH,e&e2)return r.start=l,r.end=eH,r;return r.subarray(l,eH)}catch(t){throw n=t,t}finally{if(d&&(T(),u&&p.saveStructures)){var i;let o=d.sharedLength||0,s=r.subarray(l,eH),a=((i=d).isCompatible=t=>{let e=!t||(p.lastNamedStructuresLength||0)===t.length;return e||p._mergeStructures(t),e},i);if(!n){if(!1===p.saveStructures(a,a.isCompatible))return p.pack(t,e);return p.lastNamedStructuresLength=o,r.length>1073741824&&(r=null),s}}r.length>1073741824&&(r=null),e&e6&&(eH=l)}};let T=()=>{S<10&&S++;let t=d.sharedLength||0;if(d.length>t&&!m&&(d.length=t),k>1e4)d.transitions=null,S=0,k=0,E.length>0&&(E=[]);else if(E.length>0&&!m){for(let t=0,e=E.length;t<e;t++)E[t][eW]=0;E=[]}},A=t=>{var e=t.length;e<16?r[eH++]=144|e:e<65536?(r[eH++]=220,r[eH++]=e>>8,r[eH++]=255&e):(r[eH++]=221,o.setUint32(eH,e),eH+=4);for(let n=0;n<e;n++)M(t[n])},M=t=>{eH>s&&(r=O(eH));var i,a=typeof t;if("string"===a){let e,n=t.length;if(eK&&n>=4&&n<4096){if((eK.size+=n)>21760){let t,e;let n=(eK[0]?3*eK[0].length+eK[1].length:0)+10;eH+n>s&&(r=O(eH+n)),eK.position?(e=eK,r[eH]=200,eH+=3,r[eH++]=98,t=eH-l,eH+=4,eQ(l,M,0),o.setUint16(t+l-3,eH-l-t)):(r[eH++]=214,r[eH++]=98,t=eH-l,eH+=4),(eK=["",""]).previous=e,eK.size=0,eK.position=t}let e=ez.test(t);eK[e?0:1]+=t,r[eH++]=193,M(e?-n:n);return}e=n<32?1:n<256?2:n<65536?3:5;let a=3*n;if(eH+a>s&&(r=O(eH+a)),n<64||!f){let o,s,a,c=eH+e;for(o=0;o<n;o++)(s=t.charCodeAt(o))<128?r[c++]=s:(s<2048?r[c++]=s>>6|192:((64512&s)==55296&&(64512&(a=t.charCodeAt(o+1)))==56320?(s=65536+((1023&s)<<10)+(1023&a),o++,r[c++]=s>>18|240,r[c++]=s>>12&63|128):r[c++]=s>>12|224,r[c++]=s>>6&63|128),r[c++]=63&s|128);i=c-eH-e}else i=f(t,eH+e);i<32?r[eH++]=160|i:i<256?(e<2&&r.copyWithin(eH+2,eH+1,eH+1+i),r[eH++]=217,r[eH++]=i):i<65536?(e<3&&r.copyWithin(eH+3,eH+2,eH+2+i),r[eH++]=218,r[eH++]=i>>8,r[eH++]=255&i):(e<5&&r.copyWithin(eH+5,eH+3,eH+3+i),r[eH++]=219,o.setUint32(eH,i),eH+=4),eH+=i}else if("number"===a){if(t>>>0===t)t<32||t<128&&!1===this.useRecords||t<64&&!this.randomAccessStructure?r[eH++]=t:t<256?(r[eH++]=204,r[eH++]=t):t<65536?(r[eH++]=205,r[eH++]=t>>8,r[eH++]=255&t):(r[eH++]=206,o.setUint32(eH,t),eH+=4);else if(t>>0===t)t>=-32?r[eH++]=256+t:t>=-128?(r[eH++]=208,r[eH++]=t+256):t>=-32768?(r[eH++]=209,o.setInt16(eH,t),eH+=2):(r[eH++]=210,o.setInt32(eH,t),eH+=4);else{let e;if((e=this.useFloat32)>0&&t<4294967296&&t>=-2147483648){let n;if(r[eH++]=202,o.setFloat32(eH,t),e<4||(n=t*ej[(127&r[eH])<<1|r[eH+1]>>7])>>0===n){eH+=4;return}eH--}r[eH++]=203,o.setFloat64(eH,t),eH+=8}}else if("object"===a||"function"===a){if(t){if(h){let e=h.get(t);if(e){if(!e.id){let t=h.idsToInsert||(h.idsToInsert=[]);e.id=t.push(e)}r[eH++]=214,r[eH++]=112,o.setUint32(eH,e.id),eH+=4;return}h.set(t,{offset:eH-l})}let c=t.constructor;if(c===Object)B(t);else if(c===Array)A(t);else if(c===Map){if(this.mapAsEmptyObject)r[eH++]=128;else for(let[e,n]of((i=t.size)<16?r[eH++]=128|i:i<65536?(r[eH++]=222,r[eH++]=i>>8,r[eH++]=255&i):(r[eH++]=223,o.setUint32(eH,i),eH+=4),t))M(e),M(n)}else{for(let i=0,a=e.length;i<a;i++)if(t instanceof n[i]){let n,a=e[i];if(a.write){a.type&&(r[eH++]=212,r[eH++]=a.type,r[eH++]=0);let e=a.write.call(this,t);e===t?Array.isArray(t)?A(t):B(t):M(e);return}let c=r,l=o,u=eH;r=null;try{n=a.pack.call(this,t,t=>(r=c,c=null,(eH+=t)>s&&O(eH),{target:r,targetView:o,position:eH-t}),M)}finally{c&&(r=c,o=l,eH=u,s=r.length-10)}n&&(n.length+eH>s&&O(n.length+eH),eH=function(t,e,n,r){let i=t.length;switch(i){case 1:e[n++]=212;break;case 2:e[n++]=213;break;case 4:e[n++]=214;break;case 8:e[n++]=215;break;case 16:e[n++]=216;break;default:i<256?(e[n++]=199,e[n++]=i):(i<65536?(e[n++]=200,e[n++]=i>>8):(e[n++]=201,e[n++]=i>>24,e[n++]=i>>16&255,e[n++]=i>>8&255),e[n++]=255&i)}return e[n++]=r,e.set(t,n),n+=i}(n,r,eH,a.type));return}if(Array.isArray(t))A(t);else{if(t.toJSON){let e=t.toJSON();if(e!==t)return M(e)}if("function"===a)return M(this.writeFunction&&this.writeFunction(t));B(t)}}}else r[eH++]=192}else if("boolean"===a)r[eH++]=t?195:194;else if("bigint"===a){if(t<BigInt(1)<<BigInt(63)&&t>=-(BigInt(1)<<BigInt(63)))r[eH++]=211,o.setBigInt64(eH,t);else if(t<BigInt(1)<<BigInt(64)&&t>0)r[eH++]=207,o.setBigUint64(eH,t);else if(this.largeBigIntToFloat)r[eH++]=203,o.setFloat64(eH,Number(t));else if(this.largeBigIntToString)return M(t.toString());else if(this.useBigIntExtension&&t<BigInt(2)**BigInt(1023)&&t>-(BigInt(2)**BigInt(1023))){let e;r[eH++]=199,eH++,r[eH++]=66;let n=[];do{let r=t&BigInt(255);e=(r&BigInt(128))===(t<BigInt(0)?BigInt(128):BigInt(0)),n.push(r),t>>=BigInt(8)}while(!((t===BigInt(0)||t===BigInt(-1))&&e))r[eH-2]=n.length;for(let t=n.length;t>0;)r[eH++]=Number(n[--t]);return}else throw RangeError(t+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string");eH+=8}else if("undefined"===a)this.encodeUndefinedAsNil?r[eH++]=192:(r[eH++]=212,r[eH++]=0,r[eH++]=0);else throw Error("Unknown type: "+a)},C=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?t=>{let e,n;if(this.skipValues)for(let n in e=[],t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(n))&&!this.skipValues.includes(t[n])&&e.push(n);else e=Object.keys(t);let i=e.length;if(i<16?r[eH++]=128|i:i<65536?(r[eH++]=222,r[eH++]=i>>8,r[eH++]=255&i):(r[eH++]=223,o.setUint32(eH,i),eH+=4),this.coercibleKeyAsNumber)for(let r=0;r<i;r++){let i=Number(n=e[r]);M(isNaN(i)?n:i),M(t[n])}else for(let r=0;r<i;r++)M(n=e[r]),M(t[n])}:t=>{r[eH++]=222;let e=eH-l;eH+=2;let n=0;for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(M(e),M(t[e]),n++);if(n>65535)throw Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');r[e+++l]=n>>8,r[e+l]=255&n},x=!1===this.useRecords?C:c.progressiveRecords&&!b?t=>{let e,n,i=d.transitions||(d.transitions=Object.create(null)),o=eH++-l;for(let r in t)if("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(r)){if(n=i[r])i=n;else{let s=Object.keys(t),a=i;i=d.transitions;let c=0;for(let t=0,e=s.length;t<e;t++){let e=s[t];!(n=i[e])&&(n=i[e]=Object.create(null),c++),i=n}o+l+1==eH?(eH--,P(i,s,c)):L(i,s,o,c),e=!0,i=a[r]}M(t[r])}if(!e){let e=i[eW];e?r[o+l]=e:L(i,Object.keys(t),o,0)}}:t=>{let e,n=d.transitions||(d.transitions=Object.create(null)),i=0;for(let r in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(r))&&(!(e=n[r])&&(e=n[r]=Object.create(null),i++),n=e);let o=n[eW];for(let e in o?o>=96&&b?(r[eH++]=(31&(o-=96))+96,r[eH++]=o>>5):r[eH++]=o:P(n,n.__keys__||Object.keys(t),i),t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&M(t[e])},I="function"==typeof this.useRecords&&this.useRecords,B=I?t=>{I(t)?x(t):C(t)}:x,O=t=>{let e;if(t>16777216){if(t-l>4294967296)throw Error("Packed buffer would be larger than maximum buffer size");e=Math.min(4294967296,4096*Math.round(Math.max((t-l)*(t>67108864?1.25:2),4194304)/4096))}else e=(Math.max(t-l<<2,r.length-1)>>12)+1<<12;let n=new eG(e);return o=n.dataView||(n.dataView=new DataView(n.buffer,0,e)),t=Math.min(t,r.length),r.copy?r.copy(n,0,l,t):n.set(r.slice(l,t)),eH-=l,l=0,s=n.length-10,r=n},P=(t,e,n)=>{let i=d.nextId;i||(i=64),i<w&&this.shouldShareStructure&&!this.shouldShareStructure(e)?((i=d.nextOwnId)<_||(i=w),d.nextOwnId=i+1):(i>=_&&(i=w),d.nextId=i+1);let o=e.highByte=i>=96&&b?i-96>>5:-1;t[eW]=i,t.__keys__=e,d[i-64]=e,i<w?(e.isShared=!0,d.sharedLength=i-63,u=!0,o>=0?(r[eH++]=(31&i)+96,r[eH++]=o):r[eH++]=i):(o>=0?(r[eH++]=213,r[eH++]=114,r[eH++]=(31&i)+96,r[eH++]=o):(r[eH++]=212,r[eH++]=114,r[eH++]=i),n&&(k+=S*n),E.length>=v&&(E.shift()[eW]=0),E.push(t),M(e))},L=(t,e,n,o)=>{let a=r,c=eH,u=s,d=l;eH=0,l=0,(r=i)||(i=r=new eG(8192)),s=r.length-10,P(t,e,o),i=r;let h=eH;if(r=a,eH=c,s=u,l=d,h>1){let t=eH+h-1;t>s&&O(t);let e=n+l;r.copyWithin(e+h,e+1,eH),r.set(i.slice(0,h),e),eH=t}else r[n+l]=i[0]},R=t=>{let e=a(t,r,l,eH,d,O,(t,e,n)=>{if(n)return u=!0;eH=e;let i=r;return(M(t),T(),i!==r)?{position:eH,targetView:o,target:r}:eH},this);if(0===e)return B(t);eH=e}}useBuffer(t){(r=t).dataView||(r.dataView=new DataView(r.buffer,r.byteOffset,r.byteLength)),eH=0}set position(t){eH=t}get position(){return eH}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}({useRecords:!1});eX.pack,eX.pack;const{NEVER:eJ,ALWAYS:eZ,DECIMAL_ROUND:e0,DECIMAL_FIT:e1}={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},e2=512,e6=1024,e5=2048;(W=tm||(tm={}))[W.rect=0]="rect";const e3=window,e4=["bin"];class e9{socket;canvas;unscaledCanvas;canvasScale={width:0,height:0};actualScreenSize={width:0,height:0};unscaledCtx;ctx;url;connectedToVM=!1;users=[];username=null;mouse=new b;rank=J.Unregistered;perms=new y(0);voteStatus=null;node=null;auth=!1;internalEmitter;publicEmitter;unsubscribeCallbacks=[];constructor(t){this.url=t,this.internalEmitter=g(),this.publicEmitter=g(),this.canvas=document.createElement("canvas"),this.unscaledCanvas=document.createElement("canvas"),this.canvas.tabIndex=-1,this.ctx=this.canvas.getContext("2d"),this.unscaledCtx=this.unscaledCanvas.getContext("2d"),this.canvas.addEventListener("click",t=>{this.users.find(t=>t.username===this.username)?.turn===-1&&this.turn(!0)}),this.canvas.addEventListener("mousedown",t=>{this.shouldSendInput()&&(this.mouse.initFromMouseEvent(t),this.sendmouse(this.mouse.x,this.mouse.y,this.mouse.makeMask()))},{capture:!0}),this.canvas.addEventListener("mouseup",t=>{this.shouldSendInput()&&(this.mouse.initFromMouseEvent(t),this.sendmouse(this.mouse.x,this.mouse.y,this.mouse.makeMask()))},{capture:!0}),this.canvas.addEventListener("mousemove",t=>{this.shouldSendInput()&&(this.mouse.initFromMouseEvent(t),this.sendmouse(this.mouse.x,this.mouse.y,this.mouse.makeMask()))},{capture:!0}),this.canvas.addEventListener("keydown",t=>{if(t.preventDefault(),!this.shouldSendInput())return;let e=w(t.keyCode,t.key,t.location);null!==e&&this.key(e,!0)},{capture:!0}),this.canvas.addEventListener("keyup",t=>{if(t.preventDefault(),!this.shouldSendInput())return;let e=w(t.keyCode,t.key,t.location);null!==e&&this.key(e,!1)},{capture:!0}),this.canvas.addEventListener("wheel",t=>{t.preventDefault(),this.shouldSendInput()&&(this.mouse.initFromWheelEvent(t),this.sendmouse(this.mouse.x,this.mouse.y,this.mouse.makeMask()),this.mouse.scrollUp?this.mouse.scrollUp=!1:this.mouse.scrollDown&&(this.mouse.scrollDown=!1),this.sendmouse(this.mouse.x,this.mouse.y,this.mouse.makeMask()))},{capture:!0}),window.addEventListener("resize",t=>this.onWindowResize(t)),this.canvas.addEventListener("contextmenu",t=>t.preventDefault()),this.socket=new WebSocket(t,"guacamole"),this.socket.binaryType="arraybuffer",this.socket.addEventListener("open",()=>this.onOpen()),this.socket.addEventListener("message",t=>this.onMessage(t)),this.socket.addEventListener("close",()=>this.publicEmitter.emit("close"))}onOpen(){this.internalEmitter.emit("open")}onBinaryMessage(t){let e;try{e=e$(t)}catch{console.error("Server sent invalid binary message");return}if(void 0!==e.type&&e.type===tm.rect){if(!e.rect||void 0===e.rect.x||void 0===e.rect.y||void 0===e.rect.data)return;let t=new Blob([new Uint8Array(e.rect.data)],{type:"image/jpeg"}),n=URL.createObjectURL(t),r=new Image;r.addEventListener("load",()=>{this.loadRectangle(r,e.rect.x,e.rect.y),URL.revokeObjectURL(n)}),r.src=n}}onMessage(t){let e;if(t.data instanceof ArrayBuffer){this.onBinaryMessage(t.data);return}try{e=function(t){let e=-1,n=[];for(;;){let r=t.indexOf(".",e+1);if(-1===r)break;if((e=parseInt(t.slice(e+1,r))+r+1)>t.length)return[];n.push(t.slice(r+1,e));let i=t.slice(e,e+1);if(","!==i){if(";"!==i)return[];break}}return n}(t.data)}catch(t){console.error(`Server sent invalid message (${t})`);return}switch(this.publicEmitter.emit("message",...e),e[0]){case"nop":this.send("nop");break;case"list":this.internalEmitter.emit("list",e.slice(1));break;case"connect":this.connectedToVM="1"===e[1],this.internalEmitter.emit("connect",this.connectedToVM);break;case"size":if("0"!==e[1])return;this.recalculateCanvasScale(parseInt(e[2]),parseInt(e[3])),this.unscaledCanvas.width=this.actualScreenSize.width,this.unscaledCanvas.height=this.actualScreenSize.height,this.canvas.width=this.canvasScale.width,this.canvas.height=this.canvasScale.height;break;case"png":{let t=new Image;var n=parseInt(e[3]),r=parseInt(e[4]);t.addEventListener("load",()=>{this.loadRectangle(t,n,r)}),t.src="data:image/jpeg;base64,"+e[5];break}case"chat":for(let t=1;t<e.length;t+=2)this.publicEmitter.emit("chat",e[t],e[t+1]);break;case"adduser":for(let t=2;t<e.length;t+=2){let n=this.users.find(n=>n.username===e[t]);void 0!==n?n.rank=parseInt(e[t+1]):(n=new v(e[t],parseInt(e[t+1])),this.users.push(n)),this.publicEmitter.emit("adduser",n)}break;case"remuser":for(let t=2;t<e.length;t++){let n=this.users.find(n=>n.username===e[t]);void 0!==n&&(this.users.splice(this.users.indexOf(n),1),this.publicEmitter.emit("remuser",n))}case"rename":{let t=!1,n=null;if("0"===e[1]){switch(t=!0,n=this.username,e[2]){case"1":this.publicEmitter.emit("renamestatus","taken");break;case"2":this.publicEmitter.emit("renamestatus","invalid");break;case"3":this.publicEmitter.emit("renamestatus","blacklisted")}this.username=e[3]}else n=e[2];let r=this.users.find(t=>t.username===n);r&&(r.username=e[3]),this.publicEmitter.emit("rename",n,e[3],t);break}case"turn":{for(let t of this.users)t.turn=-1;let t=parseInt(e[2]);if(0===t){this.publicEmitter.emit("turn",{user:null,queue:[],turnTime:null,queueTime:null});return}let n=this.users.find(t=>t.username===e[3]);n.turn=0;let r=[];if(t>1)for(let n=1;n<t;n++){let t=this.users.find(t=>t.username===e[n+3]);r.push(t),t.turn=n}this.publicEmitter.emit("turn",{user:n,queue:r,turnTime:n.username===this.username?parseInt(e[1]):null,queueTime:r.some(t=>t.username===this.username)?parseInt(e[e.length-1]):null});break}case"vote":switch(e[1]){case"0":case"1":let i=parseInt(e[2]),o=parseInt(e[3]),s=parseInt(e[4]);if(Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(s))return;this.voteStatus={timeToEnd:i,yesVotes:o,noVotes:s},this.publicEmitter.emit("vote",this.voteStatus);break;case"2":this.voteStatus=null,this.publicEmitter.emit("voteend");break;case"3":this.publicEmitter.emit("votecd",parseInt(e[2]))}case"auth":this.publicEmitter.emit("auth",e[1]),this.auth=!0;break;case"login":"1"===e[1]&&(this.rank=J.Registered,this.publicEmitter.emit("login",J.Registered,new y(0))),this.publicEmitter.emit("accountlogin","1"===e[1]);break;case"admin":switch(e[1]){case"0":switch(e[2]){case"0":this.publicEmitter.emit("badpw");return;case"1":this.perms.set(65535),this.rank=J.Admin;break;case"3":this.perms.set(parseInt(e[3])),this.rank=J.Moderator}this.publicEmitter.emit("login",this.rank,this.perms);break;case"19":this.internalEmitter.emit("ip",e[2],e[3]);break;case"2":this.internalEmitter.emit("qemu",e[2])}case"flag":for(let t=1;t<e.length;t+=2){let n=this.users.find(n=>n.username===e[t]);n&&(n.countryCode=e[t+1])}this.publicEmitter.emit("flag")}}loadRectangle(t,e,n){(this.actualScreenSize.width!==this.canvasScale.width||this.actualScreenSize.height!==this.canvasScale.height)&&this.unscaledCtx.drawImage(t,e,n),this.ctx.drawImage(t,0,0,t.width,t.height,e/this.actualScreenSize.width*this.canvas.width,n/this.actualScreenSize.height*this.canvas.height,t.width/this.actualScreenSize.width*this.canvas.width,t.height/this.actualScreenSize.height*this.canvas.height)}onWindowResize(t){this.connectedToVM&&(window.innerWidth>=this.actualScreenSize.width&&this.canvas.width===this.actualScreenSize.width||(this.actualScreenSize.width===this.canvasScale.width&&this.actualScreenSize.height===this.canvasScale.height&&this.unscaledCtx.drawImage(this.canvas,0,0),this.recalculateCanvasScale(this.actualScreenSize.width,this.actualScreenSize.height),this.canvas.width=this.canvasScale.width,this.canvas.height=this.canvasScale.height,this.ctx.drawImage(this.unscaledCanvas,0,0,this.actualScreenSize.width,this.actualScreenSize.height,0,0,this.canvas.width,this.canvas.height)))}recalculateCanvasScale(t,e){this.actualScreenSize.width=t,this.actualScreenSize.height=e,window.innerWidth>=this.actualScreenSize.width?(this.canvasScale.width=this.actualScreenSize.width,this.canvasScale.height=this.actualScreenSize.height):(this.canvasScale.width=window.innerWidth,this.canvasScale.height=window.innerWidth/this.actualScreenSize.width*this.actualScreenSize.height)}async WaitForOpen(){return new Promise(t=>{let e=this.onInternal("open",()=>{e(),t()})})}send(...t){let e=[...t].map(t=>"string"==typeof t?t:t.toString());this.socket.send(function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];e+=r.toString().length+"."+r+(n<t.length-1?",":";")}return e}(...e))}list(){return new Promise((t,e)=>{let n=this.onInternal("list",e=>{n();let r=[];for(let t=0;t<e.length;t+=3){let n=new Image;n.src="data:image/jpeg;base64,"+e[t+2],r.push({url:this.url,id:e[t],displayName:e[t+1],thumbnail:n})}t(r)});this.send("list")})}connect(t,e=null){return new Promise(n=>{let r=this.onInternal("connect",t=>{r(),n(t)});"true"===localStorage.getItem("collabvm-hide-flag")&&this.send("noflag"),null===e?this.send("rename"):this.send("rename",e),e4.length>0&&this.send("cap",...e4),this.send("connect",t),this.node=t})}close(){for(let t of(this.connectedToVM=!1,this.unsubscribeCallbacks))t();this.unsubscribeCallbacks=[],this.socket.readyState===WebSocket.OPEN&&this.socket.close()}getUsers(){return this.users.slice()}chat(t){this.send("chat",t)}rename(t=null){t?this.send("rename",t):this.send("rename")}turn(t){this.send("turn",t?"1":"0")}sendmouse(t,e,n){let r=Math.round(t/this.canvas.width*this.actualScreenSize.width),i=Math.round(e/this.canvas.height*this.actualScreenSize.height);this.send("mouse",r,i,n)}key(t,e){this.send("key",t,e?"1":"0")}getVoteStatus(){return this.voteStatus}vote(t){this.send("vote",t?"1":"0")}login(t){this.send("admin",Z.Login,t)}restore(){this.node&&this.send("admin",Z.Restore,this.node)}reboot(){this.node&&this.send("admin",Z.Reboot,this.node)}clearQueue(){this.node&&this.send("admin",Z.ClearTurns,this.node)}bypassTurn(){this.send("admin",Z.BypassTurn)}endTurn(t){this.send("admin",Z.EndTurn,t)}ban(t){this.send("admin",Z.BanUser,t)}kick(t){this.send("admin",Z.KickUser,t)}renameUser(t,e){this.send("admin",Z.RenameUser,t,e)}mute(t,e){this.send("admin",Z.MuteUser,t,e)}getip(t){return void 0!==this.users.find(e=>e.username===t)&&new Promise(e=>{let n=this.onInternal("ip",(r,i)=>{r===t&&(n(),e(i))});this.send("admin",Z.GetIP,t)})}qemuMonitor(t){return new Promise(e=>{let n=this.onInternal("qemu",t=>{n(),e(t)});this.send("admin",Z.MonitorCommand,this.node,t)})}xss(t){this.send("admin",Z.ChatXSS,t)}forceVote(t){this.send("admin",Z.ForceVote,t?"1":"0")}turns(t){this.send("admin",Z.ToggleTurns,t?"1":"0")}indefiniteTurn(){this.send("admin",Z.IndefiniteTurn)}hideScreen(t){this.send("admin",Z.HideScreen,t?"1":"0")}loginAccount(t){this.send("login",t)}usesAccountAuth(){return this.auth}getNode(){return this.node}onInternal(t,e){return this.internalEmitter.on(t,e)}shouldSendInput(){return this.users.find(t=>t.username===this.username)?.turn===0||e3.collabvm.ghostTurn&&this.rank===J.Admin}on(t,e){let n=this.publicEmitter.on(t,e);return this.unsubscribeCallbacks.push(n),n}}var e8={};e8=JSON.parse('{"SiteNameOverride":null,"WelcomeModalTitleOverride":null,"WelcomeModalBodyOverride":null,"WelcomeModalLocalStorageKey":"no-welcome-modal","ChatSound":"//computernewb.com/collab-vm/notify.ogg","ServerAddresses":["wss://computernewb.com/collab-vm/vm0","wss://computernewb.com/collab-vm/vm1","wss://computernewb.com/collab-vm/vm2","wss://computernewb.com/collab-vm/vm3","wss://computernewb.com/collab-vm/vm4","wss://computernewb.com/collab-vm/vm5","wss://computernewb.com/collab-vm/vm6","wss://computernewb.com/collab-vm/vm7","wss://computernewb.com/collab-vm/vm8","wss://computernewb.com/collab-vm/vm9"],"ServerAddressesListURI":null,"NSFWVMs":["vm0b0t"],"RawMessages":{"VMTitles":true,"Messages":true},"Auth":{"Enabled":true,"APIEndpoint":"https://auth.collabvm.org"}}');var e7={};e7=function(){var t,e,n,r,i,o,s,a,c,l,u,d,h={9306:function(t,e,n){var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},5548:function(t,e,n){var r=n(3517),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},3506:function(t,e,n){var r=n(3925),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},6469:function(t,e,n){var r=n(8227),i=n(2360),o=n(4913).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},7829:function(t,e,n){var r=n(8183).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},8551:function(t,e,n){var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},235:function(t,e,n){var r=n(9213).forEach,i=n(4598)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},7916:function(t,e,n){var r=n(6080),i=n(9565),o=n(8981),s=n(6319),a=n(4209),c=n(3517),l=n(6198),u=n(4659),d=n(81),h=n(851),f=Array;t.exports=function(t){var e=o(t),n=c(this),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,p>2?arguments[2]:void 0));var y,v,b,w,_,E,k=h(e),S=0;if(!k||this===f&&a(k))for(y=l(e),v=n?new this(y):f(y);y>S;S++)E=g?m(e[S],S):e[S],u(v,S,E);else for(v=n?new this:[],_=(w=d(e,k)).next;!(b=i(_,w)).done;S++)E=g?s(w,m,[b.value,S],!0):b.value,u(v,S,E);return v.length=S,v}},9617:function(t,e,n){var r=n(5397),i=n(5610),o=n(6198),s=function(t){return function(e,n,s){var a=r(e),c=o(a);if(0===c)return!t&&-1;var l,u=i(s,c);if(t&&n!=n){for(;c>u;)if((l=a[u++])!=l)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},9213:function(t,e,n){var r=n(6080),i=n(9504),o=n(7055),s=n(8981),a=n(6198),c=n(1469),l=i([].push),u=function(t){var e=1===t,n=2===t,i=3===t,u=4===t,d=6===t,h=7===t,f=5===t||d;return function(p,m,g,y){for(var v,b,w=s(p),_=o(w),E=a(_),k=r(m,g),S=0,T=y||c,A=e?T(p,E):n||h?T(p,0):void 0;E>S;S++)if((f||S in _)&&(b=k(v=_[S],S,w),t)){if(e)A[S]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:l(A,v)}else switch(t){case 4:return!1;case 7:l(A,v)}}return d?-1:i||u?u:A}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},597:function(t,e,n){var r=n(9039),i=n(8227),o=n(9519),s=i("species");t.exports=function(t){return o>=51||!r(function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},4598:function(t,e,n){var r=n(9039);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){return 1},1)})}},926:function(t,e,n){var r=n(9306),i=n(8981),o=n(7055),s=n(6198),a=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,n,l,u){var d=i(e),h=o(d),f=s(d);if(r(n),0===f&&l<2)throw new a(c);var p=t?f-1:0,m=t?-1:1;if(l<2)for(;;){if(p in h){u=h[p],p+=m;break}if(p+=m,t?p<0:f<=p)throw new a(c)}for(;t?p>=0:f>p;p+=m)p in h&&(u=n(u,h[p],p,d));return u}};t.exports={left:l(!1),right:l(!0)}},4527:function(t,e,n){var r=n(3724),i=n(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:function(t,e,n){var r=n(9504);t.exports=r([].slice)},4488:function(t,e,n){var r=n(7680),i=Math.floor,o=function(t,e){var n=t.length;if(n<8)for(var s,a,c=1;c<n;){for(a=c,s=t[c];a&&e(t[a-1],s)>0;)t[a]=t[--a];a!==c++&&(t[a]=s)}else for(var l=i(n/2),u=o(r(t,0,l),e),d=o(r(t,l),e),h=u.length,f=d.length,p=0,m=0;p<h||m<f;)t[p+m]=p<h&&m<f?0>=e(u[p],d[m])?u[p++]:d[m++]:p<h?u[p++]:d[m++];return t};t.exports=o},7433:function(t,e,n){var r=n(4376),i=n(3517),o=n(34),s=n(8227)("species"),a=Array;t.exports=function(t){var e;return r(t)&&(i(e=t.constructor)&&(e===a||r(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0),void 0===e?a:e}},1469:function(t,e,n){var r=n(7433);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},6319:function(t,e,n){var r=n(8551),i=n(9539);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},4428:function(t,e,n){var r=n(8227)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},2195:function(t,e,n){var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},6955:function(t,e,n){var r=n(2140),i=n(4901),o=n(2195),s=n(8227)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},7740:function(t,e,n){var r=n(9297),i=n(5031),o=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=i(e),c=s.f,l=o.f,u=0;u<a.length;u++){var d=a[u];r(t,d)||n&&r(n,d)||c(t,d,l(e,d))}}},1436:function(t,e,n){var r=n(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},2211:function(t,e,n){var r=n(9039);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},2529:function(t){t.exports=function(t,e){return{value:t,done:e}}},6699:function(t,e,n){var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:function(t,e,n){var r=n(3724),i=n(4913),o=n(6980);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},3640:function(t,e,n){var r=n(8551),i=n(4270),o=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},2106:function(t,e,n){var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},6840:function(t,e,n){var r=n(4901),i=n(4913),o=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:e;if(r(n)&&o(n,l,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9433:function(t,e,n){var r=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},4606:function(t,e,n){var r=n(6823),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},3724:function(t,e,n){var r=n(9039);t.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:function(t,e,n){var r=n(4576),i=n(34),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6837:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},7400:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(t,e,n){var r=n(4055)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(t,e,n){var r=n(2839).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},3763:function(t,e,n){var r=n(2839);t.exports=/MSIE|Trident/.test(r)},6193:function(t,e,n){var r=n(4215);t.exports="NODE"===r},2839:function(t,e,n){var r=n(4576).navigator,i=r&&r.userAgent;t.exports=i?String(i):""},9519:function(t,e,n){var r,i,o=n(4576),s=n(2839),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},3607:function(t,e,n){var r=n(2839).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},4215:function(t,e,n){var r=n(4576),i=n(2839),o=n(2195),s=function(t){return i.slice(0,t.length)===t};t.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},6518:function(t,e,n){var r=n(4576),i=n(7347).f,o=n(6699),s=n(6840),a=n(9433),c=n(7740),l=n(2796);t.exports=function(t,e){var n,u,d,h,f,p=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[p]||a(p,{}):r[p]&&r[p].prototype)for(u in e){if(h=e[u],d=t.dontCallGetSet?(f=i(n,u))&&f.value:n[u],!l(m?u:p+(g?".":"#")+u,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),s(n,u,h,t)}}},9039:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9228:function(t,e,n){n(7495);var r=n(9565),i=n(6840),o=n(7323),s=n(9039),a=n(8227),c=n(6699),l=a("species"),u=RegExp.prototype;t.exports=function(t,e,n,d){var h=a(t),f=!s(function(){var e={};return e[h]=function(){return 7},7!==""[t](e)}),p=f&&!s(function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e});if(!f||!p||n){var m=/./[h],g=e(h,""[t],function(t,e,n,i,s){var a=e.exec;return a===o||a===u.exec?f&&!s?{done:!0,value:r(m,e,n,i)}:{done:!0,value:r(t,n,e,i)}:{done:!1}});i(String.prototype,t,g[0]),i(u,h,g[1])}d&&c(u[h],"sham",!0)}},8745:function(t,e,n){var r=n(616),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},6080:function(t,e,n){var r=n(7476),i=n(9306),o=n(616),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,n){var r=n(9039);t.exports=!r(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},9565:function(t,e,n){var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){var r=n(3724),i=n(9297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:a&&"something"===(function(){}).name,CONFIGURABLE:c}},6706:function(t,e,n){var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},7476:function(t,e,n){var r=n(2195),i=n(9504);t.exports=function(t){if("Function"===r(t))return i(t)}},9504:function(t,e,n){var r=n(616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},7751:function(t,e,n){var r=n(4576),i=n(4901);t.exports=function(t,e){var n;return arguments.length<2?i(n=r[t])?n:void 0:r[t]&&r[t][e]}},851:function(t,e,n){var r=n(6955),i=n(5966),o=n(4117),s=n(6269),a=n(8227)("iterator");t.exports=function(t){if(!o(t))return i(t,a)||i(t,"@@iterator")||s[r(t)]}},81:function(t,e,n){var r=n(9565),i=n(9306),o=n(8551),s=n(6823),a=n(851),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(i(n))return o(r(n,t));throw new c(s(t)+" is not iterable")}},6933:function(t,e,n){var r=n(9504),i=n(4376),o=n(4901),s=n(2195),a=n(655),c=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var l=t[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!==s(l)&&"String"!==s(l)||c(n,a(l))}var u=n.length,d=!0;return function(t,e){if(d)return d=!1,e;if(i(this))return e;for(var r=0;r<u;r++)if(n[r]===t)return e}}}},5966:function(t,e,n){var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},2478:function(t,e,n){var r=n(9504),i=n(8981),o=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,d,h){var f=n+t.length,p=r.length,m=u;return void 0!==d&&(d=i(d),m=l),a(h,m,function(i,a){var l;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,f);case"<":l=d[c(a,1,-1)];break;default:var u=+a;if(0===u)return i;if(u>p){var h=o(u/10);return 0===h?i:h<=p?void 0===r[h-1]?s(a,1):r[h-1]+s(a,1):i}l=r[u-1]}return void 0===l?"":l})}},4576:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},421:function(t){t.exports={}},397:function(t,e,n){var r=n(7751);t.exports=r("document","documentElement")},5917:function(t,e,n){var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},7055:function(t,e,n){var r=n(9504),i=n(9039),o=n(2195),s=Object,a=r("".split);t.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(t){return"String"===o(t)?a(t,""):s(t)}:s},3167:function(t,e,n){var r=n(4901),i=n(34),o=n(2967);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},3706:function(t,e,n){var r=n(9504),i=n(4901),o=n(7629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},1181:function(t,e,n){var r,i,o,s=n(8622),a=n(4576),c=n(34),l=n(6699),u=n(9297),d=n(7629),h=n(6119),f=n(421),p="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw new m(p);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var v=h("state");f[v]=!0,r=function(t,e){if(u(t,v))throw new m(p);return e.facade=t,l(t,v,e),e},i=function(t){return u(t,v)?t[v]:{}},o=function(t){return u(t,v)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}}}},4209:function(t,e,n){var r=n(8227),i=n(6269),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},4376:function(t,e,n){var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4901:function(t){var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},3517:function(t,e,n){var r=n(9504),i=n(9039),o=n(4901),s=n(6955),a=n(7751),c=n(3706),l=function(){},u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),f=!d.test(l),p=function(t){if(!o(t))return!1;try{return u(l,[],t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(d,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!u||i(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?m:p},2796:function(t,e,n){var r=n(9039),i=n(4901),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n===u||n!==l&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},2087:function(t,e,n){var r=n(34),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},4117:function(t){t.exports=function(t){return null==t}},34:function(t,e,n){var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3925:function(t,e,n){var r=n(34);t.exports=function(t){return r(t)||null===t}},6395:function(t){t.exports=!1},788:function(t,e,n){var r=n(34),i=n(2195),o=n(8227)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},757:function(t,e,n){var r=n(7751),i=n(4901),o=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},9539:function(t,e,n){var r=n(9565),i=n(8551),o=n(5966);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return i(s),n}},3994:function(t,e,n){var r=n(7657).IteratorPrototype,i=n(2360),o=n(6980),s=n(687),a=n(6269),c=function(){return this};t.exports=function(t,e,n,l){var u=e+" Iterator";return t.prototype=i(r,{next:o(+!l,n)}),s(t,u,!1,!0),a[u]=c,t}},1088:function(t,e,n){var r=n(6518),i=n(9565),o=n(6395),s=n(350),a=n(4901),c=n(3994),l=n(2787),u=n(2967),d=n(687),h=n(6699),f=n(6840),p=n(8227),m=n(6269),g=n(7657),y=s.PROPER,v=s.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),E="keys",k="values",S="entries",T=function(){return this};t.exports=function(t,e,n,s,p,g,A){c(n,e,s);var M,C,x,I=function(t){if(t===p&&R)return R;if(!w&&t&&t in P)return P[t];switch(t){case E:case k:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},B=e+" Iterator",O=!1,P=t.prototype,L=P[_]||P["@@iterator"]||p&&P[p],R=!w&&L||I(p),D="Array"===e&&P.entries||L;if(D&&(M=l(D.call(new t)))!==Object.prototype&&M.next&&(o||l(M)===b||(u?u(M,b):a(M[_])||f(M,_,T)),d(M,B,!0,!0),o&&(m[B]=T)),y&&p===k&&L&&L.name!==k&&(!o&&v?h(P,"name",k):(O=!0,R=function(){return i(L,this)})),p){if(C={values:I(k),keys:g?R:I(E),entries:I(S)},A)for(x in C)!w&&!O&&x in P||f(P,x,C[x]);else r({target:e,proto:!0,forced:w||O},C)}return o&&!A||P[_]===R||f(P,_,R,{name:p}),m[e]=R,C}},7657:function(t,e,n){var r,i,o,s=n(9039),a=n(4901),c=n(34),l=n(2360),u=n(2787),d=n(6840),h=n(8227),f=n(6395),p=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):m=!0),!c(r)||s(function(){var t={};return r[p].call(t)!==t})?r={}:f&&(r=l(r)),a(r[p])||d(r,p,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},6269:function(t){t.exports={}},6198:function(t,e,n){var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){var r=n(9504),i=n(9039),o=n(4901),s=n(9297),a=n(3724),c=n(350).CONFIGURABLE,l=n(3706),u=n(1181),d=u.enforce,h=u.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),y=r([].join),v=a&&!i(function(){return 8!==p(function(){},"length",{value:8}).length}),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),v&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=d(t);return s(r,"source")||(r.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w(function(){return o(this)&&h(this).source||l(this)},"toString")},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},5749:function(t,e,n){var r=n(788),i=TypeError;t.exports=function(t){if(r(t))throw new i("The method doesn't accept regular expressions");return t}},4213:function(t,e,n){var r=n(3724),i=n(9504),o=n(9565),s=n(9039),a=n(1072),c=n(3717),l=n(8773),u=n(8981),d=n(7055),h=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!h||s(function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!==h({},t)[n]||a(h({},e)).join("")!==i})?function(t,e){for(var n=u(t),i=arguments.length,s=1,h=c.f,f=l.f;i>s;)for(var m,g=d(arguments[s++]),y=h?p(a(g),h(g)):a(g),v=y.length,b=0;v>b;)m=y[b++],r&&!o(f,g,m)||(n[m]=g[m]);return n}:h},2360:function(t,e,n){var r,i=n(8551),o=n(6801),s=n(8727),a=n(421),c=n(397),l=n(4055),u=n(6119),d="prototype",h="script",f=u("IE_PROTO"),p=function(){},m=function(t){return"<"+h+">"+t+"</"+h+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&r?g(r):(e=l("iframe"),n="java"+h+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):g(r);for(var t,e,n,i=s.length;i--;)delete y[d][s[i]];return y()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[d]=i(t),n=new p,p[d]=null,n[f]=t):n=y(),void 0===e?n:o.f(n,e)}},6801:function(t,e,n){var r=n(3724),i=n(8686),o=n(4913),s=n(8551),a=n(5397),c=n(1072);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=c(e),l=i.length,u=0;l>u;)o.f(t,n=i[u++],r[n]);return t}},4913:function(t,e,n){var r=n(3724),i=n(5917),o=n(8686),s=n(8551),a=n(6969),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=u(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){var r=n(3724),i=n(9565),o=n(8773),s=n(6980),a=n(5397),c=n(6969),l=n(9297),u=n(5917),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=a(t),e=c(e),u)try{return d(t,e)}catch(t){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},298:function(t,e,n){var r=n(2195),i=n(5397),o=n(8480).f,s=n(7680),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===r(t)?function(t){try{return o(t)}catch(t){return s(a)}}(t):o(i(t))}},8480:function(t,e,n){var r=n(1828),i=n(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},3717:function(t,e){e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){var r=n(9297),i=n(4901),o=n(8981),s=n(6119),a=n(2211),c=s("IE_PROTO"),l=Object,u=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},1625:function(t,e,n){var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){var r=n(9504),i=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);for(;e.length>l;)i(r,n=e[l++])&&(~s(u,n)||c(u,n));return u}},1072:function(t,e,n){var r=n(1828),i=n(8727);t.exports=Object.keys||function(t){return r(t,i)}},8773:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2551:function(t,e,n){var r=n(6395),i=n(4576),o=n(9039),s=n(3607);t.exports=r||!o(function(){if(!(s&&s<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i[t]}})},2967:function(t,e,n){var r=n(6706),i=n(34),o=n(7750),s=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),s(r),i(n)&&(e?t(n,r):n.__proto__=r),n}}():void 0)},3179:function(t,e,n){var r=n(2140),i=n(6955);t.exports=r?({}).toString:function(){return"[object "+i(this)+"]"}},4270:function(t,e,n){var r=n(9565),i=n(4901),o=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t))||i(n=t.valueOf)&&!o(a=r(n,t))||"string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},5031:function(t,e,n){var r=n(7751),i=n(9504),o=n(8480),s=n(3717),a=n(8551),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},9167:function(t,e,n){var r=n(4576);t.exports=r},1056:function(t,e,n){var r=n(4913).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},6682:function(t,e,n){var r=n(9565),i=n(8551),o=n(4901),s=n(2195),a=n(7323),c=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var l=r(n,t,e);return null!==l&&i(l),l}if("RegExp"===s(t))return r(a,t,e);throw new c("RegExp#exec called on incompatible receiver")}},7323:function(t,e,n){var r,i,o=n(9565),s=n(9504),a=n(655),c=n(7979),l=n(8429),u=n(5745),d=n(2360),h=n(1181).get,f=n(3635),p=n(8814),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,v=s("".charAt),b=s("".indexOf),w=s("".replace),_=s("".slice),E=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),k=l.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(E||S||k||f||p)&&(y=function(t){var e,n,r,i,s,l,u,f=h(this),p=a(t),T=f.raw;if(T)return T.lastIndex=this.lastIndex,e=o(y,T,p),this.lastIndex=T.lastIndex,e;var A=f.groups,M=k&&this.sticky,C=o(c,this),x=this.source,I=0,B=p;if(M&&(-1===b(C=w(C,"y",""),"g")&&(C+="g"),B=_(p,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==v(p,this.lastIndex-1))&&(x="(?: "+x+")",B=" "+B,I++),n=RegExp("^(?:"+x+")",C)),S&&(n=RegExp("^"+x+"$(?!\\s)",C)),E&&(r=this.lastIndex),i=o(g,M?n:this,B),M?i?(i.input=_(i.input,I),i[0]=_(i[0],I),i.index=this.lastIndex,this.lastIndex+=i[0].length):this.lastIndex=0:E&&i&&(this.lastIndex=this.global?i.index+i[0].length:r),S&&i&&i.length>1&&o(m,i[0],n,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)}),i&&A)for(i.groups=l=d(null),s=0;s<A.length;s++)l[(u=A[s])[0]]=i[u[1]];return i}),t.exports=y},7979:function(t,e,n){var r=n(8551);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},1034:function(t,e,n){var r=n(9565),i=n(9297),o=n(1625),s=n(7979),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||i(t,"flags")||!o(a,t)?e:r(s,t)}},8429:function(t,e,n){var r=n(9039),i=n(4576).RegExp,o=r(function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),s=o||r(function(){return!i("a","y").sticky}),a=o||r(function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},3635:function(t,e,n){var r=n(9039),i=n(4576).RegExp;t.exports=r(function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})},8814:function(t,e,n){var r=n(9039),i=n(4576).RegExp;t.exports=r(function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},7750:function(t,e,n){var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},7633:function(t,e,n){var r=n(7751),i=n(2106),o=n(8227),s=n(3724),a=o("species");t.exports=function(t){var e=r(t);s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},687:function(t,e,n){var r=n(4913).f,i=n(9297),o=n(8227)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},6119:function(t,e,n){var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7629:function(t,e,n){var r=n(6395),i=n(4576),o=n(9433),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},2293:function(t,e,n){var r=n(8551),i=n(5548),o=n(4117),s=n(8227)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||o(n=r(a)[s])?e:i(n)}},8183:function(t,e,n){var r=n(9504),i=n(1291),o=n(655),s=n(7750),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(t){return function(e,n){var r,u,d=o(s(e)),h=i(n),f=d.length;return h<0||h>=f?t?"":void 0:(r=c(d,h))<55296||r>56319||h+1===f||(u=c(d,h+1))<56320||u>57343?t?a(d,h):r:t?l(d,h,h+2):u-56320+(r-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},706:function(t,e,n){var r=n(350).PROPER,i=n(9039),o=n(7452);t.exports=function(t){return i(function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t})}},3802:function(t,e,n){var r=n(9504),i=n(7750),o=n(655),s=n(7452),a=r("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(t){return function(e){var n=o(i(e));return 1&t&&(n=a(n,c,"")),2&t&&(n=a(n,l,"$1")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},4495:function(t,e,n){var r=n(9519),i=n(9039),o=n(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t) instanceof Symbol)||!Symbol.sham&&r&&r<41})},8242:function(t,e,n){var r=n(9565),i=n(7751),o=n(8227),s=n(6840);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,a=o("toPrimitive");e&&!e[a]&&s(e,a,function(t){return r(n,this)},{arity:1})}},1296:function(t,e,n){var r=n(4495);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},1240:function(t,e,n){var r=n(9504);t.exports=r(1..valueOf)},5610:function(t,e,n){var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5397:function(t,e,n){var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},1291:function(t,e,n){var r=n(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},8014:function(t,e,n){var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},2777:function(t,e,n){var r=n(9565),i=n(34),o=n(757),s=n(5966),a=n(4270),c=n(8227),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=s(t,u);if(c){if(void 0===e&&(e="default"),!i(n=r(c,t,e))||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},2140:function(t,e,n){var r={};r[n(8227)("toStringTag")]="z",t.exports="[object z]"===String(r)},655:function(t,e,n){var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6823:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},3392:function(t,e,n){var r=n(9504),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},7040:function(t,e,n){var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){var r=n(3724),i=n(9039);t.exports=r&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8622:function(t,e,n){var r=n(4576),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},511:function(t,e,n){var r=n(9167),i=n(9297),o=n(1951),s=n(4913).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},1951:function(t,e,n){var r=n(8227);e.f=r},8227:function(t,e,n){var r=n(4576),i=n(5745),o=n(9297),s=n(3392),a=n(4495),c=n(7040),l=r.Symbol,u=i("wks"),d=c?l.for||l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(l,t)?l[t]:d("Symbol."+t)),u[t]}},7452:function(t){t.exports="	\n\v\f\r                　\u2028\u2029\uFEFF"},8706:function(t,e,n){var r=n(6518),i=n(9039),o=n(4376),s=n(34),a=n(8981),c=n(6198),l=n(6837),u=n(4659),d=n(1469),h=n(597),f=n(8227),p=n(9519),m=f("isConcatSpreadable"),g=p>=51||!i(function(){var t=[];return t[m]=!1,t.concat()[0]!==t}),y=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(t){var e,n,r,i,o,s=a(this),h=d(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(y(o=-1===e?s:arguments[e]))for(l(f+(i=c(o))),n=0;n<i;n++,f++)n in o&&u(h,f,o[n]);else l(f+1),u(h,f++,o);return h.length=f,h}})},2008:function(t,e,n){var r=n(6518),i=n(9213).filter;r({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},3418:function(t,e,n){var r=n(6518),i=n(7916);r({target:"Array",stat:!0,forced:!n(4428)(function(t){Array.from(t)})},{from:i})},4423:function(t,e,n){var r=n(6518),i=n(9617).includes,o=n(9039),s=n(6469);r({target:"Array",proto:!0,forced:o(function(){return![,].includes()})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},5276:function(t,e,n){var r=n(6518),i=n(7476),o=n(9617).indexOf,s=n(4598),a=i([].indexOf),c=!!a&&1/a([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!s("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:o(this,t,e)}})},3792:function(t,e,n){var r=n(5397),i=n(6469),o=n(6269),s=n(1181),a=n(4913).f,c=n(1088),l=n(2529),u=n(6395),d=n(3724),h="Array Iterator",f=s.set,p=s.getterFor(h);t.exports=c(Array,"Array",function(t,e){f(this,{type:h,target:r(t),index:0,kind:e})},function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,l(void 0,!0);switch(t.kind){case"keys":return l(n,!1);case"values":return l(e[n],!1)}return l([n,e[n]],!1)},"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},8598:function(t,e,n){var r=n(6518),i=n(9504),o=n(7055),s=n(5397),a=n(4598),c=i([].join);r({target:"Array",proto:!0,forced:o!==Object||!a("join",",")},{join:function(t){return c(s(this),void 0===t?",":t)}})},2062:function(t,e,n){var r=n(6518),i=n(9213).map;r({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2712:function(t,e,n){var r=n(6518),i=n(926).left,o=n(4598),s=n(9519);r({target:"Array",proto:!0,forced:!n(6193)&&s>79&&s<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},4782:function(t,e,n){var r=n(6518),i=n(4376),o=n(3517),s=n(34),a=n(5610),c=n(6198),l=n(5397),u=n(4659),d=n(8227),h=n(597),f=n(7680),p=h("slice"),m=d("species"),g=Array,y=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,d,h=l(this),p=c(h),v=a(t,p),b=a(void 0===e?p:e,p);if(i(h)&&((o(n=h.constructor)&&(n===g||i(n.prototype))||s(n)&&null===(n=n[m]))&&(n=void 0),n===g||void 0===n))return f(h,v,b);for(r=new(void 0===n?g:n)(y(b-v,0)),d=0;v<b;v++,d++)v in h&&u(r,d,h[v]);return r.length=d,r}})},6910:function(t,e,n){var r=n(6518),i=n(9504),o=n(9306),s=n(8981),a=n(6198),c=n(4606),l=n(655),u=n(9039),d=n(4488),h=n(4598),f=n(3709),p=n(3763),m=n(9519),g=n(3607),y=[],v=i(y.sort),b=i(y.push),w=u(function(){y.sort(void 0)}),_=u(function(){y.sort(null)}),E=h("sort"),k=!u(function(){if(m)return m<70;if(!(f&&f>3)){if(p)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:e+r,v:n})}for(y.sort(function(t,e){return e.v-t.v}),r=0;r<y.length;r++)e=y[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});r({target:"Array",proto:!0,forced:w||!_||!E||!k},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(k)return void 0===t?v(e):v(e,t);var n,r,i=[],u=a(e);for(r=0;r<u;r++)r in e&&b(i,e[r]);for(d(i,function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:l(e)>l(n)?1:-1}),n=a(i),r=0;r<n;)e[r]=i[r++];for(;r<u;)c(e,r++);return e}})},4554:function(t,e,n){var r=n(6518),i=n(8981),o=n(5610),s=n(1291),a=n(6198),c=n(4527),l=n(6837),u=n(1469),d=n(4659),h=n(4606),f=n(597)("splice"),p=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,f,g,y,v,b=i(this),w=a(b),_=o(t,w),E=arguments.length;for(0===E?n=r=0:1===E?(n=0,r=w-_):(n=E-2,r=m(p(s(e),0),w-_)),l(w+n-r),f=u(b,r),g=0;g<r;g++)(y=_+g)in b&&d(f,g,b[y]);if(f.length=r,n<r){for(g=_;g<w-r;g++)v=g+n,(y=g+r)in b?b[v]=b[y]:h(b,v);for(g=w;g>w-r+n;g--)h(b,g-1)}else if(n>r)for(g=w-r;g>_;g--)v=g+n-1,(y=g+r-1)in b?b[v]=b[y]:h(b,v);for(g=0;g<n;g++)b[g+_]=arguments[g+2];return c(b,w-r+n),f}})},739:function(t,e,n){var r=n(6518),i=n(9039),o=n(8981),s=n(2777);r({target:"Date",proto:!0,arity:1,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=o(this),n=s(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},9572:function(t,e,n){var r=n(9297),i=n(6840),o=n(3640),s=n(8227)("toPrimitive"),a=Date.prototype;r(a,s)||i(a,s,o)},2010:function(t,e,n){var r=n(3724),i=n(350).EXISTS,o=n(9504),s=n(2106),a=Function.prototype,c=o(a.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec);r&&!i&&s(a,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},3110:function(t,e,n){var r=n(6518),i=n(7751),o=n(8745),s=n(9565),a=n(9504),c=n(9039),l=n(4901),u=n(757),d=n(7680),h=n(6933),f=n(4495),p=String,m=i("JSON","stringify"),g=a(/./.exec),y=a("".charAt),v=a("".charCodeAt),b=a("".replace),w=a(1..toString),_=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,S=!f||c(function(){var t=i("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))}),T=c(function(){return'"\udf06\ud834"'!==m("\udf06\ud834")||'"\udead"'!==m("\udead")}),A=function(t,e){var n=d(arguments),r=h(e);if(l(r)||void 0!==t&&!u(t))return n[1]=function(t,e){if(l(r)&&(e=s(r,this,p(t),e)),!u(e))return e},o(m,null,n)},M=function(t,e,n){var r=y(n,e-1),i=y(n,e+1);return g(E,t)&&!g(k,i)||g(k,t)&&!g(E,r)?"\\u"+w(v(t,0),16):t};m&&r({target:"JSON",stat:!0,arity:3,forced:S||T},{stringify:function(t,e,n){var r=d(arguments),i=o(S?A:m,null,r);return T&&"string"==typeof i?b(i,_,M):i}})},2892:function(t,e,n){var r=n(6518),i=n(6395),o=n(3724),s=n(4576),a=n(9167),c=n(9504),l=n(2796),u=n(9297),d=n(3167),h=n(1625),f=n(757),p=n(2777),m=n(9039),g=n(8480).f,y=n(7347).f,v=n(4913).f,b=n(1240),w=n(3802).trim,_="Number",E=s[_],k=a[_],S=E.prototype,T=s.TypeError,A=c("".slice),M=c("".charCodeAt),C=function(t){var e,n,r,i,o,s,a,c,l=p(t,"number");if(f(l))throw new T("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2){if(43===(e=M(l=w(l),0))||45===e){if(88===(n=M(l,2))||120===n)return NaN}else if(48===e){switch(M(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(s=(o=A(l,2)).length,a=0;a<s;a++)if((c=M(o,a))<48||c>i)return NaN;return parseInt(o,r)}}return+l},x=l(_,!E(" 0o1")||!E("0b1")||E("+0x1")),I=function(t){var e,n,r=arguments.length<1?0:E("bigint"==typeof(e=p(t,"number"))?e:C(e));return h(S,n=this)&&m(function(){b(n)})?d(Object(r),this,I):r};I.prototype=S,x&&!i&&(S.constructor=I),r({global:!0,constructor:!0,wrap:!0,forced:x},{Number:I});var B=function(t,e){for(var n,r=o?g(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)u(e,n=r[i])&&!u(t,n)&&v(t,n,y(e,n))};i&&k&&B(a[_],k),(x||i)&&B(a[_],E)},2637:function(t,e,n){n(6518)({target:"Number",stat:!0},{isInteger:n(2087)})},9085:function(t,e,n){var r=n(6518),i=n(4213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},7427:function(t,e,n){var r=n(6518),i=n(3724),o=n(2551),s=n(9306),a=n(8981),c=n(4913);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){c.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},3851:function(t,e,n){var r=n(6518),i=n(9039),o=n(5397),s=n(7347).f,a=n(3724);r({target:"Object",stat:!0,forced:!a||i(function(){s(1)}),sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},1278:function(t,e,n){var r=n(6518),i=n(3724),o=n(5031),s=n(5397),a=n(7347),c=n(4659);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=s(t),i=a.f,l=o(r),u={},d=0;l.length>d;)void 0!==(n=i(r,e=l[d++]))&&c(u,e,n);return u}})},1480:function(t,e,n){var r=n(6518),i=n(9039),o=n(298).f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},9773:function(t,e,n){var r=n(6518),i=n(4495),o=n(9039),s=n(3717),a=n(8981);r({target:"Object",stat:!0,forced:!i||o(function(){s.f(1)})},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},9432:function(t,e,n){var r=n(6518),i=n(8981),o=n(1072);r({target:"Object",stat:!0,forced:n(9039)(function(){o(1)})},{keys:function(t){return o(i(t))}})},6099:function(t,e,n){var r=n(2140),i=n(6840),o=n(3179);r||i(Object.prototype,"toString",o,{unsafe:!0})},4864:function(t,e,n){var r=n(3724),i=n(4576),o=n(9504),s=n(2796),a=n(3167),c=n(6699),l=n(2360),u=n(8480).f,d=n(1625),h=n(788),f=n(655),p=n(1034),m=n(8429),g=n(1056),y=n(6840),v=n(9039),b=n(9297),w=n(1181).enforce,_=n(7633),E=n(8227),k=n(3635),S=n(8814),T=E("match"),A=i.RegExp,M=A.prototype,C=i.SyntaxError,x=o(M.exec),I=o("".charAt),B=o("".replace),O=o("".indexOf),P=o("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,D=/a/g,N=new A(R)!==R,U=m.MISSED_STICKY,V=m.UNSUPPORTED_Y;if(s("RegExp",r&&(!N||U||k||S||v(function(){return D[T]=!1,A(R)!==R||A(D)===D||"/a/i"!==String(A(R,"i"))})))){for(var j=function(t,e){var n,r,i,o,s,u,m=d(M,this),g=h(t),y=void 0===e,v=[],_=t;if(!m&&g&&y&&t.constructor===j)return t;if((g||d(M,t))&&(t=t.source,y&&(e=p(_))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),_=t,k&&("dotAll"in R)&&(r=!!e&&O(e,"s")>-1)&&(e=B(e,/s/g,"")),n=e,U&&("sticky"in R)&&(i=!!e&&O(e,"y")>-1)&&V&&(e=B(e,/y/g,"")),S&&(t=(o=function(t){for(var e,n=t.length,r=0,i="",o=[],s=l(null),a=!1,c=!1,u=0,d="";r<=n;r++){if("\\"===(e=I(t,r)))e+=I(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:if(i+=e,"?:"===P(t,r+1,r+3))continue;x(L,P(t,r+1))&&(r+=2,c=!0),u++;continue;case">"===e&&c:if(""===d||b(s,d))throw new C("Invalid capture group name");s[d]=!0,o[o.length]=[d,u],c=!1,d="";continue}c?d+=e:i+=e}return[i,o]}(t))[0],v=o[1]),s=a(A(t,e),m?this:M,j),(r||i||v.length)&&(u=w(s),r&&(u.dotAll=!0,u.raw=j(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=I(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+I(t,++r);return i}(t),n)),i&&(u.sticky=!0),v.length&&(u.groups=v)),t!==_)try{c(s,"source",""===_?"(?:)":_)}catch(t){}return s},F=u(A),$=0;F.length>$;)g(j,A,F[$++]);M.constructor=j,j.prototype=M,y(i,"RegExp",j,{constructor:!0})}_("RegExp")},7495:function(t,e,n){var r=n(6518),i=n(7323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8781:function(t,e,n){var r=n(350).PROPER,i=n(6840),o=n(8551),s=n(655),a=n(9039),c=n(1034),l="toString",u=RegExp.prototype,d=u[l],h=a(function(){return"/a/b"!==d.call({source:"a",flags:"b"})}),f=r&&d.name!==l;(h||f)&&i(u,l,function(){var t=o(this);return"/"+s(t.source)+"/"+s(c(t))},{unsafe:!0})},1699:function(t,e,n){var r=n(6518),i=n(9504),o=n(5749),s=n(7750),a=n(655),c=n(1436),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},7764:function(t,e,n){var r=n(8183).charAt,i=n(655),o=n(1181),s=n(1088),a=n(2529),c="String Iterator",l=o.set,u=o.getterFor(c);s(String,"String",function(t){l(this,{type:c,string:i(t),index:0})},function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?a(void 0,!0):(t=r(n,i),e.index+=t.length,a(t,!1))})},8543:function(t,e,n){var r=n(6518),i=n(9565),o=n(7476),s=n(3994),a=n(2529),c=n(7750),l=n(8014),u=n(655),d=n(8551),h=n(4117),f=n(2195),p=n(788),m=n(1034),g=n(5966),y=n(6840),v=n(9039),b=n(8227),w=n(2293),_=n(7829),E=n(6682),k=n(1181),S=n(6395),T=b("matchAll"),A="RegExp String",M=A+" Iterator",C=k.set,x=k.getterFor(M),I=RegExp.prototype,B=TypeError,O=o("".indexOf),P=o("".matchAll),L=!!P&&!v(function(){P("a",/./)}),R=s(function(t,e,n,r){C(this,{type:M,regexp:t,string:e,global:n,unicode:r,done:!1})},A,function(){var t=x(this);if(t.done)return a(void 0,!0);var e=t.regexp,n=t.string,r=E(e,n);return null===r?(t.done=!0,a(void 0,!0)):(t.global?""===u(r[0])&&(e.lastIndex=_(n,l(e.lastIndex),t.unicode)):t.done=!0,a(r,!1))}),D=function(t){var e,n,r,i=d(this),o=u(t),s=w(i,RegExp),a=u(m(i));return e=new s(s===RegExp?i.source:i,a),n=!!~O(a,"g"),r=!!~O(a,"u"),e.lastIndex=l(i.lastIndex),new R(e,o,n,r)};r({target:"String",proto:!0,forced:L},{matchAll:function(t){var e,n,r,o=c(this);if(h(t)){if(L)return P(o,t)}else{if(p(t)&&!~O(u(c(m(t))),"g"))throw new B("`.matchAll` does not allow non-global regexes");if(L)return P(o,t);if(void 0===(n=g(t,T))&&S&&"RegExp"===f(t)&&(n=D),n)return i(n,t,o)}return e=u(o),r=RegExp(t,"g"),S?i(D,r,e):r[T](e)}}),S||T in I||y(I,T,D)},1761:function(t,e,n){var r=n(9565),i=n(9228),o=n(8551),s=n(4117),a=n(8014),c=n(655),l=n(7750),u=n(5966),d=n(7829),h=n(6682);i("match",function(t,e,n){return[function(e){var n=l(this),i=s(e)?void 0:u(e,t);return i?r(i,e,n):new RegExp(e)[t](c(n))},function(t){var r=o(this),i=c(t),s=n(e,r,i);if(s.done)return s.value;if(!r.global)return h(r,i);var l=r.unicode;r.lastIndex=0;for(var u,f=[],p=0;null!==(u=h(r,i));){var m=c(u[0]);f[p]=m,""===m&&(r.lastIndex=d(i,a(r.lastIndex),l)),p++}return 0===p?null:f}]})},5440:function(t,e,n){var r=n(8745),i=n(9565),o=n(9504),s=n(9228),a=n(9039),c=n(8551),l=n(4901),u=n(4117),d=n(1291),h=n(8014),f=n(655),p=n(7750),m=n(7829),g=n(5966),y=n(2478),v=n(6682),b=n(8227)("replace"),w=Math.max,_=Math.min,E=o([].concat),k=o([].push),S=o("".indexOf),T=o("".slice),A="$0"==="a".replace(/./,"$0"),M=!!/./[b]&&""===/./[b]("a","$0");s("replace",function(t,e,n){var o=M?"$":"$0";return[function(t,n){var r=p(this),o=u(t)?void 0:g(t,b);return o?i(o,t,r,n):i(e,f(r),t,n)},function(t,i){var s=c(this),a=f(t);if("string"==typeof i&&-1===S(i,o)&&-1===S(i,"$<")){var u=n(e,s,a,i);if(u.done)return u.value}var p=l(i);p||(i=f(i));var g,b=s.global;b&&(g=s.unicode,s.lastIndex=0);for(var A,M=[];null!==(A=v(s,a))&&(k(M,A),b);)""===f(A[0])&&(s.lastIndex=m(a,h(s.lastIndex),g));for(var C,x="",I=0,B=0;B<M.length;B++){for(var O,P=f((A=M[B])[0]),L=w(_(d(A.index),a.length),0),R=[],D=1;D<A.length;D++)k(R,void 0===(C=A[D])?C:String(C));var N=A.groups;if(p){var U=E([P],R,L,a);void 0!==N&&k(U,N),O=f(r(i,void 0,U))}else O=y(P,a,L,R,N,i);L>=I&&(x+=T(a,I,L)+O,I=L+P.length)}return x+T(a,I)}]},!!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!A||M)},744:function(t,e,n){var r=n(9565),i=n(9504),o=n(9228),s=n(8551),a=n(4117),c=n(7750),l=n(2293),u=n(7829),d=n(8014),h=n(655),f=n(5966),p=n(6682),m=n(8429),g=n(9039),y=m.UNSUPPORTED_Y,v=Math.min,b=i([].push),w=i("".slice),_=!g(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),E="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",function(t,e,n){var i="0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:r(e,this,t,n)}:e;return[function(e,n){var o=c(this),s=a(e)?void 0:f(e,t);return s?r(s,e,o,n):r(i,h(o),e,n)},function(t,r){var o=s(this),a=h(t);if(!E){var c=n(i,o,a,r,i!==e);if(c.done)return c.value}var f=l(o,RegExp),m=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(y?"g":"y"),_=new f(y?"^(?:"+o.source+")":o,g),k=void 0===r?4294967295:r>>>0;if(0===k)return[];if(0===a.length)return null===p(_,a)?[a]:[];for(var S=0,T=0,A=[];T<a.length;){_.lastIndex=y?0:T;var M,C=p(_,y?w(a,T):a);if(null===C||(M=v(d(_.lastIndex+(y?T:0)),a.length))===S)T=u(a,T,m);else{if(b(A,w(a,S,T)),A.length===k)return A;for(var x=1;x<=C.length-1;x++)if(b(A,C[x]),A.length===k)return A;T=S=M}}return b(A,w(a,S)),A}]},E||!_,y)},2762:function(t,e,n){var r=n(6518),i=n(3802).trim;r({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return i(this)}})},6761:function(t,e,n){var r=n(6518),i=n(4576),o=n(9565),s=n(9504),a=n(6395),c=n(3724),l=n(4495),u=n(9039),d=n(9297),h=n(1625),f=n(8551),p=n(5397),m=n(6969),g=n(655),y=n(6980),v=n(2360),b=n(1072),w=n(8480),_=n(298),E=n(3717),k=n(7347),S=n(4913),T=n(6801),A=n(8773),M=n(6840),C=n(2106),x=n(5745),I=n(6119),B=n(421),O=n(3392),P=n(8227),L=n(1951),R=n(511),D=n(8242),N=n(687),U=n(1181),V=n(9213).forEach,j=I("hidden"),F="Symbol",$="prototype",G=U.set,H=U.getterFor(F),K=Object[$],z=i.Symbol,W=z&&z[$],q=i.RangeError,Y=i.TypeError,Q=i.QObject,X=k.f,J=S.f,Z=_.f,tt=A.f,te=s([].push),tn=x("symbols"),tr=x("op-symbols"),ti=x("wks"),to=!Q||!Q[$]||!Q[$].findChild,ts=function(t,e,n){var r=X(K,e);r&&delete K[e],J(t,e,n),r&&t!==K&&J(K,e,r)},ta=c&&u(function(){return 7!==v(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?ts:J,tc=function(t,e){var n=tn[t]=v(W);return G(n,{type:F,tag:t,description:e}),c||(n.description=e),n},tl=function(t,e,n){t===K&&tl(tr,e,n),f(t);var r=m(e);return f(n),d(tn,r)?(n.enumerable?(d(t,j)&&t[j][r]&&(t[j][r]=!1),n=v(n,{enumerable:y(0,!1)})):(d(t,j)||J(t,j,y(1,v(null))),t[j][r]=!0),ta(t,r,n)):J(t,r,n)},tu=function(t,e){f(t);var n=p(e);return V(b(n).concat(tp(n)),function(e){c&&!o(td,n,e)||tl(t,e,n[e])}),t},td=function(t){var e=m(t),n=o(tt,this,e);return!(this===K&&d(tn,e)&&!d(tr,e))&&(!(n||!d(this,e)||!d(tn,e)||d(this,j)&&this[j][e])||n)},th=function(t,e){var n=p(t),r=m(e);if(n!==K||!d(tn,r)||d(tr,r)){var i=X(n,r);return!i||!d(tn,r)||d(n,j)&&n[j][r]||(i.enumerable=!0),i}},tf=function(t){var e=Z(p(t)),n=[];return V(e,function(t){d(tn,t)||d(B,t)||te(n,t)}),n},tp=function(t){var e=t===K,n=Z(e?tr:p(t)),r=[];return V(n,function(t){d(tn,t)&&(!e||d(K,t))&&te(r,tn[t])}),r};l||(M(W=(z=function(){if(h(W,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=O(t),n=function(t){var r=void 0===this?i:this;r===K&&o(n,tr,t),d(r,j)&&d(r[j],e)&&(r[j][e]=!1);var s=y(1,t);try{ta(r,e,s)}catch(t){if(!(t instanceof q))throw t;ts(r,e,s)}};return c&&to&&ta(K,e,{configurable:!0,set:n}),tc(e,t)})[$],"toString",function(){return H(this).tag}),M(z,"withoutSetter",function(t){return tc(O(t),t)}),A.f=td,S.f=tl,T.f=tu,k.f=th,w.f=_.f=tf,E.f=tp,L.f=function(t){return tc(P(t),t)},c&&(C(W,"description",{configurable:!0,get:function(){return H(this).description}}),a||M(K,"propertyIsEnumerable",td,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:z}),V(b(ti),function(t){R(t)}),r({target:F,stat:!0,forced:!l},{useSetter:function(){to=!0},useSimple:function(){to=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?v(t):tu(v(t),e)},defineProperty:tl,defineProperties:tu,getOwnPropertyDescriptor:th}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:tf}),D(),N(z,F),B[j]=!0},9463:function(t,e,n){var r=n(6518),i=n(3724),o=n(4576),s=n(9504),a=n(9297),c=n(4901),l=n(1625),u=n(655),d=n(2106),h=n(7740),f=o.Symbol,p=f&&f.prototype;if(i&&c(f)&&(!("description"in p)||void 0!==f().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(m[e]=!0),e};h(g,f),g.prototype=p,p.constructor=g;var y="Symbol(description detection)"===String(f("description detection")),v=s(p.valueOf),b=s(p.toString),w=/^Symbol\((.*)\)[^)]+$/,_=s("".replace),E=s("".slice);d(p,"description",{configurable:!0,get:function(){var t=v(this);if(a(m,t))return"";var e=b(t),n=y?E(e,7,-1):_(e,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},1510:function(t,e,n){var r=n(6518),i=n(7751),o=n(9297),s=n(655),a=n(5745),c=n(1296),l=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=s(t);if(o(l,e))return l[e];var n=i("Symbol")(e);return l[e]=n,u[n]=e,n}})},2259:function(t,e,n){n(511)("iterator")},2675:function(t,e,n){n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(t,e,n){var r=n(6518),i=n(9297),o=n(757),s=n(6823),a=n(5745),c=n(1296),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw TypeError(s(t)+" is not a symbol");if(i(l,t))return l[t]}})},5700:function(t,e,n){var r=n(511),i=n(8242);r("toPrimitive"),i()},8344:function(t,e,n){n(8543)},3500:function(t,e,n){var r=n(4576),i=n(7400),o=n(9296),s=n(235),a=n(6699),c=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var l in i)i[l]&&c(r[l]&&r[l].prototype);c(o)},2953:function(t,e,n){var r=n(4576),i=n(7400),o=n(9296),s=n(3792),a=n(6699),c=n(687),l=n(8227)("iterator"),u=s.values,d=function(t,e){if(t){if(t[l]!==u)try{a(t,l,u)}catch(e){t[l]=u}if(c(t,e,!0),i[e]){for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(e){t[n]=s[n]}}}};for(var h in i)d(r[h]&&r[h].prototype,h);d(o,"DOMTokenList")}},f={};function p(t){var e=f[t];if(void 0!==e)return e.exports;var n=f[t]={exports:{}};return h[t].call(n.exports,n,n.exports,p),n.exports}p.d=function(t,e){for(var n in e)p.o(e,n)&&!p.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),p.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var m={};function g(t,e){if(t){if("string"==typeof t)return y(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function w(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}p.r(m),p.d(m,{SimpleKeyboard:function(){return j},default:function(){return F}}),p(5276),p(8598),p(4782),p(4554),p(2010),p(7427),p(6099),p(7495),p(8781),p(5440),p(744),p(2762),"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){if("Element"in t){var e="classList",n="prototype",r=t.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return -1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","The token must not contain space characters.");return s.call(t,e)},l=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],d=function(){return new l(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~c(this,t+"")},u.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do~c(this,t=e[n]+"")||(this.push(t),i=!0);while(++n<r)i&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do for(e=c(this,t=n[r]+"");~e;)this.splice(e,1),o=!0,e=c(this,t);while(++r<i)o&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},u.replace=function(t,e){var n=c(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},i.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,h)}catch(t){void 0!==t.number&&-2146823252!==t.number||(h.enumerable=!1,i.defineProperty(r,e,h))}}else i[n].__defineGetter__&&r.__defineGetter__(e,d)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),r=n.indexOf(t+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),p(2675),p(9463),p(2259),p(5700),p(8706),p(2008),p(3418),p(4423),p(3792),p(2062),p(6910),p(739),p(9572),p(2892),p(9085),p(3851),p(1278),p(9432),p(4864),p(1699),p(7764),p(8344),p(3500),p(2953),p(2712),p(2637),p(1480),p(1761);var E=(t=function t(e){var n=e.getOptions,r=e.getCaretPosition,i=e.getCaretPositionEnd,o=e.dispatch;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),w(this,"getOptions",void 0),w(this,"getCaretPosition",void 0),w(this,"getCaretPositionEnd",void 0),w(this,"dispatch",void 0),w(this,"maxLengthReached",void 0),w(this,"isStandardButton",function(t){return t&&!("{"===t[0]&&"}"===t[t.length-1])}),this.getOptions=n,this.getCaretPosition=r,this.getCaretPositionEnd=i,this.dispatch=o,t.bindMethods(t,this)},e=[{key:"getButtonType",value:function(t){return t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(t){var e=this.getButtonType(t),n=t.replace("{","").replace("}",""),r="";return"standardBtn"!==e&&(r=" hg-button-".concat(n)),"hg-".concat(e).concat(r)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e){return(e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.getOptions(),s=[n,r,i],a=e;return("{bksp}"===t||"{backspace}"===t)&&a.length>0?a=this.removeAt.apply(this,[a].concat(s)):("{delete}"===t||"{forwarddelete}"===t)&&a.length>0?a=this.removeForwardsAt.apply(this,[a].concat(s)):"{space}"===t?a=this.addStringAt.apply(this,[a," "].concat(s)):"{tab}"!==t||"boolean"==typeof o.tabCharOnTab&&!1===o.tabCharOnTab?("{enter}"===t||"{numpadenter}"===t)&&o.newLineOnEnter?a=this.addStringAt.apply(this,[a,"\n"].concat(s)):t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?a=this.addStringAt.apply(this,[a,t[t.length-2]].concat(s)):"{numpaddivide}"===t?a=this.addStringAt.apply(this,[a,"/"].concat(s)):"{numpadmultiply}"===t?a=this.addStringAt.apply(this,[a,"*"].concat(s)):"{numpadsubtract}"===t?a=this.addStringAt.apply(this,[a,"-"].concat(s)):"{numpadadd}"===t?a=this.addStringAt.apply(this,[a,"+"].concat(s)):"{numpaddecimal}"===t?a=this.addStringAt.apply(this,[a,"."].concat(s)):"{"===t||"}"===t?a=this.addStringAt.apply(this,[a,t].concat(s)):t.includes("{")||t.includes("}")||(a=this.addStringAt.apply(this,[a,t].concat(s))):a=this.addStringAt.apply(this,[a,"	"].concat(s)),o.debug&&console.log("Input will be: "+a),a}},{key:"updateCaretPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.updateCaretPosAction(t,e);this.dispatch(function(t){t.setCaretPosition(n)})}},{key:"updateCaretPosAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOptions(),r=this.getCaretPosition();return null!=r&&(e?r>0&&(r-=t):r+=t),n.debug&&console.log("Caret at:",r),r}},{key:"addStringAt",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r||0===r?(n=[t.slice(0,r),e,t.slice(i)].join(""),this.isMaxLengthReached()||o&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===r)return t;if(n===r){var o=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(o)?(e=t.substr(0,n-2)+t.substr(n),i&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),i&&this.updateCaretPos(1,!0)):t.slice(-2).match(o)?(e=t.slice(0,-2),i&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),i&&this.updateCaretPos(1,!0))}else e=t.slice(0,n)+t.slice(r),i&&this.dispatch(function(t){t.setCaretPosition(n)});return e}},{key:"removeForwardsAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null!=t&&t.length&&null!==n?(n===r?e=t.substring(n,n+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?t.substr(0,n)+t.substr(n+2):t.substr(0,n)+t.substr(n+1):(e=t.slice(0,n)+t.slice(r),i&&this.dispatch(function(t){t.setCaretPosition(n)})),e):t}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),r=n.maxLength,i=t[n.inputName||"default"],o=e.length-1>=r;if(e.length<=i.length)return!1;if(Number.isInteger(r))return n.debug&&console.log("maxLength (num) reached:",o),o?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===v(r)){var s=e.length-1>=r[n.inputName||"default"];return n.debug&&console.log("maxLength (obj) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(t){return t?t.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t}):""}},{key:"chunkArray",value:function(t,e){var n;return((function(t){if(Array.isArray(t))return y(t)})(n=Array(Math.ceil(t.length/e)))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||g(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(n,r){return t.slice(e*r,e+e*r)})}},{key:"escapeRegex",value:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(t,e){var n=t,r=e.indexOf("‫");return r<t&&-1!=r&&n--,e.indexOf("‬")<t&&-1!=r&&n--,n<0?0:n}}],n=[{key:"bindMethods",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(Object.getOwnPropertyNames(t.prototype));try{for(r.s();!(n=r.n()).done;){var i=n.value;"constructor"===i||"bindMethods"===i||(e[i]=e[i].bind(e))}}catch(t){r.e(t)}finally{r.f()}}}],e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A(r.key),r)}}function T(t,e,n){return(e=A(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}w(E,"noop",function(){});var M=(r=function t(e){var n=this,r=e.dispatch,i=e.getOptions;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),T(this,"getOptions",void 0),T(this,"dispatch",void 0),T(this,"isModifierKey",function(t){return t.altKey||t.ctrlKey||t.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.code||t.key||n.keyCodeToKey(null==t?void 0:t.keyCode))}),this.dispatch=r,this.getOptions=i,E.bindMethods(t,this)},i=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions();e.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(t)&&(t.preventDefault(),t.stopImmediatePropagation());var n=this.getSimpleKeyboardLayoutKey(t);this.dispatch(function(r){var i,o,s,a=r.getButtonElement(n),c=r.getButtonElement("{".concat(n,"}"));if(a)o=a,s=n;else{if(!c)return;o=c,s="{".concat(n,"}")}var l,u,d,h,f=function(t){t.style.background=e.physicalKeyboardHighlightBgColor||"#dadce4",t.style.color=e.physicalKeyboardHighlightTextColor||"black"};o&&(Array.isArray(o)?(o.forEach(function(t){return f(t)}),e.physicalKeyboardHighlightPress&&(e.physicalKeyboardHighlightPressUsePointerEvents?null===(l=o[0])||void 0===l||null===(u=l.onpointerdown)||void 0===u||u.call(l,t):e.physicalKeyboardHighlightPressUseClick?null===(i=o[0])||void 0===i||i.click():r.handleButtonClicked(s,t))):(f(o),e.physicalKeyboardHighlightPress&&(e.physicalKeyboardHighlightPressUsePointerEvents?null===(d=o)||void 0===d||null===(h=d.onpointerdown)||void 0===h||h.call(d,t):e.physicalKeyboardHighlightPressUseClick?o.click():r.handleButtonClicked(s,t))))})}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getOptions();e.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(t)&&(t.preventDefault(),t.stopImmediatePropagation());var n=this.getSimpleKeyboardLayoutKey(t);this.dispatch(function(r){var i,o,s,a=r.getButtonElement(n)||r.getButtonElement("{".concat(n,"}")),c=function(t){t.removeAttribute&&t.removeAttribute("style")};a&&(Array.isArray(a)?(a.forEach(function(t){return c(t)}),e.physicalKeyboardHighlightPressUsePointerEvents&&(null===(i=a[0])||void 0===i||null===(o=i.onpointerup)||void 0===o||o.call(i,t))):(c(a),e.physicalKeyboardHighlightPressUsePointerEvents&&(null==a||null===(s=a.onpointerup)||void 0===s||s.call(a,t))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e,n="",r=t.code||t.key||this.keyCodeToKey(null==t?void 0:t.keyCode);return(n=null!=r&&r.includes("Numpad")||null!=r&&r.includes("Shift")||null!=r&&r.includes("Space")||null!=r&&r.includes("Backspace")||null!=r&&r.includes("Control")||null!=r&&r.includes("Alt")||null!=r&&r.includes("Meta")?t.code||"":t.key||this.keyCodeToKey(null==t?void 0:t.keyCode)||"").length>1?null===(e=n)||void 0===e?void 0:e.toLowerCase():n}},{key:"keyCodeToKey",value:function(t){return({8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"})[t]||""}}],S(r.prototype,i),o&&S(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B(r.key),r)}}function I(t,e,n){return(e=B(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}var O=(s=function t(e){var n=e.utilities,r=e.options;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),I(this,"utilities",void 0),I(this,"options",void 0),I(this,"candidateBoxElement",void 0),I(this,"pageIndex",0),I(this,"pageSize",void 0),this.utilities=n,this.options=r,E.bindMethods(t,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},a=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(t){var e=this,n=t.candidateValue,r=t.targetElement,i=t.onSelect;if(n&&n.length){var o=this.utilities.chunkArray(n.split(" "),this.pageSize);this.renderPage({candidateListPages:o,targetElement:r,pageIndex:this.pageIndex,nbPages:o.length,onItemSelected:function(t,n){i(t,n),e.destroy()}})}}},{key:"renderPage",value:function(t){var e,n=this,r=t.candidateListPages,i=t.targetElement,o=t.pageIndex,s=t.nbPages,a=t.onItemSelected;null===(e=this.candidateBoxElement)||void 0===e||e.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var c=document.createElement("ul");c.className="hg-candidate-box-list",r[o].forEach(function(t){var e,r=document.createElement("li"),i=function(){var t=new(n.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(t,"target",{value:r}),t};r.className="hg-candidate-box-list-item",r.innerHTML=(null===(e=n.options.display)||void 0===e?void 0:e[t])||t,n.options.useTouchEvents?r.ontouchstart=function(e){return a(t,e||i())}:r.onclick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return a(t,e)},c.appendChild(r)});var l=o>0,u=document.createElement("div");u.classList.add("hg-candidate-box-prev"),l&&u.classList.add("hg-candidate-box-btn-active");var d=function(){l&&n.renderPage({candidateListPages:r,targetElement:i,pageIndex:o-1,nbPages:s,onItemSelected:a})};this.options.useTouchEvents?u.ontouchstart=d:u.onclick=d,this.candidateBoxElement.appendChild(u),this.candidateBoxElement.appendChild(c);var h=o<s-1,f=document.createElement("div");f.classList.add("hg-candidate-box-next"),h&&f.classList.add("hg-candidate-box-btn-active");var p=function(){h&&n.renderPage({candidateListPages:r,targetElement:i,pageIndex:o+1,nbPages:s,onItemSelected:a})};this.options.useTouchEvents?f.ontouchstart=p:f.onclick=p,this.candidateBoxElement.appendChild(f),i.prepend(this.candidateBoxElement)}}],x(s.prototype,a),c&&x(s,c),Object.defineProperty(s,"prototype",{writable:!1}),s);function P(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return L(t,void 0);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V(r.key),r)}}function U(t,e,n){return(e=V(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=R(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R(e)?e:e+""}var j=(l=function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t),U(this,"input",void 0),U(this,"options",void 0),U(this,"utilities",void 0),U(this,"caretPosition",void 0),U(this,"caretPositionEnd",void 0),U(this,"keyboardDOM",void 0),U(this,"keyboardPluginClasses",void 0),U(this,"keyboardDOMClass",void 0),U(this,"buttonElements",void 0),U(this,"currentInstanceName",void 0),U(this,"allKeyboardInstances",void 0),U(this,"keyboardInstanceNames",void 0),U(this,"isFirstKeyboardInstance",void 0),U(this,"physicalKeyboard",void 0),U(this,"modules",void 0),U(this,"activeButtonClass",void 0),U(this,"holdInteractionTimeout",void 0),U(this,"holdTimeout",void 0),U(this,"isMouseHold",void 0),U(this,"initialized",void 0),U(this,"candidateBox",void 0),U(this,"keyboardRowsDOM",void 0),U(this,"defaultName","default"),U(this,"activeInputElement",null),U(this,"handleParams",function(t,e){var n,r,i;if("string"==typeof t)n=t.split(".").join(""),r=document.querySelector(".".concat(n)),i=e;else if(t instanceof HTMLDivElement){if(!t.className)throw console.warn("Any DOM element passed as parameter must have a class."),Error("KEYBOARD_DOM_CLASS_ERROR");n=t.className.split(" ")[0],r=t,i=e}else n="simple-keyboard",r=document.querySelector(".".concat(n)),i=t;return{keyboardDOMClass:n,keyboardDOM:r,options:i}}),U(this,"getOptions",function(){return r.options}),U(this,"getCaretPosition",function(){return r.caretPosition}),U(this,"getCaretPositionEnd",function(){return r.caretPositionEnd}),U(this,"registerModule",function(t,e){r.modules[t]||(r.modules[t]={}),e(r.modules[t])}),U(this,"getKeyboardClassString",function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return[r.keyboardDOMClass].concat(e).filter(function(t){return!!t}).join(" ")}),"undefined"!=typeof window){var i=this.handleParams(e,n),o=i.keyboardDOMClass,s=i.keyboardDOM,a=i.options;this.utilities=new E({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=s,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach(function(e){U(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},void 0===a?{}:a),this.keyboardPluginClasses="",E.bindMethods(t,this);var c=this.options.inputName,l=void 0===c?this.defaultName:c;if(this.input={},this.input[l]="",this.keyboardDOMClass=o,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new M({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new O({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(o,'" was not found in the DOM.')),Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},u=[{key:"setCaretPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.caretPosition=t,this.caretPositionEnd=e}},{key:"getInputCandidates",value:function(t){var e=this,n=this.options,r=n.layoutCandidates,i=n.layoutCandidatesCaseSensitiveMatch;if(!r||"object"!==R(r))return{};var o=Object.keys(r).filter(function(n){var r=t.substring(0,e.getCaretPositionEnd()||0)||t,o=new RegExp("".concat(e.utilities.escapeRegex(n),"$"),i?"g":"gi");return!!P(r.matchAll(o)).length});if(o.length>1){var s=o.sort(function(t,e){return e.length-t.length})[0];return{candidateKey:s,candidateValue:r[s]}}if(o.length){var a=o[0];return{candidateKey:a,candidateValue:r[a]}}return{}}},{key:"showCandidatesBox",value:function(t,e,n){var r=this;this.candidateBox&&this.candidateBox.show({candidateValue:e,targetElement:n,onSelect:function(e,n){var i=r.options,o=i.layoutCandidatesCaseSensitiveMatch,s=i.disableCandidateNormalization,a=i.enableLayoutCandidatesKeyPress,c=e;s||(c=e.normalize("NFD")),"function"==typeof r.options.beforeInputUpdate&&r.options.beforeInputUpdate(r);var l=r.getInput(r.options.inputName,!0),u=r.getCaretPositionEnd()||0,d=l.substring(0,u||0)||l,h=new RegExp("".concat(r.utilities.escapeRegex(t),"$"),o?"g":"gi"),f=d.replace(h,c),p=l.replace(d,f),m=f.length-d.length,g=(u||l.length)+m;g<0&&(g=0),r.setInput(p,r.options.inputName,!0),r.setCaretPosition(g),a&&"function"==typeof r.options.onKeyPress&&r.options.onKeyPress(e,n),"function"==typeof r.options.onChange&&r.options.onChange(r.getInput(r.options.inputName,!0),n),"function"==typeof r.options.onChangeAll&&r.options.onChangeAll(r.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(t,e){var n=this.options,r=n.inputName,i=void 0===r?this.defaultName:r,o=n.debug;if("{//}"!==t){this.input[i]||(this.input[i]=""),"function"==typeof this.options.beforeInputUpdate&&this.options.beforeInputUpdate(this);var s=this.utilities.getUpdatedInput(t,this.input[i],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(t)&&this.activeInputElement&&this.input[i]&&this.input[i]===s&&0===this.caretPosition&&this.caretPositionEnd===s.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(t,e);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(t,e),this.input[i]!==s&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(s))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,s))return;var a=this.utilities.getUpdatedInput(t,this.input[i],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(a,this.options.inputName,!0),o&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),null==e?void 0:e.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),e),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),e),null!=e&&e.target&&this.options.enableLayoutCandidates){var c,l=this.getInputCandidates(s),u=l.candidateKey,d=l.candidateValue;u&&d?this.showCandidatesBox(u,d,this.keyboardDOM):null===(c=this.candidateBox)||void 0===c||c.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),o&&console.log("Key pressed:",t)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(t){this.options.syncInstanceInputs?this.dispatch(function(e){e.isMouseHold=t}):this.isMouseHold=t}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;e&&(this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(!n.getMouseHold()||(t.includes("{")||t.includes("}"))&&"{delete}"!==t&&"{backspace}"!==t&&"{bksp}"!==t&&"{space}"!==t&&"{tab}"!==t)&&"{arrowright}"!==t&&"{arrowleft}"!==t&&"{arrowup}"!==t&&"{arrowdown}"!==t||(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t)),clearTimeout(n.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(t,e){var n=this;e&&(this.options.preventMouseUpDefault&&e.preventDefault&&e.preventDefault(),this.options.stopMouseUpPropagation&&e.stopPropagation&&e.stopPropagation(),!(e.target===this.keyboardDOM||e.target&&this.keyboardDOM.contains(e.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(e.target===this.candidateBox.candidateBoxElement||e.target&&this.candidateBox.candidateBoxElement.contains(e.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(t){t.classList.remove(n.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(t,e)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){e.getMouseHold()?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch(function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd)})}},{key:"clearInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;this.input[t]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.syncInstanceInputs&&!e&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[t].replace("‫","").replace("‬","")+"‬":this.input[t]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach(function(n){e[n]=t.getInput(n,!0)}),e}},{key:"setInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName,n=arguments.length>2?arguments[2]:void 0;this.input[e]=t,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter(function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])})}},{key:"onSetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(t.includes("layoutCandidatesPageSize")||t.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new O({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(e){t(window.SimpleKeyboardInstances[e],e)})}},{key:"addButtonTheme",value:function(t,e){var n=this;e&&t&&(t.split(" ").forEach(function(r){e.split(" ").forEach(function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var i=!1;n.options.buttonTheme.map(function(t){if(null!=t&&t.class.split(" ").includes(e)){i=!0;var n=t.buttons.split(" ");n.includes(r)||(i=!0,n.push(r),t.buttons=n.join(" "))}return t}),i||n.options.buttonTheme.push({class:e,buttons:t})})}),this.render())}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],void this.render();t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach(function(t){var r;null===(r=n.options)||void 0===r||null===(r=r.buttonTheme)||void 0===r||r.map(function(r,i){if(r&&e&&e.includes(r.class)||!e){var o,s,a=null===(o=r)||void 0===o?void 0:o.buttons.split(" ").filter(function(e){return e!==t});r&&null!=a&&a.length?r.buttons=a.join(" "):(null===(s=n.options.buttonTheme)||void 0===s||s.splice(i,1),r=null)}return r})}),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])&&t){var r=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(r?"passed":"did not pass!")),r}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var t=this.options.physicalKeyboardHighlightPreventDefault,e=void 0!==t&&t;document.addEventListener("keyup",this.handleKeyUp,e),document.addEventListener("keydown",this.handleKeyDown,e),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"handleSelect",value:function(t){this.caretEventHandler(t)}},{key:"handleSelectionChange",value:function(t){navigator.userAgent.includes("Firefox")||this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e,n=this;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch(function(r){var i=t.target===r.keyboardDOM||t.target&&r.keyboardDOM.contains(t.target);if(n.options.syncInstanceInputs&&Array.isArray(t.path)&&(i=t.path.some(function(t){var e;return null==t||null===(e=t.hasAttribute)||void 0===e?void 0:e.call(t,"data-skInstance")})),("textarea"===e||"input"===e&&["text","search","url","tel","password"].includes(t.target.type))&&!r.options.disableCaretPositioning){var o=t.target.selectionStart,s=t.target.selectionEnd;r.options.rtl&&(o=r.utilities.getRtlOffset(o,r.getInput()),s=r.utilities.getRtlOffset(s,r.getInput())),r.setCaretPosition(o,s),r.activeInputElement=t.target,r.options.debug&&console.log("Caret at: ",r.getCaretPosition(),r.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(r.keyboardDOMClass,")"),null==t?void 0:t.type)}else!r.options.disableCaretPositioning&&i||"selectionchange"===(null==t?void 0:t.type)||(r.setCaretPosition(null),r.activeInputElement=null,r.options.debug&&console.log('Caret position reset due to "'.concat(null==t?void 0:t.type,'" event'),t))})}},{key:"recurseButtons",value:function(t){var e=this;t&&Object.keys(this.buttonElements).forEach(function(n){return e.buttonElements[n].forEach(t)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var t=this.options.physicalKeyboardHighlightPreventDefault,e=void 0!==t&&t;document.removeEventListener("keyup",this.handleKeyUp,e),document.removeEventListener("keydown",this.handleKeyDown,e),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(t){t&&(t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach(function(e){if(e&&e.class&&"string"==typeof e.class&&e.buttons&&"string"==typeof e.buttons){var r=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(P(n),P(r)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)}),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach(function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value&&n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(e){var n=new e(t);n.init&&n.init(t)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,r){var i=this,o=Array.from(t.children),s=0;return o.length&&n.forEach(function(n,a){var c=r[a];if(!(c&&c>n))return!1;var l=n-s,u=c-s,d=document.createElement("div");d.className+="hg-button-container";var h="".concat(i.options.layoutName,"-r").concat(e,"c").concat(a);d.setAttribute("data-skUID",h);var f=o.splice(l,u-l+1);s=u-l,f.forEach(function(t){return d.appendChild(t)}),o.splice(l,0,d),t.innerHTML="",o.forEach(function(e){return t.appendChild(e)}),i.options.debug&&console.log("rowDOMContainer",f,l,u,s+1)}),t}},{key:"render",value:function(){var t=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},r=this.options.useTouchEvents||!1,i=this.options.useMouseEvents||!1,o=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,r?"hg-touch-events":""),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",n[this.options.layoutName||this.defaultName].forEach(function(e,n){var s=e.split(" ");t.options.excludeFromLayout&&t.options.excludeFromLayout[t.options.layoutName||t.defaultName]&&(s=s.filter(function(e){return t.options.excludeFromLayout&&!t.options.excludeFromLayout[t.options.layoutName||t.defaultName].includes(e)}));var a=document.createElement("div");a.className+="hg-row";var c=[],l=[];s.forEach(function(e,s){var u,d=!o&&"string"==typeof e&&e.length>1&&0===e.indexOf("["),h=!o&&"string"==typeof e&&e.length>1&&e.indexOf("]")===e.length-1;d&&(c.push(s),e=e.replace(/\[/g,"")),h&&(l.push(s),e=e.replace(/\]/g,""));var f=t.utilities.getButtonClass(e),p=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),m=t.options.useButtonTag?"button":"div",g=document.createElement(m);g.className+="hg-button ".concat(f),(u=g.classList).add.apply(u,P(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,function(t,e){g.setAttribute(t,e)}),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||r||i?r?(g.ontouchstart=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.ontouchend=function(n){t.handleButtonMouseUp(e,n)},g.ontouchcancel=function(n){t.handleButtonMouseUp(e,n)}):(g.onclick=function(n){t.setMouseHold(!1),"function"!=typeof t.options.onKeyReleased&&t.handleButtonClicked(e,n)},g.onmousedown=function(n){"function"!=typeof t.options.onKeyReleased||t.isMouseHold||t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.onmouseup=function(n){t.handleButtonMouseUp(e,n)}):(g.onpointerdown=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.onpointerup=function(n){t.handleButtonMouseUp(e,n)},g.onpointercancel=function(n){t.handleButtonMouseUp(e,n)}),g.setAttribute("data-skBtn",e);var y="".concat(t.options.layoutName,"-r").concat(n,"b").concat(s);g.setAttribute("data-skBtnUID",y);var v=document.createElement("span");v.innerHTML=p,g.appendChild(v),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(g),a.appendChild(g)}),a=t.parseRowDOMContainers(a,n,c,l),t.keyboardRowsDOM.appendChild(a)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||r||i?r?(document.ontouchend=function(e){return t.handleButtonMouseUp(void 0,e)},document.ontouchcancel=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):r||(document.onmouseup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}],N(l.prototype,u),d&&N(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l),F=j;return m}();/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var nt={};m(nt,"popperGenerator",()=>rg),m(nt,"detectOverflow",()=>rs),m(nt,"createPopperBase",()=>ry),m(nt,"createPopper",()=>rv),m(nt,"createPopperLite",()=>rb);var ne={};m(ne,"top",()=>nn),m(ne,"bottom",()=>nr),m(ne,"right",()=>ni),m(ne,"left",()=>no),m(ne,"auto",()=>ns),m(ne,"basePlacements",()=>na),m(ne,"start",()=>nc),m(ne,"end",()=>nl),m(ne,"clippingParents",()=>nu),m(ne,"viewport",()=>nd),m(ne,"popper",()=>nh),m(ne,"reference",()=>nf),m(ne,"variationPlacements",()=>np),m(ne,"placements",()=>nm),m(ne,"beforeRead",()=>ng),m(ne,"read",()=>ny),m(ne,"afterRead",()=>nv),m(ne,"beforeMain",()=>nb),m(ne,"main",()=>nw),m(ne,"afterMain",()=>n_),m(ne,"beforeWrite",()=>nE),m(ne,"write",()=>nk),m(ne,"afterWrite",()=>nS),m(ne,"modifierPhases",()=>nT);var nn="top",nr="bottom",ni="right",no="left",ns="auto",na=[nn,nr,ni,no],nc="start",nl="end",nu="clippingParents",nd="viewport",nh="popper",nf="reference",np=na.reduce(function(t,e){return t.concat([e+"-"+nc,e+"-"+nl])},[]),nm=[].concat(na,[ns]).reduce(function(t,e){return t.concat([e,e+"-"+nc,e+"-"+nl])},[]),ng="beforeRead",ny="read",nv="afterRead",nb="beforeMain",nw="main",n_="afterMain",nE="beforeWrite",nk="write",nS="afterWrite",nT=[ng,ny,nv,nb,nw,n_,nE,nk,nS],nA={};function nM(t){return t?(t.nodeName||"").toLowerCase():null}function nC(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nx(t){var e=nC(t).Element;return t instanceof e||t instanceof Element}function nI(t){var e=nC(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function nB(t){if("undefined"==typeof ShadowRoot)return!1;var e=nC(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}m(nA,"applyStyles",()=>nO),m(nA,"arrow",()=>nJ),m(nA,"computeStyles",()=>n2),m(nA,"eventListeners",()=>n5),m(nA,"flip",()=>ra),m(nA,"hide",()=>ru),m(nA,"offset",()=>rd),m(nA,"popperOffsets",()=>rh),m(nA,"preventOverflow",()=>rf);var nO={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];nI(i)&&nM(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});nI(r)&&nM(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]};function nP(t){return t.split("-")[0]}var nL=Math.max,nR=Math.min,nD=Math.round;function nN(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nU(){return!/^((?!chrome|android).)*safari/i.test(nN())}function nV(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&nI(t)&&(i=t.offsetWidth>0&&nD(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&nD(r.height)/t.offsetHeight||1);var s=(nx(t)?nC(t):window).visualViewport,a=!nU()&&n,c=(r.left+(a&&s?s.offsetLeft:0))/i,l=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function nj(t){var e=nV(t),n=t.offsetWidth,r=t.offsetHeight;return 1>=Math.abs(e.width-n)&&(n=e.width),1>=Math.abs(e.height-r)&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function nF(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&nB(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function n$(t){return nC(t).getComputedStyle(t)}function nG(t){return((nx(t)?t.ownerDocument:t.document)||window.document).documentElement}function nH(t){return"html"===nM(t)?t:t.assignedSlot||t.parentNode||(nB(t)?t.host:null)||nG(t)}function nK(t){return nI(t)&&"fixed"!==n$(t).position?t.offsetParent:null}function nz(t){for(var e=nC(t),n=nK(t);n&&["table","td","th"].indexOf(nM(n))>=0&&"static"===n$(n).position;)n=nK(n);return n&&("html"===nM(n)||"body"===nM(n)&&"static"===n$(n).position)?e:n||function(t){var e=/firefox/i.test(nN());if(/Trident/i.test(nN())&&nI(t)&&"fixed"===n$(t).position)return null;var n=nH(t);for(nB(n)&&(n=n.host);nI(n)&&0>["html","body"].indexOf(nM(n));){var r=n$(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function nW(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nq(t,e,n){return nL(t,nR(e,n))}function nY(){return{top:0,right:0,bottom:0,left:0}}function nQ(t){return Object.assign({},nY(),t)}function nX(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}var nJ={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=nP(n.placement),c=nW(a),l=[no,ni].indexOf(a)>=0?"height":"width";if(o&&s){var u,d=nQ("number"!=typeof(u="function"==typeof(u=i.padding)?u(Object.assign({},n.rects,{placement:n.placement})):u)?u:nX(u,na)),h=nj(o),f="y"===c?nn:no,p="y"===c?nr:ni,m=n.rects.reference[l]+n.rects.reference[c]-s[c]-n.rects.popper[l],g=s[c]-n.rects.reference[c],y=nz(o),v=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=d[f],w=v-h[l]-d[p],_=v/2-h[l]/2+(m/2-g/2),E=nq(b,_,w);n.modifiersData[r]=((e={})[c]=E,e.centerOffset=E-_,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&nF(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nZ(t){return t.split("-")[1]}var n0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n1(t){var e,n,r,i,o,s,a,c=t.popper,l=t.popperRect,u=t.placement,d=t.variation,h=t.offsets,f=t.position,p=t.gpuAcceleration,m=t.adaptive,g=t.roundOffsets,y=t.isFixed,v=h.x,b=void 0===v?0:v,w=h.y,_=void 0===w?0:w,E="function"==typeof g?g({x:b,y:_}):{x:b,y:_};b=E.x,_=E.y;var k=h.hasOwnProperty("x"),S=h.hasOwnProperty("y"),T=no,A=nn,M=window;if(m){var C=nz(c),x="clientHeight",I="clientWidth";C===nC(c)&&"static"!==n$(C=nG(c)).position&&"absolute"===f&&(x="scrollHeight",I="scrollWidth"),(u===nn||(u===no||u===ni)&&d===nl)&&(A=nr,_-=(y&&C===M&&M.visualViewport?M.visualViewport.height:C[x])-l.height,_*=p?1:-1),(u===no||(u===nn||u===nr)&&d===nl)&&(T=ni,b-=(y&&C===M&&M.visualViewport?M.visualViewport.width:C[I])-l.width,b*=p?1:-1)}var B=Object.assign({position:f},m&&n0),O=!0===g?(e={x:b,y:_},n=nC(c),r=e.x,i=e.y,{x:nD(r*(o=n.devicePixelRatio||1))/o||0,y:nD(i*o)/o||0}):{x:b,y:_};return(b=O.x,_=O.y,p)?Object.assign({},B,((a={})[A]=S?"0":"",a[T]=k?"0":"",a.transform=1>=(M.devicePixelRatio||1)?"translate("+b+"px, "+_+"px)":"translate3d("+b+"px, "+_+"px, 0)",a)):Object.assign({},B,((s={})[A]=S?_+"px":"",s[T]=k?b+"px":"",s.transform="",s))}var n2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=n.adaptive,o=n.roundOffsets,s=void 0===o||o,a={placement:nP(e.placement),variation:nZ(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,n1(Object.assign({},a,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===i||i,roundOffsets:s})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,n1(Object.assign({},a,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},n6={passive:!0},n5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,c=nC(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(t){t.addEventListener("scroll",n.update,n6)}),a&&c.addEventListener("resize",n.update,n6),function(){o&&l.forEach(function(t){t.removeEventListener("scroll",n.update,n6)}),a&&c.removeEventListener("resize",n.update,n6)}},data:{}},n3={left:"right",right:"left",bottom:"top",top:"bottom"};function n4(t){return t.replace(/left|right|bottom|top/g,function(t){return n3[t]})}var n9={start:"end",end:"start"};function n8(t){return t.replace(/start|end/g,function(t){return n9[t]})}function n7(t){var e=nC(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function rt(t){return nV(nG(t)).left+n7(t).scrollLeft}function re(t){var e=n$(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function rn(t,e){void 0===e&&(e=[]);var n,r=function t(e){return["html","body","#document"].indexOf(nM(e))>=0?e.ownerDocument.body:nI(e)&&re(e)?e:t(nH(e))}(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=nC(r),s=i?[o].concat(o.visualViewport||[],re(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(rn(nH(s)))}function rr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ri(t,e,n){var r,i,o,s,a,c,l,u,d,h;return e===nd?rr(function(t,e){var n=nC(t),r=nG(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=nU();(l||!l&&"fixed"===e)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+rt(t),y:c}}(t,n)):nx(e)?((r=nV(e,!1,"fixed"===n)).top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r):rr((i=nG(t),s=nG(i),a=n7(i),c=null==(o=i.ownerDocument)?void 0:o.body,l=nL(s.scrollWidth,s.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),u=nL(s.scrollHeight,s.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),d=-a.scrollLeft+rt(i),h=-a.scrollTop,"rtl"===n$(c||s).direction&&(d+=nL(s.clientWidth,c?c.clientWidth:0)-l),{width:l,height:u,x:d,y:h}))}function ro(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?nP(i):null,s=i?nZ(i):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case nn:e={x:a,y:n.y-r.height};break;case nr:e={x:a,y:n.y+n.height};break;case ni:e={x:n.x+n.width,y:c};break;case no:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var l=o?nW(o):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case nc:e[l]=e[l]-(n[u]/2-r[u]/2);break;case nl:e[l]=e[l]+(n[u]/2-r[u]/2)}}return e}function rs(t,e){void 0===e&&(e={});var n,r,i,o,s,a,c,l,u=e,d=u.placement,h=void 0===d?t.placement:d,f=u.strategy,p=void 0===f?t.strategy:f,m=u.boundary,g=u.rootBoundary,y=u.elementContext,v=void 0===y?nh:y,b=u.altBoundary,w=u.padding,_=void 0===w?0:w,E=nQ("number"!=typeof _?_:nX(_,na)),k=t.rects.popper,S=t.elements[void 0!==b&&b?v===nh?nf:nh:v],T=(n=nx(S)?S:S.contextElement||nG(t.elements.popper),r=void 0===m?nu:m,i=void 0===g?nd:g,c=(a=[].concat("clippingParents"===r?(o=rn(nH(n)),nx(s=["absolute","fixed"].indexOf(n$(n).position)>=0&&nI(n)?nz(n):n)?o.filter(function(t){return nx(t)&&nF(t,s)&&"body"!==nM(t)}):[]):[].concat(r),[i]))[0],(l=a.reduce(function(t,e){var r=ri(n,e,p);return t.top=nL(r.top,t.top),t.right=nR(r.right,t.right),t.bottom=nR(r.bottom,t.bottom),t.left=nL(r.left,t.left),t},ri(n,c,p))).width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),A=nV(t.elements.reference),M=ro({reference:A,element:k,strategy:"absolute",placement:h}),C=rr(Object.assign({},k,M)),x=v===nh?C:A,I={top:T.top-x.top+E.top,bottom:x.bottom-T.bottom+E.bottom,left:T.left-x.left+E.left,right:x.right-T.right+E.right},B=t.modifiersData.offset;if(v===nh&&B){var O=B[h];Object.keys(I).forEach(function(t){var e=[ni,nr].indexOf(t)>=0?1:-1,n=[nn,nr].indexOf(t)>=0?"y":"x";I[t]+=O[n]*e})}return I}var ra={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=e.options.placement,y=nP(g)===g,v=c||(y||!p?[n4(g)]:function(t){if(nP(t)===ns)return[];var e=n4(t);return[n8(t),e,n8(e)]}(g)),b=[g].concat(v).reduce(function(t,n){var r,i,o,s,a,c,h,f,g,y,v,b;return t.concat(nP(n)===ns?(i=(r={placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}).placement,o=r.boundary,s=r.rootBoundary,a=r.padding,c=r.flipVariations,f=void 0===(h=r.allowedAutoPlacements)?nm:h,0===(v=(y=(g=nZ(i))?c?np:np.filter(function(t){return nZ(t)===g}):na).filter(function(t){return f.indexOf(t)>=0})).length&&(v=y),Object.keys(b=v.reduce(function(t,n){return t[n]=rs(e,{placement:n,boundary:o,rootBoundary:s,padding:a})[nP(n)],t},{})).sort(function(t,e){return b[t]-b[e]})):n)},[]),w=e.rects.reference,_=e.rects.popper,E=new Map,k=!0,S=b[0],T=0;T<b.length;T++){var A=b[T],M=nP(A),C=nZ(A)===nc,x=[nn,nr].indexOf(M)>=0,I=x?"width":"height",B=rs(e,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),O=x?C?ni:no:C?nr:nn;w[I]>_[I]&&(O=n4(O));var P=n4(O),L=[];if(o&&L.push(B[M]<=0),a&&L.push(B[O]<=0,B[P]<=0),L.every(function(t){return t})){S=A,k=!1;break}E.set(A,L)}if(k)for(var R=p?3:1,D=function(t){var e=b.find(function(e){var n=E.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return S=e,"break"},N=R;N>0&&"break"!==D(N);N--);e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function rc(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rl(t){return[nn,ni,nr,no].some(function(e){return t[e]>=0})}var ru={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=rs(e,{elementContext:"reference"}),a=rs(e,{altBoundary:!0}),c=rc(s,r),l=rc(a,i,o),u=rl(c),d=rl(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},rd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,s=nm.reduce(function(t,n){var r,i,s,a,c,l;return t[n]=(r=e.rects,s=[no,nn].indexOf(i=nP(n))>=0?-1:1,c=(a="function"==typeof o?o(Object.assign({},r,{placement:n})):o)[0],l=a[1],c=c||0,l=(l||0)*s,[no,ni].indexOf(i)>=0?{x:l,y:c}:{x:c,y:l}),t},{}),a=s[e.placement],c=a.x,l=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}},rh={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=ro({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},rf={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=n.altAxis,s=n.boundary,a=n.rootBoundary,c=n.altBoundary,l=n.padding,u=n.tether,d=void 0===u||u,h=n.tetherOffset,f=void 0===h?0:h,p=rs(e,{boundary:s,rootBoundary:a,padding:l,altBoundary:c}),m=nP(e.placement),g=nZ(e.placement),y=!g,v=nW(m),b="x"===v?"y":"x",w=e.modifiersData.popperOffsets,_=e.rects.reference,E=e.rects.popper,k="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,S="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(w){if(void 0===i||i){var M,C="y"===v?nn:no,x="y"===v?nr:ni,I="y"===v?"height":"width",B=w[v],O=B+p[C],P=B-p[x],L=d?-E[I]/2:0,R=g===nc?_[I]:E[I],D=g===nc?-E[I]:-_[I],N=e.elements.arrow,U=d&&N?nj(N):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nY(),j=V[C],F=V[x],$=nq(0,_[I],U[I]),G=y?_[I]/2-L-$-j-S.mainAxis:R-$-j-S.mainAxis,H=y?-_[I]/2+L+$+F+S.mainAxis:D+$+F+S.mainAxis,K=e.elements.arrow&&nz(e.elements.arrow),z=K?"y"===v?K.clientTop||0:K.clientLeft||0:0,W=null!=(M=null==T?void 0:T[v])?M:0,q=nq(d?nR(O,B+G-W-z):O,B,d?nL(P,B+H-W):P);w[v]=q,A[v]=q-B}if(void 0!==o&&o){var Y,Q,X="x"===v?nn:no,J="x"===v?nr:ni,Z=w[b],tt="y"===b?"height":"width",te=Z+p[X],tn=Z-p[J],tr=-1!==[nn,no].indexOf(m),ti=null!=(Q=null==T?void 0:T[b])?Q:0,to=tr?te:Z-_[tt]-E[tt]-ti+S.altAxis,ts=tr?Z+_[tt]+E[tt]-ti-S.altAxis:tn,ta=d&&tr?(Y=nq(to,Z,ts))>ts?ts:Y:nq(d?to:te,Z,d?ts:tn);w[b]=ta,A[b]=ta-Z}e.modifiersData[r]=A}},requiresIfExists:["offset"]},rp={placement:"bottom",modifiers:[],strategy:"absolute"};function rm(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function rg(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?rp:i;return function(t,e,n){void 0===n&&(n=o);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},rp,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var i,s,l,h,f,p="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},o,a.options,p),a.scrollParents={reference:nx(t)?rn(t):t.contextElement?rn(t.contextElement):[],popper:rn(e)};var m=(s=Object.keys(i=[].concat(r,a.options.modifiers).reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t},{})).map(function(t){return i[t]}),l=new Map,h=new Set,f=[],s.forEach(function(t){l.set(t.name,t)}),s.forEach(function(t){h.has(t.name)||function t(e){h.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!h.has(e)){var n=l.get(e);n&&t(n)}}),f.push(e)}(t)}),nT.reduce(function(t,e){return t.concat(f.filter(function(t){return t.phase===e}))},[]));return a.orderedModifiers=m.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,r=t.effect;if("function"==typeof r){var i=r({state:a,name:e,instance:u,options:void 0===n?{}:n});c.push(i||function(){})}}),u.update()},forceUpdate:function(){if(!l){var t=a.elements,e=t.reference,n=t.popper;if(rm(e,n)){a.rects={reference:(i=nz(n),o="fixed"===a.options.strategy,s=nI(i),f=nI(i)&&(d=nD((c=i.getBoundingClientRect()).width)/i.offsetWidth||1,h=nD(c.height)/i.offsetHeight||1,1!==d||1!==h),p=nG(i),m=nV(e,f,o),g={scrollLeft:0,scrollTop:0},y={x:0,y:0},(s||!s&&!o)&&(("body"!==nM(i)||re(p))&&(g=(r=i)!==nC(r)&&nI(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:n7(r)),nI(i)?(y=nV(i,!0),y.x+=i.clientLeft,y.y+=i.clientTop):p&&(y.x=rt(p))),{x:m.left+g.scrollLeft-y.x,y:m.top+g.scrollTop-y.y,width:m.width,height:m.height}),popper:nj(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var r,i,o,s,c,d,h,f,p,m,g,y,v=0;v<a.orderedModifiers.length;v++){if(!0===a.reset){a.reset=!1,v=-1;continue}var b=a.orderedModifiers[v],w=b.fn,_=b.options,E=void 0===_?{}:_,k=b.name;"function"==typeof w&&(a=w({state:a,options:E,name:k,instance:u})||a)}}}},update:(i=function(){return new Promise(function(t){u.forceUpdate(),t(a)})},function(){return s||(s=new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(i())})})),s}),destroy:function(){d(),l=!0}};if(!rm(t,e))return u;function d(){c.forEach(function(t){return t()}),c=[]}return u.setOptions(n).then(function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)}),u}}var ry=rg(),rv=rg({defaultModifiers:[n5,rh,n2,nO,rd,ra,rf,nJ,ru]}),rb=rg({defaultModifiers:[n5,rh,n2,nO]});p(nt,ne),p(nt,nA);const rw=new Map,r_={set(t,e,n){rw.has(t)||rw.set(t,new Map);let r=rw.get(t);if(!r.has(e)&&0!==r.size){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get:(t,e)=>rw.has(t)&&rw.get(t).get(e)||null,remove(t,e){if(!rw.has(t))return;let n=rw.get(t);n.delete(e),0===n.size&&rw.delete(t)}},rE="transitionend",rk=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),rS=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),rT=t=>{do t+=Math.floor(1e6*Math.random());while(document.getElementById(t))return t},rA=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t),r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*1e3):0},rM=t=>{t.dispatchEvent(new Event(rE))},rC=t=>!!t&&"object"==typeof t&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),rx=t=>rC(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(rk(t)):null,rI=t=>{if(!rC(t)||0===t.getClientRects().length)return!1;let e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){let e=t.closest("summary");if(e&&e.parentNode!==n||null===e)return!1}return e},rB=t=>!!(!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled"))||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),rO=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?rO(t.parentNode):null},rP=()=>{},rL=t=>{t.offsetHeight},rR=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,rD=[],rN=t=>{"loading"===document.readyState?(rD.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of rD)t()}),rD.push(t)):t()},rU=()=>"rtl"===document.documentElement.dir,rV=t=>{rN(()=>{let e=rR();if(e){let n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},rj=(t,e=[],n=t)=>"function"==typeof t?t(...e):n,rF=(t,e,n=!0)=>{if(!n){rj(t);return}let r=rA(e)+5,i=!1,o=({target:n})=>{n===e&&(i=!0,e.removeEventListener(rE,o),rj(t))};e.addEventListener(rE,o),setTimeout(()=>{i||rM(e)},r)},r$=(t,e,n,r)=>{let i=t.length,o=t.indexOf(e);return -1===o?!n&&r?t[i-1]:t[0]:(o+=n?1:-1,r&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])},rG=/[^.]*(?=\..*)\.|.*/,rH=/\..*/,rK=/::\d+$/,rz={};let rW=1;const rq={mouseenter:"mouseover",mouseleave:"mouseout"},rY=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rQ(t,e){return e&&`${e}::${rW++}`||t.uidEvent||rW++}function rX(t){let e=rQ(t);return t.uidEvent=e,rz[e]=rz[e]||{},rz[e]}function rJ(t,e,n=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===n)}function rZ(t,e,n){let r="string"==typeof e,i=r2(t);return rY.has(i)||(i=t),[r,r?n:e||n,i]}function r0(t,e,n,r,i){var o,s;if("string"!=typeof e||!t)return;let[a,c,l]=rZ(e,n,r);if(e in rq){let t;t=c,c=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)}}let u=rX(t),d=u[l]||(u[l]={}),h=rJ(d,c,a?n:null);if(h){h.oneOff=h.oneOff&&i;return}let f=rQ(c,e.replace(rG,"")),p=a?(o=c,function e(r){let i=t.querySelectorAll(n);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let a of i)if(a===s)return r5(r,{delegateTarget:s}),e.oneOff&&r6.off(t,r.type,n,o),o.apply(s,[r])}):(s=c,function e(n){return r5(n,{delegateTarget:t}),e.oneOff&&r6.off(t,n.type,s),s.apply(t,[n])});p.delegationSelector=a?n:null,p.callable=c,p.oneOff=i,p.uidEvent=f,d[f]=p,t.addEventListener(l,p,a)}function r1(t,e,n,r,i){let o=rJ(e[n],r,i);o&&(t.removeEventListener(n,o,!!i),delete e[n][o.uidEvent])}function r2(t){return rq[t=t.replace(rH,"")]||t}const r6={on(t,e,n,r){r0(t,e,n,r,!1)},one(t,e,n,r){r0(t,e,n,r,!0)},off(t,e,n,r){if("string"!=typeof e||!t)return;let[i,o,s]=rZ(e,n,r),a=s!==e,c=rX(t),l=c[s]||{},u=e.startsWith(".");if(void 0!==o){if(!Object.keys(l).length)return;r1(t,c,s,o,i?n:null);return}if(u)for(let n of Object.keys(c))!function(t,e,n,r){for(let[i,o]of Object.entries(e[n]||{}))i.includes(r)&&r1(t,e,n,o.callable,o.delegationSelector)}(t,c,n,e.slice(1));for(let[n,r]of Object.entries(l)){let i=n.replace(rK,"");(!a||e.includes(i))&&r1(t,c,s,r.callable,r.delegationSelector)}},trigger(t,e,n){if("string"!=typeof e||!t)return null;let r=rR(),i=r2(e),o=null,s=!0,a=!0,c=!1;e!==i&&r&&(o=r.Event(e,n),r(t).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());let l=r5(new Event(e,{bubbles:s,cancelable:!0}),n);return c&&l.preventDefault(),a&&t.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function r5(t,e={}){for(let[n,r]of Object.entries(e))try{t[n]=r}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>r})}return t}function r3(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function r4(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const r9={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${r4(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${r4(e)}`)},getDataAttributes(t){if(!t)return{};let e={};for(let n of Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"))){let r=n.replace(/^bs/,"");e[r=r.charAt(0).toLowerCase()+r.slice(1,r.length)]=r3(t.dataset[n])}return e},getDataAttribute:(t,e)=>r3(t.getAttribute(`data-bs-${r4(e)}`))};class r8{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){let n=rC(e)?r9.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...rC(e)?r9.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(let[n,r]of Object.entries(e)){let e=t[n],i=rC(e)?"element":rS(e);if(!new RegExp(r).test(i))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${r}".`)}}}class r7 extends r8{constructor(t,e){if(super(),!(t=rx(t)))return;this._element=t,this._config=this._getConfig(e),r_.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let t of(r_.remove(this._element,this.constructor.DATA_KEY),r6.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[t]=null}_queueCallback(t,e,n=!0){rF(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return r_.get(rx(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const it=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e?e.split(",").map(t=>rk(t)).join(","):null},ie={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){let n=[],r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!rB(t)&&rI(t))},getSelectorFromElement(t){let e=it(t);return e&&ie.findOne(e)?e:null},getElementFromSelector(t){let e=it(t);return e?ie.findOne(e):null},getMultipleElementsFromSelector(t){let e=it(t);return e?ie.find(e):[]}},ir=(t,e="hide")=>{let n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;r6.on(document,n,`[data-bs-dismiss="${r}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),rB(this))return;let i=ie.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(i)[e]()})},ii=".bs.alert",io=`close${ii}`,is=`closed${ii}`;class ia extends r7{static get NAME(){return"alert"}close(){if(r6.trigger(this._element,io).defaultPrevented)return;this._element.classList.remove("show");let t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),r6.trigger(this._element,is),this.dispose()}static jQueryInterface(t){return this.each(function(){let e=ia.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t](this)}})}}ir(ia,"close"),rV(ia);const ic='[data-bs-toggle="button"]';class il extends r7{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){let e=il.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}r6.on(document,"click.bs.button.data-api",ic,t=>{t.preventDefault();let e=t.target.closest(ic);il.getOrCreateInstance(e).toggle()}),rV(il);const iu=".bs.swipe",id=`touchstart${iu}`,ih=`touchmove${iu}`,ip=`touchend${iu}`,im=`pointerdown${iu}`,ig=`pointerup${iu}`,iy={endCallback:null,leftCallback:null,rightCallback:null},iv={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ib extends r8{constructor(t,e){if(super(),this._element=t,!t||!ib.isSupported())return;this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return iy}static get DefaultType(){return iv}static get NAME(){return"swipe"}dispose(){r6.off(this._element,iu)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),rj(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=40)return;let e=t/this._deltaX;this._deltaX=0,e&&rj(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(r6.on(this._element,im,t=>this._start(t)),r6.on(this._element,ig,t=>this._end(t)),this._element.classList.add("pointer-event")):(r6.on(this._element,id,t=>this._start(t)),r6.on(this._element,ih,t=>this._move(t)),r6.on(this._element,ip,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const iw=".bs.carousel",i_=".data-api",iE="next",ik="prev",iS="left",iT="right",iA=`slide${iw}`,iM=`slid${iw}`,iC=`keydown${iw}`,ix=`mouseenter${iw}`,iI=`mouseleave${iw}`,iB=`dragstart${iw}`,iO=`load${iw}${i_}`,iP=`click${iw}${i_}`,iL="carousel",iR="active",iD=".active",iN=".carousel-item",iU=iD+iN,iV={ArrowLeft:iT,ArrowRight:iS},ij={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},iF={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class i$ extends r7{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ie.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===iL&&this.cycle()}static get Default(){return ij}static get DefaultType(){return iF}static get NAME(){return"carousel"}next(){this._slide(iE)}nextWhenVisible(){!document.hidden&&rI(this._element)&&this.next()}prev(){this._slide(ik)}pause(){this._isSliding&&rM(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){r6.one(this._element,iM,()=>this.cycle());return}this.cycle()}}to(t){let e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){r6.one(this._element,iM,()=>this.to(t));return}let n=this._getItemIndex(this._getActive());n!==t&&this._slide(t>n?iE:ik,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&r6.on(this._element,iC,t=>this._keydown(t)),"hover"===this._config.pause&&(r6.on(this._element,ix,()=>this.pause()),r6.on(this._element,iI,()=>this._maybeEnableCycle())),this._config.touch&&ib.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let t of ie.find(".carousel-item img",this._element))r6.on(t,iB,t=>t.preventDefault());this._swipeHelper=new ib(this._element,{leftCallback:()=>this._slide(this._directionToOrder(iS)),rightCallback:()=>this._slide(this._directionToOrder(iT)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let e=iV[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let e=ie.findOne(iD,this._indicatorsElement);e.classList.remove(iR),e.removeAttribute("aria-current");let n=ie.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(iR),n.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;let n=this._getActive(),r=t===iE,i=e||r$(this._getItems(),n,r,this._config.wrap);if(i===n)return;let o=this._getItemIndex(i),s=e=>r6.trigger(this._element,e,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:o});if(s(iA).defaultPrevented||!n||!i)return;let a=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;let c=r?"carousel-item-start":"carousel-item-end",l=r?"carousel-item-next":"carousel-item-prev";i.classList.add(l),rL(i),n.classList.add(c),i.classList.add(c),this._queueCallback(()=>{i.classList.remove(c,l),i.classList.add(iR),n.classList.remove(iR,l,c),this._isSliding=!1,s(iM)},n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ie.findOne(iU,this._element)}_getItems(){return ie.find(iN,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return rU()?t===iS?ik:iE:t===iS?iE:ik}_orderToDirection(t){return rU()?t===ik?iS:iT:t===ik?iT:iS}static jQueryInterface(t){return this.each(function(){let e=i$.getOrCreateInstance(this,t);if("number"==typeof t){e.to(t);return}if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}r6.on(document,iP,"[data-bs-slide], [data-bs-slide-to]",function(t){let e=ie.getElementFromSelector(this);if(!e||!e.classList.contains(iL))return;t.preventDefault();let n=i$.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if("next"===r9.getDataAttribute(this,"slide")){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),r6.on(window,iO,()=>{for(let t of ie.find('[data-bs-ride="carousel"]'))i$.getOrCreateInstance(t)}),rV(i$);const iG=".bs.collapse",iH=`show${iG}`,iK=`shown${iG}`,iz=`hide${iG}`,iW=`hidden${iG}`,iq=`click${iG}.data-api`,iY="show",iQ="collapse",iX="collapsing",iJ=`:scope .${iQ} .${iQ}`,iZ='[data-bs-toggle="collapse"]',i0={parent:null,toggle:!0},i1={parent:"(null|element)",toggle:"boolean"};class i2 extends r7{constructor(t,e){for(let n of(super(t,e),this._isTransitioning=!1,this._triggerArray=[],ie.find(iZ))){let t=ie.getSelectorFromElement(n),e=ie.find(t).filter(t=>t===this._element);null!==t&&e.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return i0}static get DefaultType(){return i1}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>i2.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning||r6.trigger(this._element,iH).defaultPrevented)return;for(let e of t)e.hide();let e=this._getDimension();this._element.classList.remove(iQ),this._element.classList.add(iX),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let n=e[0].toUpperCase()+e.slice(1),r=`scroll${n}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(iX),this._element.classList.add(iQ,iY),this._element.style[e]="",r6.trigger(this._element,iK)},this._element,!0),this._element.style[e]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||r6.trigger(this._element,iz).defaultPrevented)return;let t=this._getDimension();for(let e of(this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,rL(this._element),this._element.classList.add(iX),this._element.classList.remove(iQ,iY),this._triggerArray)){let t=ie.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(iX),this._element.classList.add(iQ),r6.trigger(this._element,iW)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(iY)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=rx(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let t of this._getFirstLevelChildren(iZ)){let e=ie.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(t){let e=ie.find(iJ,this._config.parent);return ie.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(let n of t)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){let e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){let n=i2.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw TypeError(`No method named "${t}"`);n[t]()}})}}r6.on(document,iq,iZ,function(t){for(let e of(("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault(),ie.getMultipleElementsFromSelector(this)))i2.getOrCreateInstance(e,{toggle:!1}).toggle()}),rV(i2);const i6="dropdown",i5=".bs.dropdown",i3=".data-api",i4="ArrowDown",i9=`hide${i5}`,i8=`hidden${i5}`,i7=`show${i5}`,ot=`shown${i5}`,oe=`click${i5}${i3}`,on=`keydown${i5}${i3}`,or=`keyup${i5}${i3}`,oi="show",oo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',os=`${oo}.${oi}`,oa=".dropdown-menu",oc=rU()?"top-end":"top-start",ol=rU()?"top-start":"top-end",ou=rU()?"bottom-end":"bottom-start",od=rU()?"bottom-start":"bottom-end",oh=rU()?"left-start":"right-start",of=rU()?"right-start":"left-start",op={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},om={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class og extends r7{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ie.next(this._element,oa)[0]||ie.prev(this._element,oa)[0]||ie.findOne(oa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return op}static get DefaultType(){return om}static get NAME(){return i6}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rB(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!r6.trigger(this._element,i7,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let t of[].concat(...document.body.children))r6.on(t,"mouseover",rP);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(oi),this._element.classList.add(oi),r6.trigger(this._element,ot,t)}}hide(){if(rB(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!r6.trigger(this._element,i9,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))r6.off(t,"mouseover",rP);this._popper&&this._popper.destroy(),this._menu.classList.remove(oi),this._element.classList.remove(oi),this._element.setAttribute("aria-expanded","false"),r9.removeDataAttribute(this._menu,"popper"),r6.trigger(this._element,i8,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!rC(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw TypeError(`${i6.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===nt)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:rC(this._config.reference)?t=rx(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);let e=this._getPopperConfig();this._popper=nt.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(oi)}_getPlacement(){let t=this._parent;if(t.classList.contains("dropend"))return oh;if(t.classList.contains("dropstart"))return of;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";let e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?ol:oc:e?od:ou}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(r9.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...rj(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){let n=ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>rI(t));n.length&&r$(n,e,t===i4,!n.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){let e=og.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(let e of ie.find(os)){let n=og.getInstance(e);if(!n||!1===n._config.autoClose)continue;let r=t.composedPath(),i=r.includes(n._menu);if(r.includes(n._element)||"inside"===n._config.autoClose&&!i||"outside"===n._config.autoClose&&i||n._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let o={relatedTarget:n._element};"click"===t.type&&(o.clickEvent=t),n._completeHide(o)}}static dataApiKeydownHandler(t){let e=/input|textarea/i.test(t.target.tagName),n="Escape"===t.key,r=["ArrowUp",i4].includes(t.key);if(!r&&!n||e&&!n)return;t.preventDefault();let i=this.matches(oo)?this:ie.prev(this,oo)[0]||ie.next(this,oo)[0]||ie.findOne(oo,t.delegateTarget.parentNode),o=og.getOrCreateInstance(i);if(r){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),i.focus())}}r6.on(document,on,oo,og.dataApiKeydownHandler),r6.on(document,on,oa,og.dataApiKeydownHandler),r6.on(document,oe,og.clearMenus),r6.on(document,or,og.clearMenus),r6.on(document,oe,oo,function(t){t.preventDefault(),og.getOrCreateInstance(this).toggle()}),rV(og);const oy="backdrop",ov="show",ob=`mousedown.bs.${oy}`,ow={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},o_={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class oE extends r8{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ow}static get DefaultType(){return o_}static get NAME(){return oy}show(t){if(!this._config.isVisible){rj(t);return}this._append();let e=this._getElement();this._config.isAnimated&&rL(e),e.classList.add(ov),this._emulateAnimation(()=>{rj(t)})}hide(t){if(!this._config.isVisible){rj(t);return}this._getElement().classList.remove(ov),this._emulateAnimation(()=>{this.dispose(),rj(t)})}dispose(){this._isAppended&&(r6.off(this._element,ob),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=rx(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),r6.on(t,ob,()=>{rj(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){rF(t,this._getElement(),this._config.isAnimated)}}const ok=".bs.focustrap",oS=`focusin${ok}`,oT=`keydown.tab${ok}`,oA="backward",oM={autofocus:!0,trapElement:null},oC={autofocus:"boolean",trapElement:"element"};class ox extends r8{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return oM}static get DefaultType(){return oC}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),r6.off(document,ok),r6.on(document,oS,t=>this._handleFocusin(t)),r6.on(document,oT,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,r6.off(document,ok))}_handleFocusin(t){let{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;let n=ie.focusableChildren(e);0===n.length?e.focus():this._lastTabNavDirection===oA?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?oA:"forward")}}const oI=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",oB=".sticky-top",oO="padding-right",oP="margin-right";class oL{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,oO,e=>e+t),this._setElementAttributes(oI,oO,e=>e+t),this._setElementAttributes(oB,oP,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,oO),this._resetElementAttributes(oI,oO),this._resetElementAttributes(oB,oP)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){let r=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);let i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(i))}px`)})}_saveInitialAttribute(t,e){let n=t.style.getPropertyValue(e);n&&r9.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{let n=r9.getDataAttribute(t,e);if(null===n){t.style.removeProperty(e);return}r9.removeDataAttribute(t,e),t.style.setProperty(e,n)})}_applyManipulationCallback(t,e){if(rC(t)){e(t);return}for(let n of ie.find(t,this._element))e(n)}}const oR=".bs.modal",oD=`hide${oR}`,oN=`hidePrevented${oR}`,oU=`hidden${oR}`,oV=`show${oR}`,oj=`shown${oR}`,oF=`resize${oR}`,o$=`click.dismiss${oR}`,oG=`mousedown.dismiss${oR}`,oH=`keydown.dismiss${oR}`,oK=`click${oR}.data-api`,oz="modal-open",oW="show",oq="modal-static",oY={backdrop:!0,focus:!0,keyboard:!0},oQ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class oX extends r7{constructor(t,e){super(t,e),this._dialog=ie.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new oL,this._addEventListeners()}static get Default(){return oY}static get DefaultType(){return oQ}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||r6.trigger(this._element,oV,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(oz),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(r6.trigger(this._element,oD).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(oW),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){r6.off(window,oR),r6.off(this._dialog,oR),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new oE({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ox({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let e=ie.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),rL(this._element),this._element.classList.add(oW),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,r6.trigger(this._element,oj,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){r6.on(this._element,oH,t=>{if("Escape"===t.key){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),r6.on(window,oF,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),r6.on(this._element,oG,t=>{r6.one(this._element,o$,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(oz),this._resetAdjustments(),this._scrollBar.reset(),r6.trigger(this._element,oU)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(r6.trigger(this._element,oN).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(oq)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(oq),this._queueCallback(()=>{this._element.classList.remove(oq),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){let t=rU()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!n&&t){let t=rU()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){let n=oX.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw TypeError(`No method named "${t}"`);n[t](e)}})}}r6.on(document,oK,'[data-bs-toggle="modal"]',function(t){let e=ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),r6.one(e,oV,t=>{t.defaultPrevented||r6.one(e,oU,()=>{rI(this)&&this.focus()})});let n=ie.findOne(".modal.show");n&&oX.getInstance(n).hide(),oX.getOrCreateInstance(e).toggle(this)}),ir(oX),rV(oX);const oJ=".bs.offcanvas",oZ=".data-api",o0=`load${oJ}${oZ}`,o1="show",o2="showing",o6="hiding",o5=".offcanvas.show",o3=`show${oJ}`,o4=`shown${oJ}`,o9=`hide${oJ}`,o8=`hidePrevented${oJ}`,o7=`hidden${oJ}`,st=`resize${oJ}`,se=`click${oJ}${oZ}`,sn=`keydown.dismiss${oJ}`,sr={backdrop:!0,keyboard:!0,scroll:!1},si={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class so extends r7{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return sr}static get DefaultType(){return si}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||r6.trigger(this._element,o3,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new oL().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(o2),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(o1),this._element.classList.remove(o2),r6.trigger(this._element,o4,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!r6.trigger(this._element,o9).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(o6),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(o1,o6),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new oL().reset(),r6.trigger(this._element,o7)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=!!this._config.backdrop;return new oE({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{if("static"===this._config.backdrop){r6.trigger(this._element,o8);return}this.hide()}:null})}_initializeFocusTrap(){return new ox({trapElement:this._element})}_addEventListeners(){r6.on(this._element,sn,t=>{if("Escape"===t.key){if(this._config.keyboard){this.hide();return}r6.trigger(this._element,o8)}})}static jQueryInterface(t){return this.each(function(){let e=so.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t](this)}})}}r6.on(document,se,'[data-bs-toggle="offcanvas"]',function(t){let e=ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),rB(this))return;r6.one(e,o7,()=>{rI(this)&&this.focus()});let n=ie.findOne(o5);n&&n!==e&&so.getInstance(n).hide(),so.getOrCreateInstance(e).toggle(this)}),r6.on(window,o0,()=>{for(let t of ie.find(o5))so.getOrCreateInstance(t).show()}),r6.on(window,st,()=>{for(let t of ie.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&so.getOrCreateInstance(t).hide()}),ir(so),rV(so);const ss={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},sa=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),sc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sl=(t,e)=>{let n=t.nodeName.toLowerCase();return e.includes(n)?!sa.has(n)||!!sc.test(t.nodeValue):e.filter(t=>t instanceof RegExp).some(t=>t.test(n))},su={allowList:ss,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},sh={entry:"(string|element|function|null)",selector:"(string|element)"};class sf extends r8{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return su}static get DefaultType(){return sd}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");for(let[e,n]of(t.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(t,n,e);let e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},sh)}_setContent(t,e,n){let r=ie.findOne(n,t);if(r){if(!(e=this._resolvePossibleFunction(e))){r.remove();return}if(rC(e)){this._putElementInTemplate(rx(e),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(e);return}r.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);let r=new window.DOMParser().parseFromString(t,"text/html");for(let t of[].concat(...r.body.querySelectorAll("*"))){let n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}let r=[].concat(...t.attributes),i=[].concat(e["*"]||[],e[n]||[]);for(let e of r)sl(e,i)||t.removeAttribute(e.nodeName)}return r.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return rj(t,[this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const sp=new Set(["sanitize","allowList","sanitizeFn"]),sm="fade",sg="show",sy=".modal",sv="hide.bs.modal",sb="hover",sw="focus",s_={AUTO:"auto",TOP:"top",RIGHT:rU()?"left":"right",BOTTOM:"bottom",LEFT:rU()?"right":"left"},sE={allowList:ss,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sk={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sS extends r7{constructor(t,e){if(void 0===nt)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sE}static get DefaultType(){return sk}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),r6.off(this._element.closest(sy),sv,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=r6.trigger(this._element,this.constructor.eventName("show")),e=(rO(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();let n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));let{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),r6.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(sg),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))r6.on(t,"mouseover",rP);this._queueCallback(()=>{r6.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!r6.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(sg),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))r6.off(t,"mouseover",rP);this._activeTrigger.click=!1,this._activeTrigger[sw]=!1,this._activeTrigger[sb]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),r6.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(sm,sg),e.classList.add(`bs-${this.constructor.NAME}-auto`);let n=rT(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(sm),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new sf({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(sm)}_isShown(){return this.tip&&this.tip.classList.contains(sg)}_createPopper(t){let e=s_[rj(this._config.placement,[this,t,this._element]).toUpperCase()];return nt.createPopper(this._element,t,this._getPopperConfig(e))}_getOffset(){let{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return rj(t,[this._element])}_getPopperConfig(t){let e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...rj(this._config.popperConfig,[e])}}_setListeners(){for(let t of this._config.trigger.split(" "))if("click"===t)r6.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{this._initializeOnDelegatedTarget(t).toggle()});else if("manual"!==t){let e=t===sb?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===sb?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");r6.on(this._element,e,this._config.selector,t=>{let e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?sw:sb]=!0,e._enter()}),r6.on(this._element,n,this._config.selector,t=>{let e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?sw:sb]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},r6.on(this._element.closest(sy),sv,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let e=r9.getDataAttributes(this._element);for(let t of Object.keys(e))sp.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:rx(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(t[e]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let e=sS.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}}rV(sS);const sT={...sS.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},sA={...sS.DefaultType,content:"(null|string|element|function)"};class sM extends sS{static get Default(){return sT}static get DefaultType(){return sA}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let e=sM.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}}rV(sM);const sC=".bs.scrollspy",sx=`activate${sC}`,sI=`click${sC}`,sB=`load${sC}.data-api`,sO="active",sP="[href]",sL=".nav-link",sR=`${sL}, .nav-item > ${sL}, .list-group-item`,sD={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},sN={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class sU extends r7{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sD}static get DefaultType(){return sN}static get NAME(){return"scrollspy"}refresh(){for(let t of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=rx(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(r6.off(this._config.target,sI),r6.on(this._config.target,sI,sP,t=>{let e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();let n=this._rootElement||window,r=e.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:r,behavior:"smooth"});return}n.scrollTop=r}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){let e=t=>this._targetLinks.get(`#${t.target.id}`),n=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;for(let o of(this._previousScrollData.parentScrollTop=r,t)){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}let t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&t){if(n(o),!r)return;continue}i||t||n(o)}}_initializeTargetsAndObservables(){for(let t of(this._targetLinks=new Map,this._observableSections=new Map,ie.find(sP,this._config.target))){if(!t.hash||rB(t))continue;let e=ie.findOne(decodeURI(t.hash),this._element);rI(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(sO),this._activateParents(t),r6.trigger(this._element,sx,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item")){ie.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(sO);return}for(let e of ie.parents(t,".nav, .list-group"))for(let t of ie.prev(e,sR))t.classList.add(sO)}_clearActiveClass(t){for(let e of(t.classList.remove(sO),ie.find(`${sP}.${sO}`,t)))e.classList.remove(sO)}static jQueryInterface(t){return this.each(function(){let e=sU.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}r6.on(window,sB,()=>{for(let t of ie.find('[data-bs-spy="scroll"]'))sU.getOrCreateInstance(t)}),rV(sU);const sV=".bs.tab",sj=`hide${sV}`,sF=`hidden${sV}`,s$=`show${sV}`,sG=`shown${sV}`,sH=`click${sV}`,sK=`keydown${sV}`,sz=`load${sV}`,sW="ArrowRight",sq="ArrowDown",sY="Home",sQ="active",sX="fade",sJ="show",sZ=".dropdown-toggle",s0=`:not(${sZ})`,s1=`.nav-link${s0}, .list-group-item${s0}, [role="tab"]${s0}`,s2='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',s6=`${s1}, ${s2}`,s5=`.${sQ}[data-bs-toggle="tab"], .${sQ}[data-bs-toggle="pill"], .${sQ}[data-bs-toggle="list"]`;class s3 extends r7{constructor(t){if(super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),r6.on(this._element,sK,t=>this._keydown(t))}static get NAME(){return"tab"}show(){let t=this._element;if(this._elemIsActive(t))return;let e=this._getActiveElem(),n=e?r6.trigger(e,sj,{relatedTarget:t}):null;r6.trigger(t,s$,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(sQ),this._activate(ie.getElementFromSelector(t)),this._queueCallback(()=>{if("tab"!==t.getAttribute("role")){t.classList.add(sJ);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),r6.trigger(t,sG,{relatedTarget:e})},t,t.classList.contains(sX)))}_deactivate(t,e){t&&(t.classList.remove(sQ),t.blur(),this._deactivate(ie.getElementFromSelector(t)),this._queueCallback(()=>{if("tab"!==t.getAttribute("role")){t.classList.remove(sJ);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),r6.trigger(t,sF,{relatedTarget:e})},t,t.classList.contains(sX)))}_keydown(t){let e;if(!["ArrowLeft",sW,"ArrowUp",sq,sY,"End"].includes(t.key))return;t.stopPropagation(),t.preventDefault();let n=this._getChildren().filter(t=>!rB(t));if([sY,"End"].includes(t.key))e=n[t.key===sY?0:n.length-1];else{let r=[sW,sq].includes(t.key);e=r$(n,t.target,r,!0)}e&&(e.focus({preventScroll:!0}),s3.getOrCreateInstance(e).show())}_getChildren(){return ie.find(s6,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){for(let n of(this._setAttributeIfNotExists(t,"role","tablist"),e))this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let e=ie.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){let n=this._getOuterElement(t);if(!n.classList.contains("dropdown"))return;let r=(t,r)=>{let i=ie.findOne(t,n);i&&i.classList.toggle(r,e)};r(sZ,sQ),r(".dropdown-menu",sJ),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(sQ)}_getInnerElement(t){return t.matches(s6)?t:ie.findOne(s6,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){let e=s3.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}r6.on(document,sH,s2,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),rB(this)||s3.getOrCreateInstance(this).show()}),r6.on(window,sz,()=>{for(let t of ie.find(s5))s3.getOrCreateInstance(t)}),rV(s3);const s4=".bs.toast",s9=`mouseover${s4}`,s8=`mouseout${s4}`,s7=`focusin${s4}`,at=`focusout${s4}`,ae=`hide${s4}`,an=`hidden${s4}`,ar=`show${s4}`,ai=`shown${s4}`,ao="hide",as="show",aa="showing",ac={animation:"boolean",autohide:"boolean",delay:"number"},al={animation:!0,autohide:!0,delay:5e3};class au extends r7{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return al}static get DefaultType(){return ac}static get NAME(){return"toast"}show(){r6.trigger(this._element,ar).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ao),rL(this._element),this._element.classList.add(as,aa),this._queueCallback(()=>{this._element.classList.remove(aa),r6.trigger(this._element,ai),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!r6.trigger(this._element,ae).defaultPrevented&&(this._element.classList.add(aa),this._queueCallback(()=>{this._element.classList.add(ao),this._element.classList.remove(aa,as),r6.trigger(this._element,an)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(as),super.dispose()}isShown(){return this._element.classList.contains(as)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e){this._clearTimeout();return}let n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){r6.on(this._element,s9,t=>this._onInteraction(t,!0)),r6.on(this._element,s8,t=>this._onInteraction(t,!1)),r6.on(this._element,s7,t=>this._onInteraction(t,!0)),r6.on(this._element,at,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let e=au.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t](this)}})}}ir(au),rV(au),(q=tg||(tg={}))[q.Temp=0]="Temp",q[q.Perma=1]="Perma",q[q.Unmuted=2]="Unmuted";var ad=tg;function ah(t,...e){let n=[...e].map(t=>"string"==typeof t?t:t.toString()),r=t;for(let t=0;t<r.length;++t)if("{"==r[t]){let e=t,o=!1;if(t+3>r.length)throw Error(`Error in format pattern "${r}": Cutoff/invalid format specifier`);for(let e=t+1;e<r.length;++e){switch(r[e]){case"}":o=!0,t=e;break;case"{":throw Error(`Error in format pattern "${r}": Cannot start a format specifier in an existing replacement`);case" ":throw Error(`Error in format pattern "${r}": Whitespace inside format specifier`);case"-":throw Error(`Error in format pattern "${r}": Malformed format specifier`);default:var i;if(i=r.charCodeAt(e),RegExp(/^\p{L}/,"u").test(String.fromCharCode(i)))throw Error(`Error in format pattern "${r}": Malformed format specifier`)}if(o)break}if(!o)throw Error(`Error in format pattern "${r}": No terminating "}" character found`);let s=r.substring(0,e),a=r.substring(e+3),c=parseInt(r.substring(e+1,t));if(Number.isNaN(c)||c>n.length)throw Error(`Error in format pattern "${r}": Argument index out of bounds`);r=s+n[c]+a}return r}var af={languageName:"English (US)",translatedLanguageName:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",author:"Computernewb",stringKeys:{kGeneric_CollabVM:"CollabVM",kGeneric_Yes:"Yes",kGeneric_No:"No",kGeneric_Ok:"OK",kGeneric_Cancel:"Cancel",kGeneric_Send:"Send",kGeneric_Understood:"Understood",kGeneric_Username:"Username",kGeneric_Password:"Password",kGeneric_Login:"Log in",kGeneric_Register:"Register",kGeneric_EMail:"E-Mail",kGeneric_DateOfBirth:"Date of Birth",kGeneric_VerificationCode:"Verification Code",kGeneric_Verify:"Verify",kGeneric_Update:"Update",kGeneric_Logout:"Log out",kWelcomeModal_Header:"Welcome to CollabVM",kWelcomeModal_Body:"<p>Before continuing, please familiarize yourself with our rules:</p> <h3>R1. Don't break the law.</h3> Do not use CollabVM or CollabVM's network to violate United States federal law, New York state law, or international law. If CollabVM becomes aware a crime has been committed through its service, you will be immediately banned, and your activities may be reported to the authorities if necessary.<br><br>CollabVM is required by law to notify law enforcement agencies if it becomes aware of the presence of child pornography on, or being transmitted through its network.<br><br>COPPA is also enforced, please do not use CollabVM if you are under the age of 13 years old. <h3>R2. No running DoS/DDoS tools.</h3> Do not use CollabVM to DoS/DDoS an indivdiual, business, company, or anyone else. <h3>R3. No spam distribution.</h3> Do not spam any emails using this service or push spam in general. <h3>R4. Do not abuse any exploits.</h3> Do not abuse any exploits, additionally if you see someone abusing exploits or you need to report one, please contact me at: computernewbab@gmail.com <h3>R5. Don't impersonate other users.</h3> Do not impersonate other members of CollabVM. If caught, you'll be temporarily disconnected, and banned if necessary. <h3>R6. One vote per person.</h3> Do not use any methods or tools to bypass the vote restriction. Only one vote per person is allowed, no matter what. Anybody who is caught doing this will be banned. <h3>R7. No Remote Administration Tools.</h3> Do not use any remote administration tools (ex: DarkComet, NanoCore, Anydesk, TeamViewer, Orcus, etc.) <h3>R8. No bypassing CollabNet.</h3> Do not attempt to bypass the blocking provided by CollabNet, especially if it is being used to break Rule 1, Rule 2, or Rule 7 (or run stupid over-used things). <h3>R9. No performing destructive actions constantly.</h3> Any user may not destroy the VM (rendering it unusable constantly), install/reinstall the operating system (except on VM7 or VM8), or run bots that do such. This includes bots that spam massive amounts of keyboard/mouse input (\"kitting\"). <h3>R10. No Cryptomining</h3> Attempting to mine cryptocurrency on the VMs will result in a kick, and then a permanent ban if you keep attempting. Besides, it's not like you're gonna make any money off it. <h3>NSFW Warning</h3> Please note that NSFW content is allowed on our anarchy VM (VM0b0t), and is viewed regularly. In addition, while we give a good effort to keep NSFW off the main VMs, people will occasionally slip it through.",kSiteButtons_Home:"Home",kSiteButtons_FAQ:"FAQ",kSiteButtons_Rules:"Rules",kSiteButtons_DarkMode:"Dark Mode",kSiteButtons_LightMode:"Light Mode",kVM_UsersOnlineText:"Users Online:",kVM_TurnTimeTimer:"Turn expires in {0} seconds.",kVM_WaitingTurnTimer:"Waiting for turn in {0} seconds.",kVM_VoteCooldownTimer:"Please wait {0} seconds before starting another vote.",kVM_VoteForResetTitle:"Do you want to reset the VM?",kVM_VoteForResetTimer:"Vote ends in {0} seconds",kVMButtons_TakeTurn:"Take Turn",kVMButtons_EndTurn:"End Turn",kVMButtons_ChangeUsername:"Change Username",kVMButtons_Keyboard:"Keyboard",KVMButtons_CtrlAltDel:"Ctrl+Alt+Del",kVMButtons_VoteForReset:"Vote For Reset",kVMButtons_Screenshot:"Screenshot",kQEMUMonitor:"QEMU Monitor",kAdminVMButtons_PassVote:"Pass Vote",kAdminVMButtons_CancelVote:"Cancel Vote",kAdminVMButtons_Restore:"Restore",kAdminVMButtons_Reboot:"Reboot",kAdminVMButtons_ClearTurnQueue:"Clear Turn Queue",kAdminVMButtons_BypassTurn:"Bypass Turn",kAdminVMButtons_IndefiniteTurn:"Indefinite Turn",kAdminVMButtons_GhostTurnOn:"Ghost Turn (On)",kAdminVMButtons_GhostTurnOff:"Ghost Turn (Off)",kAdminVMButtons_Ban:"Ban",kAdminVMButtons_Kick:"Kick",kAdminVMButtons_TempMute:"Temporary Mute",kAdminVMButtons_IndefMute:"Indefinite Mute",kAdminVMButtons_Unmute:"Unmute",kAdminVMButtons_GetIP:"Get IP",kVMPrompts_AdminChangeUsernamePrompt:"Enter new username for {0}:",kVMPrompts_AdminRestoreVMPrompt:"Are you sure you want to restore the VM?",kVMPrompts_EnterNewUsernamePrompt:"Enter a new username, or leave the field blank to be assigned a guest username",kError_UnexpectedDisconnection:"You have been disconnected from the server.",kError_UsernameTaken:"That username is already taken",kError_UsernameInvalid:"Usernames can contain only numbers, letters, spaces, dashes, underscores, and dots, and it must be between 3 and 20 characters.",kError_UsernameBlacklisted:"That username has been blacklisted.",kError_IncorrectPassword:"Incorrect password.",kAccountModal_Verify:"Verify E-Mail",kAccountModal_AccountSettings:"Account Settings",kAccountModal_ResetPassword:"Reset Password",kAccountModal_NewPassword:"New Password",kAccountModal_ConfirmNewPassword:"Confirm New Password",kAccountModal_CurrentPassword:"Current Password",kAccountModal_ConfirmPassword:"Confirm Password",kAccountModal_HideFlag:"Hide my Country Flag",kMissingCaptcha:"Please fill out the captcha.",kPasswordsMustMatch:"Passwords must match.",kAccountModal_VerifyText:"We sent an E-Mail to {0}. To verify your account, please enter the 8-digit code from the E-Mail below.",kAccountModal_VerifyPasswordResetText:"We sent an E-Mail to {0}. To reset your password, please enter the 8-digit code from the E-Mail below.",kAccountModal_PasswordResetSuccess:"Your password has been changed successfully. You can now log in with your new password.",kNotLoggedIn:"Not Logged in"}};(Y=ty||(ty={})).kGeneric_CollabVM="kGeneric_CollabVM",Y.kGeneric_Yes="kGeneric_Yes",Y.kGeneric_No="kGeneric_No",Y.kGeneric_Ok="kGeneric_Ok",Y.kGeneric_Cancel="kGeneric_Cancel",Y.kGeneric_Send="kGeneric_Send",Y.kGeneric_Understood="kGeneric_Understood",Y.kGeneric_Username="kGeneric_Username",Y.kGeneric_Password="kGeneric_Password",Y.kGeneric_Login="kGeneric_Login",Y.kGeneric_Register="kGeneric_Register",Y.kGeneric_EMail="kGeneric_EMail",Y.kGeneric_DateOfBirth="kGeneric_DateOfBirth",Y.kGeneric_VerificationCode="kGeneric_VerificationCode",Y.kGeneric_Verify="kGeneric_Verify",Y.kGeneric_Update="kGeneric_Update",Y.kGeneric_Logout="kGeneric_Logout",Y.kWelcomeModal_Header="kWelcomeModal_Header",Y.kWelcomeModal_Body="kWelcomeModal_Body",Y.kSiteButtons_Home="kSiteButtons_Home",Y.kSiteButtons_FAQ="kSiteButtons_FAQ",Y.kSiteButtons_Rules="kSiteButtons_Rules",Y.kSiteButtons_DarkMode="kSiteButtons_DarkMode",Y.kSiteButtons_LightMode="kSiteButtons_LightMode",Y.kSiteButtons_Languages="kSiteButtons_Languages",Y.kVM_UsersOnlineText="kVM_UsersOnlineText",Y.kVM_TurnTimeTimer="kVM_TurnTimeTimer",Y.kVM_WaitingTurnTimer="kVM_WaitingTurnTimer",Y.kVM_VoteCooldownTimer="kVM_VoteCooldownTimer",Y.kVM_VoteForResetTitle="kVM_VoteForResetTitle",Y.kVM_VoteForResetTimer="kVM_VoteForResetTimer",Y.kVMButtons_TakeTurn="kVMButtons_TakeTurn",Y.kVMButtons_EndTurn="kVMButtons_EndTurn",Y.kVMButtons_ChangeUsername="kVMButtons_ChangeUsername",Y.kVMButtons_Keyboard="kVMButtons_Keyboard",Y.KVMButtons_CtrlAltDel="KVMButtons_CtrlAltDel",Y.kVMButtons_VoteForReset="kVMButtons_VoteForReset",Y.kVMButtons_Screenshot="kVMButtons_Screenshot",Y.kQEMUMonitor="kQEMUMonitor",Y.kAdminVMButtons_PassVote="kAdminVMButtons_PassVote",Y.kAdminVMButtons_CancelVote="kAdminVMButtons_CancelVote",Y.kAdminVMButtons_Restore="kAdminVMButtons_Restore",Y.kAdminVMButtons_Reboot="kAdminVMButtons_Reboot",Y.kAdminVMButtons_ClearTurnQueue="kAdminVMButtons_ClearTurnQueue",Y.kAdminVMButtons_BypassTurn="kAdminVMButtons_BypassTurn",Y.kAdminVMButtons_IndefiniteTurn="kAdminVMButtons_IndefiniteTurn",Y.kAdminVMButtons_GhostTurnOn="kAdminVMButtons_GhostTurnOn",Y.kAdminVMButtons_GhostTurnOff="kAdminVMButtons_GhostTurnOff",Y.kAdminVMButtons_Ban="kAdminVMButtons_Ban",Y.kAdminVMButtons_Kick="kAdminVMButtons_Kick",Y.kAdminVMButtons_TempMute="kAdminVMButtons_TempMute",Y.kAdminVMButtons_IndefMute="kAdminVMButtons_IndefMute",Y.kAdminVMButtons_Unmute="kAdminVMButtons_Unmute",Y.kAdminVMButtons_GetIP="kAdminVMButtons_GetIP",Y.kVMPrompts_AdminChangeUsernamePrompt="kVMPrompts_AdminChangeUsernamePrompt",Y.kVMPrompts_AdminRestoreVMPrompt="kVMPrompts_AdminRestoreVMPrompt",Y.kVMPrompts_EnterNewUsernamePrompt="kVMPrompts_EnterNewUsernamePrompt",Y.kError_UnexpectedDisconnection="kError_UnexpectedDisconnection",Y.kError_UsernameTaken="kError_UsernameTaken",Y.kError_UsernameInvalid="kError_UsernameInvalid",Y.kError_UsernameBlacklisted="kError_UsernameBlacklisted",Y.kError_IncorrectPassword="kError_IncorrectPassword",Y.kAccountModal_Verify="kAccountModal_Verify",Y.kAccountModal_AccountSettings="kAccountModal_AccountSettings",Y.kAccountModal_ResetPassword="kAccountModal_ResetPassword",Y.kAccountModal_NewPassword="kAccountModal_NewPassword",Y.kAccountModal_ConfirmNewPassword="kAccountModal_ConfirmNewPassword",Y.kAccountModal_CurrentPassword="kAccountModal_CurrentPassword",Y.kAccountModal_ConfirmPassword="kAccountModal_ConfirmPassword",Y.kAccountModal_HideFlag="kAccountModal_HideFlag",Y.kAccountModal_VerifyText="kAccountModal_VerifyText",Y.kAccountModal_VerifyPasswordResetText="kAccountModal_VerifyPasswordResetText",Y.kAccountModal_PasswordResetSuccess="kAccountModal_PasswordResetSuccess",Y.kMissingCaptcha="kMissingCaptcha",Y.kPasswordsMustMatch="kPasswordsMustMatch",Y.kNotLoggedIn="kNotLoggedIn";const ap="!!fallback";class am{langs=new Map;lang=af;languageDropdown=document.getElementById("languageDropdown");emitter=g();CurrentLanguage=()=>this.langId;langId=ap;regionNameRenderer=new Intl.DisplayNames(["en-US"],{type:"region"});async Init(){var t=await fetch("lang/languages.json");if(!t.ok){alert("Failed to load languages.json: "+t.statusText),await this.SetLanguage(ap),this.ReplaceStaticStrings();return}var e=await t.json();for(let t in e.languages)this.langs.set(t,e.languages[t]);this.langs.forEach((t,e)=>{var n=document.createElement("a");n.classList.add("dropdown-item"),n.href="#",n.innerText=`${t.flag} ${t.languageName}`,n.addEventListener("click",async t=>{t.preventDefault(),await this.SetLanguage(e),this.ReplaceStaticStrings()}),this.languageDropdown.appendChild(n)});let n=null,r=window.localStorage.getItem("i18n-lang");var i=navigator.language.toLowerCase();if(null!==r&&this.langs.has(r))n=r;else if(this.langs.has(i))n=i;else for(let t in e.languages)if(t.split("-")[0]===i.split("-")[0]){n=t;break}null===n&&(n=e.defaultLanguage),await this.SetLanguage(n),this.ReplaceStaticStrings()}getCountryName(t){return this.regionNameRenderer.of(t)||t}async SetLanguage(t){let e,n=this.langId;if(this.langId=t,t===ap)e=af;else{let n=`./lang/${t}.json`,r=await fetch(n);if(!r.ok){console.error(`Failed to load lang/${t}.json: ${r.statusText}`),await this.SetLanguage(ap);return}e=await r.json()}this.lang=e,this.langId!=n&&(this.ReplaceStaticStrings(),this.regionNameRenderer=new Intl.DisplayNames([this.langId],{type:"region"})),this.langId!==ap&&window.localStorage.setItem("i18n-lang",this.langId),this.emitter.emit("languageChanged",this.langId),console.log("i18n initalized for",t,"sucessfully!")}ReplaceStaticStrings(){let t={siteNameText:"kGeneric_CollabVM",homeBtnText:"kSiteButtons_Home",faqBtnText:"kSiteButtons_FAQ",rulesBtnText:"kSiteButtons_Rules",accountLoginButton:"kGeneric_Login",accountRegisterButton:"kGeneric_Register",accountSettingsButton:"kAccountModal_AccountSettings",accountLogoutButton:"kGeneric_Logout",languageDropdownText:"kSiteButtons_Languages",welcomeModalHeader:"kWelcomeModal_Header",welcomeModalBody:"kWelcomeModal_Body",welcomeModalDismiss:"kGeneric_Understood",usersOnlineText:"kVM_UsersOnlineText",voteResetHeaderText:"kVM_VoteForResetTitle",voteYesBtnText:"kGeneric_Yes",voteNoBtnText:"kGeneric_No",changeUsernameBtnText:"kVMButtons_ChangeUsername",oskBtnText:"kVMButtons_Keyboard",ctrlAltDelBtnText:"KVMButtons_CtrlAltDel",voteForResetBtnText:"kVMButtons_VoteForReset",screenshotBtnText:"kVMButtons_Screenshot",badPasswordAlertText:"kError_IncorrectPassword",loginModalPasswordText:"kGeneric_Password",loginButton:"kGeneric_Login",passVoteBtnText:"kAdminVMButtons_PassVote",cancelVoteBtnText:"kAdminVMButtons_CancelVote",endTurnBtnText:"kVMButtons_EndTurn",qemuMonitorBtnText:"kQEMUMonitor",qemuModalHeader:"kQEMUMonitor",qemuMonitorSendBtn:"kGeneric_Send",restoreBtnText:"kAdminVMButtons_Restore",rebootBtnText:"kAdminVMButtons_Reboot",clearQueueBtnText:"kAdminVMButtons_ClearTurnQueue",bypassTurnBtnText:"kAdminVMButtons_BypassTurn",indefTurnBtnText:"kAdminVMButtons_IndefiniteTurn",ghostTurnBtnText:"kAdminVMButtons_GhostTurnOff",accountLoginUsernameLabel:"kGeneric_Username",accountLoginPasswordLabel:"kGeneric_Password",accountModalLoginBtn:"kGeneric_Login",accountForgotPasswordButton:"kAccountModal_ResetPassword",accountRegisterEmailLabel:"kGeneric_EMail",accountRegisterUsernameLabel:"kGeneric_Username",accountRegisterPasswordLabel:"kGeneric_Password",accountRegisterConfirmPasswordLabel:"kAccountModal_ConfirmPassword",accountRegisterDateOfBirthLabel:"kGeneric_DateOfBirth",accountModalRegisterBtn:"kGeneric_Register",accountVerifyEmailCodeLabel:"kGeneric_VerificationCode",accountVerifyEmailPasswordLabel:"kGeneric_Password",accountModalVerifyEmailBtn:"kGeneric_Verify",accountSettingsEmailLabel:"kGeneric_EMail",accountSettingsUsernameLabel:"kGeneric_Username",accountSettingsNewPasswordLabel:"kAccountModal_NewPassword",accountSettingsConfirmNewPasswordLabel:"kAccountModal_ConfirmNewPassword",accountSettingsCurrentPasswordLabel:"kAccountModal_CurrentPassword",hideFlagCheckboxLabel:"kAccountModal_HideFlag",updateAccountSettingsBtn:"kGeneric_Update",accountResetPasswordEmailLabel:"kGeneric_EMail",accountResetPasswordUsernameLabel:"kGeneric_Username",accountResetPasswordBtn:"kAccountModal_ResetPassword",accountResetPasswordCodeLabel:"kGeneric_VerificationCode",accountResetPasswordNewPasswordLabel:"kAccountModal_NewPassword",accountResetPasswordConfirmNewPasswordLabel:"kAccountModal_ConfirmNewPassword",accountResetPasswordVerifyBtn:"kAccountModal_ResetPassword"},e={adminPassword:{placeholder:"kGeneric_Password"},accountLoginUsername:{placeholder:"kGeneric_Username"},accountLoginPassword:{placeholder:"kGeneric_Password"},accountRegisterEmail:{placeholder:"kGeneric_EMail"},accountRegisterUsername:{placeholder:"kGeneric_Username"},accountRegisterPassword:{placeholder:"kGeneric_Password"},accountRegisterConfirmPassword:{placeholder:"kAccountModal_ConfirmPassword"},accountVerifyEmailCode:{placeholder:"kGeneric_VerificationCode"},accountVerifyEmailPassword:{placeholder:"kGeneric_Password"},accountSettingsEmail:{placeholder:"kGeneric_EMail"},accountSettingsUsername:{placeholder:"kGeneric_Username"},accountSettingsNewPassword:{placeholder:"kAccountModal_NewPassword"},accountSettingsConfirmNewPassword:{placeholder:"kAccountModal_ConfirmNewPassword"},accountSettingsCurrentPassword:{placeholder:"kAccountModal_CurrentPassword"},accountResetPasswordEmail:{placeholder:"kGeneric_EMail"},accountResetPasswordUsername:{placeholder:"kGeneric_Username"},accountResetPasswordCode:{placeholder:"kGeneric_VerificationCode"},accountResetPasswordNewPassword:{placeholder:"kAccountModal_NewPassword"},accountResetPasswordConfirmNewPassword:{placeholder:"kAccountModal_ConfirmNewPassword"}},n={"mod-end-turn-btn":"kVMButtons_EndTurn","mod-ban-btn":"kAdminVMButtons_Ban","mod-kick-btn":"kAdminVMButtons_Kick","mod-change-username-btn":"kVMButtons_ChangeUsername","mod-temp-mute-btn":"kAdminVMButtons_TempMute","mod-indef-mute-btn":"kAdminVMButtons_IndefMute","mod-unmute-btn":"kAdminVMButtons_Unmute","mod-get-ip-btn":"kAdminVMButtons_GetIP"};for(let e of Object.keys(t)){let n=document.getElementById(e);if(null==n){alert(`Error: Could not find element with ID ${e} in the DOM! Please tell a site admin this happened.`);return}n.innerHTML=this.GetStringRaw(t[e])}for(let t of Object.keys(e)){let n=document.getElementById(t);if(null==n){alert(`Error: Could not find element with ID ${t} in the DOM! Please tell a site admin this happened.`);return}let r=e[t];for(let t of Object.keys(r))n.setAttribute(t,this.GetStringRaw(r[t]))}for(let t of Object.keys(n))for(let e of document.getElementsByClassName(t))e.innerHTML=this.GetStringRaw(n[t])}GetStringRaw(t){if("kGeneric_CollabVM"===t&&f(e8).SiteNameOverride)return f(e8).SiteNameOverride;if("kWelcomeModal_Header"===t&&f(e8).WelcomeModalTitleOverride)return f(e8).WelcomeModalTitleOverride;if("kWelcomeModal_Body"===t&&f(e8).WelcomeModalBodyOverride)return f(e8).WelcomeModalBodyOverride;let e=this.lang.stringKeys[t];if(void 0==e){let n=af.stringKeys[t];if(void 0===n)return`${t} (ERROR LOOKING UP TRANSLATION!!!)`;e=n}return e}GetString(t,...e){return ah(this.GetStringRaw(t),...e)}on(t,e){return this.emitter.on(t,e)}}let ag=new am;class ay{apiEndpoint;info;account;constructor(t){this.apiEndpoint=t,this.info=null,this.account=null}getAPIInformation(){return new Promise(async t=>{var e=await fetch(this.apiEndpoint+"/api/v1/info");this.info=await e.json(),t(this.info)})}login(t,e,n,r,i){return new Promise(async(o,s)=>{if(!this.info)throw Error("Cannot login before fetching API information.");if(!n&&this.info.hcaptcha?.required)throw Error("This API requires a valid hCaptcha token.");if(!r&&this.info.turnstile?.required)throw Error("This API requires a valid Turnstile token.");if(!i&&this.info.recaptcha?.required)throw Error("This API requires a valid reCAPTCHA token.");var a=await fetch(this.apiEndpoint+"/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e,captchaToken:n,turnstileToken:r,recaptchaToken:i})}),c=await a.json();if(!c)throw Error("data.json() gave null or undefined result");c.success&&!c.verificationRequired&&(this.account={username:c.username,email:c.email,sessionToken:c.token}),o(c)})}loadSession(t){return new Promise(async(e,n)=>{var r=await fetch(this.apiEndpoint+"/api/v1/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})}),i=await r.json();i.success&&(this.account={sessionToken:t,username:i.username,email:i.email}),e(i)})}register(t,e,n,r,i,o,s){return new Promise(async(a,c)=>{if(!this.info)throw Error("Cannot login before fetching API information.");if(!i&&this.info.hcaptcha?.required)throw Error("This API requires a valid hCaptcha token.");if(!o&&this.info.turnstile?.required)throw Error("This API requires a valid Turnstile token.");if(!s&&this.info.recaptcha?.required)throw Error("This API requires a valid reCAPTCHA token.");var l=await fetch(this.apiEndpoint+"/api/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e,email:n,dateOfBirth:r.format("YYYY-MM-DD"),captchatoken:i,turnstiletoken:o,recaptchaToken:s})});a(await l.json())})}logout(){return new Promise(async t=>{if(!this.account)throw Error("Cannot log out without logging in first");var e=await fetch(this.apiEndpoint+"/api/v1/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.account.sessionToken})}),n=await e.json();this.account=null,t(n)})}verifyEmail(t,e,n){return new Promise(async r=>{var i=await fetch(this.apiEndpoint+"/api/v1/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e,code:n})});r(await i.json())})}updateAccount(t,e,n,r){return new Promise(async i=>{if(!this.account)throw Error("Cannot update account without being logged in.");if(!e&&!n&&!r)throw Error("Cannot update account without any new information.");var o=await fetch(this.apiEndpoint+"/api/v1/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.account.sessionToken,currentPassword:t,newPassword:r,username:n,email:e})}),s=await o.json();s.success&&(this.account.email!==e&&(this.account.email=e),this.account.username!==n&&(this.account.username=n),(s.sessionExpired||s.verificationRequired)&&(this.account=null)),i(s)})}sendPasswordResetEmail(t,e,n,r,i){return new Promise(async o=>{if(!this.info)throw Error("Cannot send password reset email without fetching API information.");if(!n&&this.info.hcaptcha?.required)throw Error("This API requires a valid hCaptcha token.");if(!r&&this.info.turnstile?.required)throw Error("This API requires a valid Turnstile token.");if(!i&&this.info.recaptcha?.required)throw Error("This API requires a valid reCAPTCHA token.");var s=await fetch(this.apiEndpoint+"/api/v1/sendreset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:e,captchaToken:n,turnstileToken:r,recaptchaToken:i})});o(await s.json())})}resetPassword(t,e,n,r){return new Promise(async i=>{var o=await fetch(this.apiEndpoint+"/api/v1/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:e,code:n,newPassword:r})});i(await o.json())})}}var av={};T="millisecond",A="second",M="minute",C="hour",x="week",I="month",B="quarter",O="year",P="date",L="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},(V={})[U="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||"th")+"]"}},j="$isDayjsObject",F=function(t){return t instanceof K||!(!t||!t[j])},$=function t(e,n,r){var i;if(!e)return U;if("string"==typeof e){var o=e.toLowerCase();V[o]&&(i=o),n&&(V[o]=n,i=o);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var a=e.name;V[a]=e,i=a}return!r&&i&&(U=i),i||!r&&U},G=function(t,e){if(F(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new K(n)},(H={s:N,z:function(t){var e=-t.utcOffset(),n=Math.abs(e);return(e<=0?"+":"-")+N(Math.floor(n/60),2,"0")+":"+N(n%60,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,I),o=n-i<0,s=e.clone().add(r+(o?-1:1),I);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return({M:I,y:O,w:x,d:"day",D:P,h:C,m:M,s:A,ms:T,Q:B})[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}}).l=$,H.i=F,H.w=function(t,e){return G(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})},z=(K=function(){function t(t){this.$L=$(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[j]=!0}var e=t.prototype;return e.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(H.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(R);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return H},e.isValid=function(){return this.$d.toString()!==L},e.isSame=function(t,e){var n=G(t);return this.startOf(e)<=n&&n<=this.endOf(e)},e.isAfter=function(t,e){return G(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<G(t)},e.$g=function(t,e,n){return H.u(t)?this[e]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var n=this,r=!!H.u(e)||e,i=H.p(t),o=function(t,e){var i=H.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf("day")},s=function(t,e){return H.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},a=this.$W,c=this.$M,l=this.$D,u="set"+(this.$u?"UTC":"");switch(i){case O:return r?o(1,0):o(31,11);case I:return r?o(1,c):o(0,c+1);case x:var d=this.$locale().weekStart||0,h=(a<d?a+7:a)-d;return o(r?l-h:l+(6-h),c);case"day":case P:return s(u+"Hours",0);case C:return s(u+"Minutes",1);case M:return s(u+"Seconds",2);case A:return s(u+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n,r=H.p(t),i="set"+(this.$u?"UTC":""),o=((n={}).day=i+"Date",n[P]=i+"Date",n[I]=i+"Month",n[O]=i+"FullYear",n[C]=i+"Hours",n[M]=i+"Minutes",n[A]=i+"Seconds",n[T]=i+"Milliseconds",n)[r],s="day"===r?this.$D+(e-this.$W):e;if(r===I||r===O){var a=this.clone().set(P,1);a.$d[o](s),a.init(),this.$d=a.set(P,Math.min(this.$D,a.daysInMonth())).$d}else o&&this.$d[o](s);return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[H.p(t)]()},e.add=function(t,e){var n,r=this;t=Number(t);var i=H.p(e),o=function(e){var n=G(r);return H.w(n.date(n.date()+Math.round(e*t)),r)};if(i===I)return this.set(I,this.$M+t);if(i===O)return this.set(O,this.$y+t);if("day"===i)return o(1);if(i===x)return o(7);var s=((n={})[M]=6e4,n[C]=36e5,n[A]=1e3,n)[i]||1,a=this.$d.getTime()+t*s;return H.w(a,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||L;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=H.z(this),o=this.$H,s=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},h=function(t){return H.s(o%12||12,t,"0")},f=u||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(D,function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return H.s(e.$y,4,"0");case"M":return a+1;case"MM":return H.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,l,3);case"MMMM":return d(l,a);case"D":return e.$D;case"DD":return H.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(n.weekdaysMin,e.$W,c,2);case"ddd":return d(n.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(o);case"HH":return H.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(o,s,!0);case"A":return f(o,s,!1);case"m":return String(s);case"mm":return H.s(s,2,"0");case"s":return String(e.$s);case"ss":return H.s(e.$s,2,"0");case"SSS":return H.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")})},e.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},e.diff=function(t,e,n){var r,i=this,o=H.p(e),s=G(t),a=(s.utcOffset()-this.utcOffset())*6e4,c=this-s,l=function(){return H.m(i,s)};switch(o){case O:r=l()/12;break;case I:r=l();break;case B:r=l()/3;break;case x:r=(c-a)/6048e5;break;case"day":r=(c-a)/864e5;break;case C:r=c/36e5;break;case M:r=c/6e4;break;case A:r=c/1e3;break;default:r=c}return n?r:H.a(r)},e.daysInMonth=function(){return this.endOf(I).$D},e.$locale=function(){return V[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=$(t,e,!0);return r&&(n.$L=r),n},e.clone=function(){return H.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}()).prototype,G.prototype=z,[["$ms",T],["$s",A],["$m",M],["$H",C],["$W","day"],["$M",I],["$y",O],["$D",P]].forEach(function(t){z[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),G.extend=function(t,e){return t.$i||(t(e,K,G),t.$i=!0),G},G.locale=$,G.isDayjs=F,G.unix=function(t){return G(1e3*t)},G.en=V[U],G.Ls=V,G.p={},av=G;var ab={};ab=function(){let{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object,{freeze:o,seal:s,create:a}=Object,{apply:c,construct:l}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),s||(s=function(t){return t}),c||(c=function(t,e,n){return t.apply(e,n)}),l||(l=function(t,e){return new t(...e)});let u=E(Array.prototype.forEach),d=E(Array.prototype.pop),h=E(Array.prototype.push),f=E(String.prototype.toLowerCase),p=E(String.prototype.toString),m=E(String.prototype.match),g=E(String.prototype.replace),y=E(String.prototype.indexOf),v=E(String.prototype.trim),b=E(Object.prototype.hasOwnProperty),w=E(RegExp.prototype.test),_=(z=TypeError,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l(z,e)});function E(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return c(t,e,r)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){let t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function S(e){let n=a(null);for(let[r,i]of t(e))b(e,r)&&(Array.isArray(i)?n[r]=function(t){for(let e=0;e<t.length;e++)b(t,e)||(t[e]=null);return t}(i):i&&"object"==typeof i&&i.constructor===Object?n[r]=S(i):n[r]=i);return n}function T(t,e){for(;null!==t;){let n=i(t,e);if(n){if(n.get)return E(n.get);if("function"==typeof n.value)return E(n.value)}t=r(t)}return function(){return null}}let A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=o(["#text"]),P=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),L=o(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),N=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=s(/<%[\w\W]*|[\w\W]*%>/gm),V=s(/\${[\w\W]*}/gm),j=s(/^data-[\-\w.\u00B7-\uFFFF]/),F=s(/^aria-[\-\w]+$/),$=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=s(/^(?:\w+script|data):/i),H=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=s(/^html$/i);var z,W=Object.freeze({__proto__:null,MUSTACHE_EXPR:N,ERB_EXPR:U,TMPLIT_EXPR:V,DATA_ATTR:j,ARIA_ATTR:F,IS_ALLOWED_URI:$,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:H,DOCTYPE_NAME:K,CUSTOM_ELEMENT:s(/^[a-z][.\w]*(-[.\w]+)+$/i)});let q={element:1,text:3,progressingInstruction:7,comment:8,document:9},Y=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null,r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));let i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){let n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=t=>e(t);if(i.version="3.1.7",i.removed=[],!r||!r.document||r.document.nodeType!==q.document)return i.isSupported=!1,i;let{document:s}=r,c=s,l=c.currentScript,{DocumentFragment:E,HTMLTemplateElement:N,Node:U,Element:V,NodeFilter:j,NamedNodeMap:F=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:G,DOMParser:H,trustedTypes:z}=r,Q=V.prototype,X=T(Q,"cloneNode"),J=T(Q,"remove"),Z=T(Q,"nextSibling"),tt=T(Q,"childNodes"),te=T(Q,"parentNode");if("function"==typeof N){let t=s.createElement("template");t.content&&t.content.ownerDocument&&(s=t.content.ownerDocument)}let tn="",{implementation:tr,createNodeIterator:ti,createDocumentFragment:to,getElementsByTagName:ts}=s,{importNode:ta}=c,tc={};i.isSupported="function"==typeof t&&"function"==typeof te&&tr&&void 0!==tr.createHTMLDocument;let{MUSTACHE_EXPR:tl,ERB_EXPR:tu,TMPLIT_EXPR:td,DATA_ATTR:th,ARIA_ATTR:tf,IS_SCRIPT_OR_DATA:tp,ATTR_WHITESPACE:tm,CUSTOM_ELEMENT:tg}=W,{IS_ALLOWED_URI:ty}=W,tv=null,tb=k({},[...A,...M,...C,...I,...O]),tw=null,t_=k({},[...P,...L,...R,...D]),tE=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tk=null,tS=null,tT=!0,tA=!0,tM=!1,tC=!0,tx=!1,tI=!0,tB=!1,tO=!1,tP=!1,tL=!1,tR=!1,tD=!1,tN=!0,tU=!1,tV=!0,tj=!1,tF={},t$=null,tG=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tH=null,tK=k({},["audio","video","img","source","image","track"]),tz=null,tW=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tq="http://www.w3.org/1998/Math/MathML",tY="http://www.w3.org/2000/svg",tQ="http://www.w3.org/1999/xhtml",tX=tQ,tJ=!1,tZ=null,t0=k({},[tq,tY,tQ],p),t1=null,t2=["application/xhtml+xml","text/html"],t6=null,t5=null,t3=s.createElement("form"),t4=function(t){return t instanceof RegExp||t instanceof Function},t9=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t5||t5!==t){if(t&&"object"==typeof t||(t={}),t=S(t),t6="application/xhtml+xml"===(t1=-1===t2.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?p:f,tv=b(t,"ALLOWED_TAGS")?k({},t.ALLOWED_TAGS,t6):tb,tw=b(t,"ALLOWED_ATTR")?k({},t.ALLOWED_ATTR,t6):t_,tZ=b(t,"ALLOWED_NAMESPACES")?k({},t.ALLOWED_NAMESPACES,p):t0,tz=b(t,"ADD_URI_SAFE_ATTR")?k(S(tW),t.ADD_URI_SAFE_ATTR,t6):tW,tH=b(t,"ADD_DATA_URI_TAGS")?k(S(tK),t.ADD_DATA_URI_TAGS,t6):tK,t$=b(t,"FORBID_CONTENTS")?k({},t.FORBID_CONTENTS,t6):tG,tk=b(t,"FORBID_TAGS")?k({},t.FORBID_TAGS,t6):{},tS=b(t,"FORBID_ATTR")?k({},t.FORBID_ATTR,t6):{},tF=!!b(t,"USE_PROFILES")&&t.USE_PROFILES,tT=!1!==t.ALLOW_ARIA_ATTR,tA=!1!==t.ALLOW_DATA_ATTR,tM=t.ALLOW_UNKNOWN_PROTOCOLS||!1,tC=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,tx=t.SAFE_FOR_TEMPLATES||!1,tI=!1!==t.SAFE_FOR_XML,tB=t.WHOLE_DOCUMENT||!1,tL=t.RETURN_DOM||!1,tR=t.RETURN_DOM_FRAGMENT||!1,tD=t.RETURN_TRUSTED_TYPE||!1,tP=t.FORCE_BODY||!1,tN=!1!==t.SANITIZE_DOM,tU=t.SANITIZE_NAMED_PROPS||!1,tV=!1!==t.KEEP_CONTENT,tj=t.IN_PLACE||!1,ty=t.ALLOWED_URI_REGEXP||$,tX=t.NAMESPACE||tQ,tE=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&t4(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(tE.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&t4(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(tE.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(tE.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),tx&&(tA=!1),tR&&(tL=!0),tF&&(tv=k({},O),tw=[],!0===tF.html&&(k(tv,A),k(tw,P)),!0===tF.svg&&(k(tv,M),k(tw,L),k(tw,D)),!0===tF.svgFilters&&(k(tv,C),k(tw,L),k(tw,D)),!0===tF.mathMl&&(k(tv,I),k(tw,R),k(tw,D))),t.ADD_TAGS&&(tv===tb&&(tv=S(tv)),k(tv,t.ADD_TAGS,t6)),t.ADD_ATTR&&(tw===t_&&(tw=S(tw)),k(tw,t.ADD_ATTR,t6)),t.ADD_URI_SAFE_ATTR&&k(tz,t.ADD_URI_SAFE_ATTR,t6),t.FORBID_CONTENTS&&(t$===tG&&(t$=S(t$)),k(t$,t.FORBID_CONTENTS,t6)),tV&&(tv["#text"]=!0),tB&&k(tv,["html","head","body"]),tv.table&&(k(tv,["tbody"]),delete tk.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');tn=(n=t.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===n&&(n=Y(z,l)),null!==n&&"string"==typeof tn&&(tn=n.createHTML(""));o&&o(t),t5=t}},t8=k({},["mi","mo","mn","ms","mtext"]),t7=k({},["annotation-xml"]),et=k({},["title","style","font","a","script"]),ee=k({},[...M,...C,...x]),en=k({},[...I,...B]),er=function(t){let e=te(t);e&&e.tagName||(e={namespaceURI:tX,tagName:"template"});let n=f(t.tagName),r=f(e.tagName);return!!tZ[t.namespaceURI]&&(t.namespaceURI===tY?e.namespaceURI===tQ?"svg"===n:e.namespaceURI===tq?"svg"===n&&("annotation-xml"===r||t8[r]):!!ee[n]:t.namespaceURI===tq?e.namespaceURI===tQ?"math"===n:e.namespaceURI===tY?"math"===n&&t7[r]:!!en[n]:t.namespaceURI===tQ?(e.namespaceURI!==tY||!!t7[r])&&(e.namespaceURI!==tq||!!t8[r])&&!en[n]&&(et[n]||!ee[n]):"application/xhtml+xml"===t1&&!!tZ[t.namespaceURI])},ei=function(t){h(i.removed,{element:t});try{te(t).removeChild(t)}catch(e){J(t)}},eo=function(t,e){try{h(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){h(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!tw[t]){if(tL||tR)try{ei(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}}},es=function(t){let e=null,r=null;if(tP)t="<remove></remove>"+t;else{let e=m(t,/^[\r\n\t ]+/);r=e&&e[0]}"application/xhtml+xml"===t1&&tX===tQ&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");let i=n?n.createHTML(t):t;if(tX===tQ)try{e=new H().parseFromString(i,t1)}catch(t){}if(!e||!e.documentElement){e=tr.createDocument(tX,"template",null);try{e.documentElement.innerHTML=tJ?tn:i}catch(t){}}let o=e.body||e.documentElement;return(t&&r&&o.insertBefore(s.createTextNode(r),o.childNodes[0]||null),tX===tQ)?ts.call(e,tB?"html":"body")[0]:tB?e.documentElement:o},ea=function(t){return ti.call(t.ownerDocument||t,t,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},ec=function(t){return t instanceof G&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof F)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},el=function(t){return"function"==typeof U&&t instanceof U},eu=function(t,e,n){tc[t]&&u(tc[t],t=>{t.call(i,e,n,t5)})},ed=function(t){let e=null;if(eu("beforeSanitizeElements",t,null),ec(t))return ei(t),!0;let n=t6(t.nodeName);if(eu("uponSanitizeElement",t,{tagName:n,allowedTags:tv}),t.hasChildNodes()&&!el(t.firstElementChild)&&w(/<[/\w]/g,t.innerHTML)&&w(/<[/\w]/g,t.textContent)||t.nodeType===q.progressingInstruction||tI&&t.nodeType===q.comment&&w(/<[/\w]/g,t.data))return ei(t),!0;if(!tv[n]||tk[n]){if(!tk[n]&&ef(n)&&(tE.tagNameCheck instanceof RegExp&&w(tE.tagNameCheck,n)||tE.tagNameCheck instanceof Function&&tE.tagNameCheck(n)))return!1;if(tV&&!t$[n]){let e=te(t)||t.parentNode,n=tt(t)||t.childNodes;if(n&&e){let r=n.length;for(let i=r-1;i>=0;--i){let r=X(n[i],!0);r.__removalCount=(t.__removalCount||0)+1,e.insertBefore(r,Z(t))}}}return ei(t),!0}return t instanceof V&&!er(t)||("noscript"===n||"noembed"===n||"noframes"===n)&&w(/<\/no(script|embed|frames)/i,t.innerHTML)?(ei(t),!0):(tx&&t.nodeType===q.text&&(e=t.textContent,u([tl,tu,td],t=>{e=g(e,t," ")}),t.textContent!==e&&(h(i.removed,{element:t.cloneNode()}),t.textContent=e)),eu("afterSanitizeElements",t,null),!1)},eh=function(t,e,n){if(tN&&("id"===e||"name"===e)&&(n in s||n in t3))return!1;if(tA&&!tS[e]&&w(th,e));else if(tT&&w(tf,e));else if(!tw[e]||tS[e]){if(!(ef(t)&&(tE.tagNameCheck instanceof RegExp&&w(tE.tagNameCheck,t)||tE.tagNameCheck instanceof Function&&tE.tagNameCheck(t))&&(tE.attributeNameCheck instanceof RegExp&&w(tE.attributeNameCheck,e)||tE.attributeNameCheck instanceof Function&&tE.attributeNameCheck(e))||"is"===e&&tE.allowCustomizedBuiltInElements&&(tE.tagNameCheck instanceof RegExp&&w(tE.tagNameCheck,n)||tE.tagNameCheck instanceof Function&&tE.tagNameCheck(n))))return!1}else if(tz[e]);else if(w(ty,g(n,tm,"")));else if(("src"===e||"xlink:href"===e||"href"===e)&&"script"!==t&&0===y(n,"data:")&&tH[t]);else if(tM&&!w(tp,g(n,tm,"")));else if(n)return!1;return!0},ef=function(t){return"annotation-xml"!==t&&m(t,tg)},ep=function(t){eu("beforeSanitizeAttributes",t,null);let{attributes:e}=t;if(!e)return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tw},o=e.length;for(;o--;){let{name:s,namespaceURI:a,value:c}=e[o],l=t6(s),h="value"===s?c:v(c);if(r.attrName=l,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,eu("uponSanitizeAttribute",t,r),h=r.attrValue,r.forceKeepAttr||(eo(s,t),!r.keepAttr))continue;if(!tC&&w(/\/>/i,h)){eo(s,t);continue}tx&&u([tl,tu,td],t=>{h=g(h,t," ")});let f=t6(t.nodeName);if(eh(f,l,h)){if(tU&&("id"===l||"name"===l)&&(eo(s,t),h="user-content-"+h),tI&&w(/((--!?|])>)|<\/(style|title)/i,h)){eo(s,t);continue}if(n&&"object"==typeof z&&"function"==typeof z.getAttributeType){if(a);else switch(z.getAttributeType(f,l)){case"TrustedHTML":h=n.createHTML(h);break;case"TrustedScriptURL":h=n.createScriptURL(h)}}try{a?t.setAttributeNS(a,s,h):t.setAttribute(s,h),ec(t)?ei(t):d(i.removed)}catch(t){}}}eu("afterSanitizeAttributes",t,null)},em=function t(e){let n=null,r=ea(e);for(eu("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)eu("uponSanitizeShadowNode",n,null),ed(n)||(n.content instanceof E&&t(n.content),ep(n));eu("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,a=null;if((tJ=!t)&&(t="<!-->"),"string"!=typeof t&&!el(t)){if("function"==typeof t.toString){if("string"!=typeof(t=t.toString()))throw _("dirty is not a string, aborting")}else throw _("toString is not a function")}if(!i.isSupported)return t;if(tO||t9(e),i.removed=[],"string"==typeof t&&(tj=!1),tj){if(t.nodeName){let e=t6(t.nodeName);if(!tv[e]||tk[e])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof U)(o=(r=es("<!---->")).ownerDocument.importNode(t,!0)).nodeType===q.element&&"BODY"===o.nodeName?r=o:"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!tL&&!tx&&!tB&&-1===t.indexOf("<"))return n&&tD?n.createHTML(t):t;if(!(r=es(t)))return tL?null:tD?tn:""}r&&tP&&ei(r.firstChild);let l=ea(tj?t:r);for(;s=l.nextNode();)ed(s)||(s.content instanceof E&&em(s.content),ep(s));if(tj)return t;if(tL){if(tR)for(a=to.call(r.ownerDocument);r.firstChild;)a.appendChild(r.firstChild);else a=r;return(tw.shadowroot||tw.shadowrootmode)&&(a=ta.call(c,a,!0)),a}let d=tB?r.outerHTML:r.innerHTML;return tB&&tv["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&w(K,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),tx&&u([tl,tu,td],t=>{d=g(d,t," ")}),n&&tD?n.createHTML(d):d},i.setConfig=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t9(t),tO=!0},i.clearConfig=function(){t5=null,tO=!1},i.isValidAttribute=function(t,e,n){return t5||t9({}),eh(t6(t),t6(e),n)},i.addHook=function(t,e){"function"==typeof e&&(tc[t]=tc[t]||[],h(tc[t],e))},i.removeHook=function(t){if(tc[t])return d(tc[t])},i.removeHooks=function(t){tc[t]&&(tc[t]=[])},i.removeAllHooks=function(){tc={}},i}()}();const aw=window.eval,a_=window,aE={vmlist:document.getElementById("vmlist"),vmview:document.getElementById("vmview"),vmDisplay:document.getElementById("vmDisplay"),homeBtn:document.getElementById("homeBtn"),rulesBtn:document.getElementById("rulesBtn"),chatList:document.getElementById("chatList"),chatListDiv:document.getElementById("chatListDiv"),userlist:document.getElementById("userlist"),onlineusercount:document.getElementById("onlineusercount"),username:document.getElementById("username"),chatinput:document.getElementById("chat-input"),sendChatBtn:document.getElementById("sendChatBtn"),takeTurnBtn:document.getElementById("takeTurnBtn"),changeUsernameBtn:document.getElementById("changeUsernameBtn"),turnBtnText:document.getElementById("turnBtnText"),turnstatus:document.getElementById("turnstatus"),osk:window.document.getElementById("oskBtn"),oskContainer:document.getElementById("osk-container"),screenshotButton:document.getElementById("screenshotButton"),voteResetButton:document.getElementById("voteResetButton"),voteResetPanel:document.getElementById("voteResetPanel"),voteYesBtn:document.getElementById("voteYesBtn"),voteNoBtn:document.getElementById("voteNoBtn"),voteYesLabel:document.getElementById("voteYesLabel"),voteNoLabel:document.getElementById("voteNoLabel"),voteTimeText:document.getElementById("voteTimeText"),loginModal:document.getElementById("loginModal"),adminPassword:document.getElementById("adminPassword"),loginButton:document.getElementById("loginButton"),adminInputVMID:document.getElementById("adminInputVMID"),badPasswordAlert:document.getElementById("badPasswordAlert"),incorrectPasswordDismissBtn:document.getElementById("incorrectPasswordDismissBtn"),ctrlAltDelBtn:document.getElementById("ctrlAltDelBtn"),toggleThemeBtn:document.getElementById("toggleThemeBtn"),toggleThemeIcon:document.getElementById("toggleThemeIcon"),toggleThemeBtnText:document.getElementById("toggleThemeBtnText"),staffbtns:document.getElementById("staffbtns"),restoreBtn:document.getElementById("restoreBtn"),rebootBtn:document.getElementById("rebootBtn"),clearQueueBtn:document.getElementById("clearQueueBtn"),bypassTurnBtn:document.getElementById("bypassTurnBtn"),endTurnBtn:document.getElementById("endTurnBtn"),qemuMonitorBtn:document.getElementById("qemuMonitorBtn"),xssCheckboxContainer:document.getElementById("xssCheckboxContainer"),xssCheckbox:document.getElementById("xssCheckbox"),forceVotePanel:document.getElementById("forceVotePanel"),forceVoteYesBtn:document.getElementById("forceVoteYesBtn"),forceVoteNoBtn:document.getElementById("forceVoteNoBtn"),indefTurnBtn:document.getElementById("indefTurnBtn"),ghostTurnBtn:document.getElementById("ghostTurnBtn"),ghostTurnBtnText:document.getElementById("ghostTurnBtnText"),qemuMonitorInput:document.getElementById("qemuMonitorInput"),qemuMonitorSendBtn:document.getElementById("qemuMonitorSendBtn"),qemuMonitorOutput:document.getElementById("qemuMonitorOutput"),accountDropdownUsername:document.getElementById("accountDropdownUsername"),accountDropdownMenuLink:document.getElementById("accountDropdownMenuLink"),accountLoginButton:document.getElementById("accountLoginButton"),accountRegisterButton:document.getElementById("accountRegisterButton"),accountSettingsButton:document.getElementById("accountSettingsButton"),accountLogoutButton:document.getElementById("accountLogoutButton"),accountModal:document.getElementById("accountModal"),accountModalError:document.getElementById("accountModalError"),accountModalErrorText:document.getElementById("accountModalErrorText"),accountModalErrorDismiss:document.getElementById("accountModalErrorDismiss"),accountModalSuccess:document.getElementById("accountModalSuccess"),accountModalSuccessText:document.getElementById("accountModalSuccessText"),accountModalSuccessDismiss:document.getElementById("accountModalSuccessDismiss"),accountLoginSection:document.getElementById("accountLoginSection"),accountRegisterSection:document.getElementById("accountRegisterSection"),accountVerifyEmailSection:document.getElementById("accountVerifyEmailSection"),accountVerifyEmailText:document.getElementById("accountVerifyEmailText"),accountModalTitle:document.getElementById("accountModalTitle"),accountLoginForm:document.getElementById("accountLoginForm"),accountRegisterForm:document.getElementById("accountRegisterForm"),accountVerifyEmailForm:document.getElementById("accountVerifyEmailForm"),accountLoginCaptchaContainer:document.getElementById("accountLoginCaptchaContainer"),accountLoginRecaptchaContainer:document.getElementById("accountLoginReCaptchaContainer"),accountLoginTurnstileContainer:document.getElementById("accountLoginTurnstileContainer"),accountRegisterCaptchaContainer:document.getElementById("accountRegisterCaptchaContainer"),accountRegisterRecaptchaContainer:document.getElementById("accountRegisterReCaptchaContainer"),accountRegisterTurnstileContainer:document.getElementById("accountRegisterTurnstileContainer"),accountLoginUsername:document.getElementById("accountLoginUsername"),accountLoginPassword:document.getElementById("accountLoginPassword"),accountRegisterEmail:document.getElementById("accountRegisterEmail"),accountRegisterUsername:document.getElementById("accountRegisterUsername"),accountRegisterPassword:document.getElementById("accountRegisterPassword"),accountRegisterConfirmPassword:document.getElementById("accountRegisterConfirmPassword"),accountRegisterDateOfBirth:document.getElementById("accountRegisterDateOfBirth"),accountVerifyEmailCode:document.getElementById("accountVerifyEmailCode"),accountVerifyEmailPassword:document.getElementById("accountVerifyEmailPassword"),accountSettingsSection:document.getElementById("accountSettingsSection"),accountSettingsForm:document.getElementById("accountSettingsForm"),accountSettingsEmail:document.getElementById("accountSettingsEmail"),accountSettingsUsername:document.getElementById("accountSettingsUsername"),accountSettingsNewPassword:document.getElementById("accountSettingsNewPassword"),accountSettingsConfirmNewPassword:document.getElementById("accountSettingsConfirmNewPassword"),accountSettingsCurrentPassword:document.getElementById("accountSettingsCurrentPassword"),hideFlagCheckbox:document.getElementById("hideFlagCheckbox"),accountResetPasswordSection:document.getElementById("accountResetPasswordSection"),accountResetPasswordForm:document.getElementById("accountResetPasswordForm"),accountResetPasswordEmail:document.getElementById("accountResetPasswordEmail"),accountResetPasswordUsername:document.getElementById("accountResetPasswordUsername"),accountResetPasswordCaptchaContainer:document.getElementById("accountResetPasswordCaptchaContainer"),accountResetPasswordRecaptchaContainer:document.getElementById("accountResetPasswordReCaptchaContainer"),accountResetPasswordTurnstileContainer:document.getElementById("accountResetPasswordTurnstileContainer"),accountResetPasswordVerifySection:document.getElementById("accountResetPasswordVerifySection"),accountVerifyPasswordResetText:document.getElementById("accountVerifyPasswordResetText"),accountResetPasswordVerifyForm:document.getElementById("accountResetPasswordVerifyForm"),accountResetPasswordCode:document.getElementById("accountResetPasswordCode"),accountResetPasswordNewPassword:document.getElementById("accountResetPasswordNewPassword"),accountResetPasswordConfirmNewPassword:document.getElementById("accountResetPasswordConfirmNewPassword"),accountForgotPasswordButton:document.getElementById("accountForgotPasswordButton")};let ak=null,aS={onKeyPress:t=>(function(t){if(null===aq)return;let e=function(t){let e=S.find(e=>e.includes(t));if(e){let[,t,n,r,i]=e;return w(t,r,i)}return null}(t);if(!e){console.error(`no keysym for ${t}, report this!`);return}switch(!0){case t.startsWith("{shift"):aI=!aI,aq.key(e,aI);break;case t.startsWith("{control"):aB=!aB,aq.key(e,aB);break;case"{capslock}"===t:aO=!aO,aq.key(e,aO);break;case t.startsWith("{alt"):aP=!aP,aq.key(e,aP);break;case t.startsWith("{meta"):aL=!aL,aq.key(e,aL);break;default:aq.key(e,!0),aq.key(e,!1)}aT.setOptions({layoutName:aI&&aO?"shiftcaps":aI?"shift":aO?"capslock":"default"}),aN()})(t),theme:"simple-keyboard hg-theme-default cvmDark cvmDisabled hg-layout-default",syncInstanceInputs:!0,mergeDisplay:!0},aT=new(f(e7))(".osk-main",{...aS,layout:{default:["{escape} {f1} {f2} {f3} {f4} {f5} {f6} {f7} {f8} {f9} {f10} {f11} {f12}","` 1 2 3 4 5 6 7 8 9 0 - = {backspace}","{tab} q w e r t y u i o p [ ] \\","{capslock} a s d f g h j k l ; ' {enter}","{shiftleft} z x c v b n m , . / {shiftright}","{controlleft} {metaleft} {altleft} {space} {altright} {metaright} {controlright}"],shift:["{escape} {f1} {f2} {f3} {f4} {f5} {f6} {f7} {f8} {f9} {f10} {f11} {f12}","~ ! @ # $ % ^ & * ( ) _ + {backspace}","{tab} Q W E R T Y U I O P { } |",'{capslock} A S D F G H J K L : " {enter}',"{shiftleft} Z X C V B N M < > ? {shiftright}","{controlleft} {metaleft} {altleft} {space} {altright} {metaright} {controlright}"],capslock:["{escape} {f1} {f2} {f3} {f4} {f5} {f6} {f7} {f8} {f9} {f10} {f11} {f12}","` 1 2 3 4 5 6 7 8 9 0 - = {backspace}","{tab} Q W E R T Y U I O P [ ] \\","{capslock} A S D F G H J K L ; ' {enter}","{shiftleft} Z X C V B N M , . / {shiftright}","{controlleft} {metaleft} {altleft} {space} {altright} {metaright} {controlright}"],shiftcaps:["{escape} {f1} {f2} {f3} {f4} {f5} {f6} {f7} {f8} {f9} {f10} {f11} {f12}","~ ! @ # $ % ^ & * ( ) _ + {backspace}","{tab} q w e r t y u i o p { } |",'{capslock} a s d f g h j k l : " {enter}',"{shiftleft} z x c v b n m < > ? {shiftright}","{controlleft} {metaleft} {altleft} {space} {altright} {metaright} {controlright}"]},display:{"{escape}":"Esc","{tab}":"Tab","{backspace}":"Back","{enter}":"Enter","{capslock}":"Caps","{shiftleft}":"Shift","{shiftright}":"Shift","{controlleft}":"Ctrl","{controlright}":"Ctrl","{altleft}":"Alt","{altright}":"Alt","{metaleft}":"Super","{metaright}":"Menu"}}),aA=new(f(e7))(".osk-control",{...aS,layout:{default:["{prtscr} {scrolllock} {pause}","{insert} {home} {pageup}","{delete} {end} {pagedown}"]},display:{"{prtscr}":"Print","{scrolllock}":"Scroll","{pause}":"Pause","{insert}":"Ins","{home}":"Home","{pageup}":"PgUp","{delete}":"Del","{end}":"End","{pagedown}":"PgDn"}}),aM=new(f(e7))(".osk-arrows",{...aS,layout:{default:["{arrowup}","{arrowleft} {arrowdown} {arrowright}"]}}),aC=new(f(e7))(".osk-numpad",{...aS,layout:{default:["{numlock} {numpaddivide} {numpadmultiply}","{numpad7} {numpad8} {numpad9}","{numpad4} {numpad5} {numpad6}","{numpad1} {numpad2} {numpad3}","{numpad0} {numpaddecimal}"]}}),ax=new(f(e7))(".osk-numpadEnd",{...aS,layout:{default:["{numpadsubtract}","{numpadadd}","{numpadenter}"]}}),aI=!1,aB=!1,aO=!1,aP=!1,aL=!1;const aR=(t,e)=>{for(let n of document.querySelectorAll(t))n.style.backgroundColor=e?"#1c4995":"rgba(0, 0, 0, 0.5)"},aD=t=>{let e=`simple-keyboard hg-theme-default cvmDark ${t?"":"cvmDisabled"} hg-layout-default`;[aT,aA,aM,aC,ax].forEach(t=>{t.setOptions({theme:e})}),t&&aN()},aN=()=>{aR(".hg-button-shiftleft, .hg-button-shiftright",aI),aR(".hg-button-controlleft, .hg-button-controlright",aB),aR(".hg-button-capslock",aO),aR(".hg-button-altleft, .hg-button-altright",aP),aR(".hg-button-metaleft, .hg-button-metaright",aL)};let aU=!1,aV=-1;const aj=[],aF=[],a$=[];let aG=0,aH=0,aK=J.Unregistered,az=new y(0);const aW=new Audio(f(e8).ChatSound);let aq=null;async function aY(t){let e=new e9(t);await e.WaitForOpen();let n=await e.list(),r=e.getUsers().length;for(let t of(e.close(),aj.push(...n),n)){let e=document.createElement("div");e.classList.add("col-sm-5","col-md-3");let n=document.createElement("div");n.classList.add("card"),-1!==f(e8).NSFWVMs.indexOf(t.id)&&n.classList.add("cvm-nsfw"),n.setAttribute("data-cvm-node",t.id),n.addEventListener("click",async()=>{try{await aQ(t)}catch(t){alert(t.message)}}),t.thumbnail.classList.add("card-img-top");let i=document.createElement("div");i.classList.add("card-body");let o=document.createElement("h5");o.innerHTML=f(e8).RawMessages.VMTitles?t.displayName:ab.sanitize(t.displayName);let s=document.createElement("span");s.innerHTML=`(<i class="fa-solid fa-users"></i> ${r})`,i.appendChild(o),i.appendChild(s),n.appendChild(t.thumbnail),n.appendChild(i),e.appendChild(n),aF.push(e),aF.sort((t,e)=>t.children[0].getAttribute("data-cvm-node")>e.children[0].getAttribute("data-cvm-node")?1:-1),aE.vmlist.children[0].innerHTML="",aF.forEach(t=>aE.vmlist.children[0].appendChild(t))}}async function aQ(t){if(null!==aq)return;aU=!1,location.hash=t.id,(aq=new e9(t.url)).on("chat",(t,e)=>aZ(t,e)),aq.on("adduser",t=>(function(t){let e=a$.find(e=>e.user===t);void 0!==e&&aE.userlist.removeChild(e.element);let n=document.createElement("tr");n.setAttribute("data-cvm-turn","-1");let r=document.createElement("td"),i=document.createElement("span"),o=document.createElement("span");switch(i.classList.add("userlist-flag"),o.classList.add("userlist-username"),r.appendChild(i),null!==t.countryCode&&(i.innerHTML=a0(t.countryCode),i.title=ag.getCountryName(t.countryCode)),r.appendChild(o),o.innerText=t.username,t.rank){case J.Admin:n.classList.add("user-admin");break;case J.Moderator:n.classList.add("user-moderator");break;case J.Registered:n.classList.add("user-registered");break;case J.Unregistered:n.classList.add("user-unregistered")}t.username===a_.username&&n.classList.add("user-current"),n.appendChild(r);let s={user:t,element:n,usernameElement:o,flagElement:i};(aK===J.Admin||aK===J.Moderator)&&a9(s),aE.userlist.appendChild(n),void 0!==e?e.element=n:a$.push(s),aE.onlineusercount.innerHTML=aq.getUsers().length.toString()})(t)),aq.on("flag",()=>(function(){for(let t of a$.filter(t=>null!==t.user.countryCode))t.flagElement.innerHTML=a0(t.user.countryCode),t.flagElement.title=ag.getCountryName(t.user.countryCode)})()),aq.on("remuser",t=>{let e;void 0!==(e=a$.findIndex(e=>e.user===t))&&aE.userlist.removeChild(a$[e].element),aE.onlineusercount.innerHTML=aq.getUsers().length.toString(),a$.splice(e,1)}),aq.on("rename",(t,e,n)=>{let r;(r=a$.find(t=>t.user.username===e))&&(r.usernameElement.innerHTML=e),n&&(a_.username=e,aE.username.innerText=e,localStorage.setItem("username",e))}),aq.on("renamestatus",t=>{switch(t){case"taken":alert(ag.GetString(ty.kError_UsernameTaken));break;case"invalid":alert(ag.GetString(ty.kError_UsernameInvalid));break;case"blacklisted":alert(ag.GetString(ty.kError_UsernameBlacklisted))}}),aq.on("turn",t=>(function(t){for(let t of(aV=-1,aq.canvas.classList.remove("focused","waiting"),clearInterval(d),aG=0,a$))t.element.classList.remove("user-turn","user-waiting"),t.element.setAttribute("data-cvm-turn","-1");if(aE.turnBtnText.innerHTML=ag.GetString(ty.kVMButtons_TakeTurn),aD(!1),null!==t.user){let e=a$.find(e=>e.user===t.user).element;e.classList.add("user-turn"),e.setAttribute("data-cvm-turn","0")}for(let e of t.queue){let n=a$.find(t=>t.user===e).element;n.classList.add("user-waiting"),n.setAttribute("data-cvm-turn",t.queue.indexOf(e).toString(10))}t.user?.username===a_.username&&(aV=0,aG=t.turnTime/1e3,aE.turnBtnText.innerHTML=ag.GetString(ty.kVMButtons_EndTurn),aq.canvas.classList.add("focused"),aD(!0)),t.queue.some(t=>t.username===a_.username)&&(aV=t.queue.findIndex(t=>t.username===a_.username)+1,aG=t.queueTime/1e3,aE.turnBtnText.innerHTML=ag.GetString(ty.kVMButtons_EndTurn),aq.canvas.classList.add("waiting")),-1===aV?aE.turnstatus.innerText="":(d=setInterval(()=>void(aG--,a2()),1e3),a2()),function(){for(let t of(a$.sort((t,e)=>t.user.username===a_.username&&t.user.turn>=e.user.turn&&0!==e.user.turn?-1:e.user.username===a_.username&&e.user.turn>=t.user.turn&&0!==t.user.turn?1:t.user.turn===e.user.turn?0:-1===t.user.turn?1:-1===e.user.turn?-1:t.user.turn<e.user.turn?-1:1),a$))aE.userlist.removeChild(t.element),aE.userlist.appendChild(t.element)}()})(t)),aq.on("vote",t=>{clearInterval(h),aE.voteResetPanel.style.display="block",aE.voteYesLabel.innerText=t.yesVotes.toString(),aE.voteNoLabel.innerText=t.noVotes.toString(),aH=Math.floor(t.timeToEnd/1e3),h=setInterval(()=>a1(),1e3),a1()}),aq.on("voteend",()=>void(clearInterval(h),aE.voteResetPanel.style.display="none")),aq.on("votecd",t=>window.alert(ag.GetString(ty.kVM_VoteCooldownTimer,t))),aq.on("login",(t,e)=>(function(t,e){if(aK=t,az=e,aE.username.classList.remove("username-unregistered","username-registered"),aK===J.Admin&&aE.username.classList.add("username-admin"),aK===J.Moderator&&aE.username.classList.add("username-moderator"),aK===J.Registered&&aE.username.classList.add("username-registered"),aE.staffbtns.style.display="block",e.restore&&(aE.restoreBtn.style.display="inline-block"),e.reboot&&(aE.rebootBtn.style.display="inline-block"),e.bypassturn&&(aE.bypassTurnBtn.style.display="inline-block",aE.endTurnBtn.style.display="inline-block",aE.clearQueueBtn.style.display="inline-block"),t===J.Admin&&(aE.qemuMonitorBtn.style.display="inline-block",aE.indefTurnBtn.style.display="inline-block",aE.ghostTurnBtn.style.display="inline-block"),e.xss&&(aE.xssCheckboxContainer.style.display="inline-block"),e.forcevote&&(aE.forceVotePanel.style.display="block"),aK!==J.Registered)for(let t of a$)a9(t)})(t,e)),aq.on("close",()=>{aU||alert(ag.GetString(ty.kError_UnexpectedDisconnection)),aX()}),aq.on("auth",async t=>{aE.changeUsernameBtn.style.display="none",f(e8).Auth.Enabled&&f(e8).Auth.APIEndpoint===t&&ak.account?aq.loginAccount(ak.account.sessionToken):f(e8).Auth.Enabled&&f(e8).Auth.APIEndpoint===t||(ak=new ay(t),await ct())}),await aq.WaitForOpen(),aZ("",`<b>${t.id}</b><hr>`);let e=f(e8).Auth.Enabled?ak.account?.username??null:localStorage.getItem("username"),n=await aq.connect(t.id,e);if(aE.adminInputVMID.value=t.id,a_.VMName=t.id,!n)throw aX(),Error("Failed to connect to node");document.title=ah("{0} - {1}",t.id,ag.GetString(ty.kGeneric_CollabVM)),aE.vmDisplay.appendChild(aq.canvas),aE.vmlist.style.display="none",aE.vmview.style.display="block"}function aX(){null!==aq&&(aU=!0,aq.close(),aq=null,document.title=ag.GetString(ty.kGeneric_CollabVM),aV=-1,aE.vmDisplay.innerHTML="",aE.vmlist.style.display="block",aE.vmview.style.display="none",a$.splice(0,a$.length),aE.userlist.innerHTML="",aK=J.Unregistered,az.set(0),a_.VMName=null,aE.staffbtns.style.display="none",aE.restoreBtn.style.display="none",aE.rebootBtn.style.display="none",aE.bypassTurnBtn.style.display="none",aE.endTurnBtn.style.display="none",aE.clearQueueBtn.style.display="none",aE.qemuMonitorBtn.style.display="none",aE.indefTurnBtn.style.display="none",aE.ghostTurnBtn.style.display="none",aE.xssCheckboxContainer.style.display="none",aE.forceVotePanel.style.display="none",aE.voteResetPanel.style.display="none",aE.voteYesLabel.innerText="0",aE.voteNoLabel.innerText="0",aE.xssCheckbox.checked=!1,aE.username.classList.remove("username-admin","username-moderator","username-registered"),aE.username.classList.add("username-unregistered"),aE.changeUsernameBtn.style.display="inline-block",f(e8).Auth.Enabled&&ak?.apiEndpoint!==f(e8).Auth.APIEndpoint?(ak=new ay(f(e8).Auth.APIEndpoint),ct()):ak&&!f(e8).Auth.Enabled&&(ak=null,aE.accountDropdownMenuLink.style.display="none"))}async function aJ(){var t=null===f(e8).ServerAddressesListURI?[]:await (await fetch(f(e8).ServerAddressesListURI)).json();await Promise.all([f(e8).ServerAddresses,t].flat().map(t=>aY(t)));let e=aj.find(t=>t.id===window.location.hash.substring(1));try{void 0!==e&&await aQ(e)}catch(t){alert(t.message)}}function aZ(t,e){let n=document.createElement("tr"),r=document.createElement("td");if(f(e8).RawMessages.Messages||(e=ab.sanitize(e)),""===t)r.innerHTML=e;else{let i,o,s=aq.getUsers().find(e=>e.username===t);switch(void 0!==s?s.rank:J.Unregistered){case J.Unregistered:i="chat-username-unregistered",o="chat-unregistered";break;case J.Registered:i="chat-username-registered",o="chat-registered";break;case J.Admin:i="chat-username-admin",o="chat-admin";break;case J.Moderator:i="chat-username-moderator",o="chat-moderator"}n.classList.add(o),r.innerHTML=`<b class="${i}">${t}\u{25B8}</b> ${e}`,f(e8).RawMessages.Messages&&Array.prototype.slice.call(r.children).forEach(t=>{"SCRIPT"===t.nodeName&&aw(t.text)})}n.appendChild(r),aE.chatList.appendChild(n),aE.chatListDiv.scrollTop=aE.chatListDiv.scrollHeight,aW.play()}function a0(t){if(2!==t.length)throw Error("Invalid country code");return String.fromCodePoint(...t.toUpperCase().split("").map(t=>127397+t.charCodeAt(0)))}function a1(){aH--,aE.voteTimeText.innerText=ag.GetString(ty.kVM_VoteForResetTimer,aH),0===aH&&clearInterval(h)}function a2(){0===aV?aE.turnstatus.innerText=ag.GetString(ty.kVM_TurnTimeTimer,aG):aE.turnstatus.innerText=ag.GetString(ty.kVM_WaitingTurnTimer,aG)}function a6(){null!==aq&&(aE.xssCheckbox.checked?aq.xss(aE.chatinput.value):aq.chat(aE.chatinput.value),aE.chatinput.value="")}aE.homeBtn.addEventListener("click",()=>aX()),aE.sendChatBtn.addEventListener("click",a6),aE.chatinput.addEventListener("keypress",t=>{"Enter"===t.key&&a6()}),aE.changeUsernameBtn.addEventListener("click",()=>{let t=void 0===a_.username.nodeName?a_.username:a_.username.innerText,e=prompt(ag.GetString(ty.kVMPrompts_EnterNewUsernamePrompt),t);e!==t&&aq?.rename(e)}),aE.takeTurnBtn.addEventListener("click",()=>{aq?.turn(aV===-1)}),aE.screenshotButton.addEventListener("click",()=>{aq&&aq.canvas.toBlob(t=>{open(URL.createObjectURL(t),"_blank")})}),aE.ctrlAltDelBtn.addEventListener("click",()=>{aq&&(aq?.key(65507,!0),aq?.key(65513,!0),aq?.key(65535,!0),aq?.key(65507,!1),aq?.key(65513,!1),aq?.key(65535,!1))}),aE.voteResetButton.addEventListener("click",()=>aq?.vote(!0)),aE.voteYesBtn.addEventListener("click",()=>aq?.vote(!0)),aE.voteNoBtn.addEventListener("click",()=>aq?.vote(!1));let a5=!1;const a3=new oX(aE.loginModal);function a4(){let t=aE.adminPassword.value;if(""===t)return;aq?.login(t),aE.adminPassword.value="";let e=aq?.on("login",()=>{e(),a3.hide(),aE.badPasswordAlert.style.display="none"}),n=aq?.on("badpw",()=>{n(),aE.badPasswordAlert.style.display="block"})}function a9(t){let e=t.element,n=e.children[0];e.classList.add("dropdown"),n.classList.add("dropdown-toggle"),n.setAttribute("data-bs-toggle","dropdown"),n.setAttribute("role","button"),n.setAttribute("aria-expanded","false");let r=document.createElement("ul");r.classList.add("dropdown-menu","dropdown-menu-dark","table-dark","text-light"),az.bypassturn&&a8(r,ag.GetString(ty.kVMButtons_EndTurn),()=>aq.endTurn(t.user.username),"mod-end-turn-btn"),az.ban&&a8(r,ag.GetString(ty.kAdminVMButtons_Ban),()=>aq.ban(t.user.username),"mod-ban-btn"),az.kick&&a8(r,ag.GetString(ty.kAdminVMButtons_Kick),()=>aq.kick(t.user.username),"mod-kick-btn"),az.rename&&a8(r,ag.GetString(ty.kVMButtons_ChangeUsername),()=>{let e=prompt(ag.GetString(ty.kVMPrompts_AdminChangeUsernamePrompt,t.user.username));e&&aq.renameUser(t.user.username,e)},"mod-rename-btn"),az.mute&&(a8(r,ag.GetString(ty.kAdminVMButtons_TempMute),()=>aq.mute(t.user.username,ad.Temp),"mod-temp-mute-btn"),a8(r,ag.GetString(ty.kAdminVMButtons_IndefMute),()=>aq.mute(t.user.username,ad.Perma),"mod-indef-mute-btn"),a8(r,ag.GetString(ty.kAdminVMButtons_Unmute),()=>aq.mute(t.user.username,ad.Unmuted),"mod-unmute-btn")),az.grabip&&a8(r,ag.GetString(ty.kAdminVMButtons_GetIP),async()=>{alert(await aq.getip(t.user.username))},"mod-get-ip-btn"),e.appendChild(r)}function a8(t,e,n,r){let i=document.createElement("li"),o=document.createElement("a");o.href="#",o.classList.add("dropdown-item",r),o.innerHTML=e,o.addEventListener("click",()=>n()),i.appendChild(o),t.appendChild(i)}async function a7(){if(!aE.qemuMonitorInput.value)return;let t=aE.qemuMonitorInput.value;aE.qemuMonitorOutput.innerHTML+=`&gt; ${t}
`,aE.qemuMonitorInput.value="";let e=await aq?.qemuMonitor(t);aE.qemuMonitorOutput.innerHTML+=`${e}
`,aE.qemuMonitorOutput.scrollTop=aE.qemuMonitorOutput.scrollHeight}async function ct(){if(null===ak)throw Error("Cannot renderAuth when auth is null.");for(let t of(await ak.getAPIInformation(),aE.accountDropdownUsername.innerText=ag.GetString(ty.kNotLoggedIn),aE.accountDropdownMenuLink.style.display="block",ak.info.registrationOpen?aE.accountRegisterButton.style.display="block":aE.accountRegisterButton.style.display="none",aE.accountLoginButton.style.display="block",aE.accountSettingsButton.style.display="none",aE.accountLogoutButton.style.display="none",document.querySelectorAll("[id^=accountRegisterCaptcha-], [id^=accountLoginCaptcha-], [id^=accountResetPasswordCaptcha-]")))hcaptcha.remove(t.parentElement.getAttribute("data-hcaptcha-widget-id")),t.remove();for(let t of document.querySelectorAll("[id^=accountRegisterTurnstile-], [id^=accountLoginTurnstile-], [id^=accountResetPasswordTurnstile-]"))turnstile.remove(t.parentElement.getAttribute("data-turnstile-widget-id")),t.remove();for(let t of document.querySelectorAll("[id^=accountRegisterRecaptcha-], [id^=accountLoginRecaptcha-], [id^=accountResetPasswordRecaptcha-]"))grecaptcha.reset(parseInt(t.parentElement.getAttribute("data-recaptcha-widget-id"))),t.remove();if(ak.info.hcaptcha?.required){let t={sitekey:ak.info.hcaptcha.siteKey},e=()=>{let e=Math.random().toString(36).substring(7),n=document.createElement("div");n.id=`accountRegisterCaptcha-${e}`,aE.accountRegisterCaptchaContainer.appendChild(n);let r=document.createElement("div");r.id=`accountLoginCaptcha-${e}`,aE.accountLoginCaptchaContainer.appendChild(r);let i=document.createElement("div");i.id=`accountResetPasswordCaptcha-${e}`,aE.accountResetPasswordCaptchaContainer.appendChild(i);let o=hcaptcha.render(n,t),s=hcaptcha.render(r,t),a=hcaptcha.render(i,t);aE.accountRegisterCaptchaContainer.setAttribute("data-hcaptcha-widget-id",o),aE.accountLoginCaptchaContainer.setAttribute("data-hcaptcha-widget-id",s),aE.accountResetPasswordCaptchaContainer.setAttribute("data-hcaptcha-widget-id",a)};if("undefined"==typeof hcaptcha){let t=document.createElement("script");t.src="https://js.hcaptcha.com/1/api.js?render=explicit&recaptchacompat=off&onload=hCaptchaLoad",window.hCaptchaLoad=e,document.head.appendChild(t)}else e()}if(ak.info?.turnstile?.required){let t={sitekey:ak.info.turnstile.siteKey},e=()=>{let e=Math.random().toString(36).substring(7),n=document.createElement("div");n.id=`accountRegisterTurnstile-${e}`,aE.accountRegisterTurnstileContainer.appendChild(n);let r=document.createElement("div");r.id=`accountLoginTurnstile-${e}`,aE.accountLoginTurnstileContainer.appendChild(r);let i=document.createElement("div");i.id=`accountResetPasswordTurnstile-${e}`,aE.accountResetPasswordTurnstileContainer.appendChild(i);let o=turnstile.render(n,t),s=turnstile.render(r,t),a=turnstile.render(i,t);aE.accountRegisterTurnstileContainer.setAttribute("data-turnstile-widget-id",o),aE.accountLoginTurnstileContainer.setAttribute("data-turnstile-widget-id",s),aE.accountResetPasswordTurnstileContainer.setAttribute("data-turnstile-widget-id",a)};if("undefined"==typeof turnstile){let t=document.createElement("script");t.src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit&onload=turnstileLoad",window.turnstileLoad=e,document.head.appendChild(t)}else e()}if(ak.info?.recaptcha?.required){let t={sitekey:ak.info.recaptcha.siteKey},e=()=>{let e=Math.random().toString(36).substring(7),n=document.createElement("div");n.id=`accountRegisterRecaptcha-${e}`,aE.accountRegisterRecaptchaContainer.appendChild(n);let r=document.createElement("div");r.id=`accountLoginRecaptcha-${e}`,aE.accountLoginRecaptchaContainer.appendChild(r);let i=document.createElement("div");i.id=`accountResetPasswordRecaptcha-${e}`,aE.accountResetPasswordRecaptchaContainer.appendChild(i);let o=grecaptcha.render(n,t),s=grecaptcha.render(r,t),a=grecaptcha.render(i,t);aE.accountRegisterRecaptchaContainer.setAttribute("data-recaptcha-widget-id",o.toString()),aE.accountLoginRecaptchaContainer.setAttribute("data-recaptcha-widget-id",s.toString()),aE.accountResetPasswordRecaptchaContainer.setAttribute("data-recaptcha-widget-id",a.toString())};if("undefined"==typeof grecaptcha){let t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?render=explicit&onload=recaptchaLoad",window.recaptchaLoad=e,document.head.appendChild(t)}else grecaptcha.ready(e)}var t=localStorage.getItem("collabvm_session_"+new URL(ak.apiEndpoint).host);t&&((await ak.loadSession(t)).success?ce():localStorage.removeItem("collabvm_session_"+new URL(ak.apiEndpoint).host))}function ce(){if(null===ak||null===ak.account)throw Error("Cannot loadAccount when auth or auth.account is null.");aE.accountDropdownUsername.innerText=ak.account.username,aE.accountLoginButton.style.display="none",aE.accountRegisterButton.style.display="none",aE.accountSettingsButton.style.display="block",aE.accountLogoutButton.style.display="block",aq&&aq.loginAccount(ak.account.sessionToken)}aE.loginModal.addEventListener("shown.bs.modal",()=>aE.adminPassword.focus()),aE.username.addEventListener("click",()=>{if(!ak){if(!a5){a5=!0,setInterval(()=>a5=!1,1e3);return}a3.show()}}),aE.loginButton.addEventListener("click",()=>a4()),aE.adminPassword.addEventListener("keypress",t=>"Enter"===t.key&&a4()),aE.incorrectPasswordDismissBtn.addEventListener("click",()=>aE.badPasswordAlert.style.display="none"),aE.restoreBtn.addEventListener("click",()=>window.confirm(ag.GetString(ty.kVMPrompts_AdminRestoreVMPrompt))&&aq?.restore()),aE.rebootBtn.addEventListener("click",()=>aq?.reboot()),aE.clearQueueBtn.addEventListener("click",()=>aq?.clearQueue()),aE.bypassTurnBtn.addEventListener("click",()=>aq?.bypassTurn()),aE.endTurnBtn.addEventListener("click",()=>{let t=aq?.getUsers().find(t=>0===t.turn);t&&aq?.endTurn(t.username)}),aE.forceVoteNoBtn.addEventListener("click",()=>aq?.forceVote(!1)),aE.forceVoteYesBtn.addEventListener("click",()=>aq?.forceVote(!0)),aE.indefTurnBtn.addEventListener("click",()=>aq?.indefiniteTurn()),aE.ghostTurnBtn.addEventListener("click",()=>{a_.collabvm.ghostTurn=!a_.collabvm.ghostTurn,a_.collabvm.ghostTurn?aE.ghostTurnBtnText.innerText=ag.GetString(ty.kAdminVMButtons_GhostTurnOn):aE.ghostTurnBtnText.innerText=ag.GetString(ty.kAdminVMButtons_GhostTurnOff)}),aE.qemuMonitorSendBtn.addEventListener("click",()=>a7()),aE.qemuMonitorInput.addEventListener("keypress",t=>"Enter"===t.key&&a7()),aE.osk.addEventListener("click",()=>aE.oskContainer.classList.toggle("d-none"));const cn=new oX(aE.accountModal);aE.accountModalErrorDismiss.addEventListener("click",()=>aE.accountModalError.style.display="none"),aE.accountModalSuccessDismiss.addEventListener("click",()=>aE.accountModalSuccess.style.display="none"),aE.accountLoginButton.addEventListener("click",()=>{aE.accountModalTitle.innerText=ag.GetString(ty.kGeneric_Login),aE.accountRegisterSection.style.display="none",aE.accountVerifyEmailSection.style.display="none",aE.accountLoginSection.style.display="block",aE.accountSettingsSection.style.display="none",aE.accountResetPasswordSection.style.display="none",aE.accountResetPasswordVerifySection.style.display="none",cn.show()}),aE.accountRegisterButton.addEventListener("click",()=>{aE.accountModalTitle.innerText=ag.GetString(ty.kGeneric_Register),aE.accountRegisterSection.style.display="block",aE.accountVerifyEmailSection.style.display="none",aE.accountLoginSection.style.display="none",aE.accountSettingsSection.style.display="none",aE.accountResetPasswordSection.style.display="none",aE.accountResetPasswordVerifySection.style.display="none",cn.show()}),aE.accountSettingsButton.addEventListener("click",()=>{aE.accountModalTitle.innerText=ag.GetString(ty.kAccountModal_AccountSettings),aE.accountRegisterSection.style.display="none",aE.accountVerifyEmailSection.style.display="none",aE.accountLoginSection.style.display="none",aE.accountSettingsSection.style.display="block",aE.accountResetPasswordSection.style.display="none",aE.accountResetPasswordVerifySection.style.display="none",aE.accountSettingsUsername.value=ak.account.username,aE.accountSettingsEmail.value=ak.account.email,cn.show()}),aE.accountLogoutButton.addEventListener("click",async()=>{ak?.account&&(await ak.logout(),localStorage.removeItem("collabvm_session_"+new URL(ak.apiEndpoint).host),aq&&aX(),ct())}),aE.accountForgotPasswordButton.addEventListener("click",()=>{aE.accountModalTitle.innerText=ag.GetString(ty.kAccountModal_ResetPassword),aE.accountLoginSection.style.display="none",aE.accountResetPasswordSection.style.display="block"}),aE.accountLoginForm.addEventListener("submit",async t=>{t.preventDefault();var e=void 0,n=void 0;if(ak.info.hcaptcha?.required){n=aE.accountLoginCaptchaContainer.getAttribute("data-hcaptcha-widget-id");var r=hcaptcha.getResponse(n);if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;e=r}var i=void 0,o=void 0;if(ak.info.turnstile?.required){o=aE.accountLoginTurnstileContainer.getAttribute("data-turnstile-widget-id");var r=turnstile.getResponse(o)||"";if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;i=r}var s=void 0,a=void 0;if(ak.info.recaptcha?.required){a=parseInt(aE.accountLoginRecaptchaContainer.getAttribute("data-recaptcha-widget-id"));var r=grecaptcha.getResponse(a);if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;s=r}var l=aE.accountLoginUsername.value,u=aE.accountLoginPassword.value,d=await ak.login(l,u,e,i,s);if(ak.info.hcaptcha?.required&&hcaptcha.reset(n),ak.info.turnstile?.required&&turnstile.reset(o),ak.info.recaptcha?.required&&grecaptcha.reset(a),d.success){if(aE.accountLoginUsername.value="",aE.accountLoginPassword.value="",d.verificationRequired)return c=d.username,aE.accountVerifyEmailText.innerText=ag.GetString(ty.kAccountModal_VerifyText,d.email),aE.accountLoginSection.style.display="none",aE.accountVerifyEmailSection.style.display="block",!1;localStorage.setItem("collabvm_session_"+new URL(ak.apiEndpoint).host,d.token),ce(),cn.hide()}else aE.accountModalErrorText.innerHTML=d.error,aE.accountModalError.style.display="block";return!1}),aE.accountRegisterForm.addEventListener("submit",async t=>{t.preventDefault();var e=void 0,n=void 0;if(ak.info.hcaptcha?.required){n=aE.accountRegisterCaptchaContainer.getAttribute("data-hcaptcha-widget-id");var r=hcaptcha.getResponse(n);if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;e=r}var i=void 0,o=void 0;if(ak.info.turnstile?.required){o=aE.accountRegisterTurnstileContainer.getAttribute("data-turnstile-widget-id");var r=turnstile.getResponse(o)||"";if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;i=r}var s=void 0,a=void 0;if(ak.info.recaptcha?.required){a=parseInt(aE.accountRegisterRecaptchaContainer.getAttribute("data-recaptcha-widget-id"));var r=grecaptcha.getResponse(a);if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;s=r}var l=aE.accountRegisterUsername.value,u=aE.accountRegisterPassword.value,d=aE.accountRegisterEmail.value,h=f(av)(aE.accountRegisterDateOfBirth.valueAsDate);if(u!==aE.accountRegisterConfirmPassword.value)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kPasswordsMustMatch),aE.accountModalError.style.display="block",!1;var p=await ak.register(l,u,d,h,e,i,s);if(ak.info.hcaptcha?.required&&hcaptcha.reset(n),ak.info.turnstile?.required&&turnstile.reset(o),ak.info.recaptcha?.required&&grecaptcha.reset(a),p.success){if(aE.accountRegisterUsername.value="",aE.accountRegisterEmail.value="",aE.accountRegisterPassword.value="",aE.accountRegisterConfirmPassword.value="",aE.accountRegisterDateOfBirth.value="",p.verificationRequired)return c=p.username,aE.accountVerifyEmailText.innerText=ag.GetString(ty.kAccountModal_VerifyText,p.email),aE.accountRegisterSection.style.display="none",aE.accountVerifyEmailSection.style.display="block",!1;localStorage.setItem("collabvm_session_"+new URL(ak.apiEndpoint).host,p.sessionToken),await ak.loadSession(p.sessionToken),ce(),cn.hide()}else aE.accountModalErrorText.innerHTML=p.error,aE.accountModalError.style.display="block";return!1}),aE.accountVerifyEmailForm.addEventListener("submit",async t=>{t.preventDefault();var e=c,n=aE.accountVerifyEmailCode.value,r=aE.accountVerifyEmailPassword.value,i=await ak.verifyEmail(e,r,n);return i.success?(aE.accountVerifyEmailCode.value="",aE.accountVerifyEmailPassword.value="",localStorage.setItem("collabvm_session_"+new URL(ak.apiEndpoint).host,i.sessionToken),await ak.loadSession(i.sessionToken),ce(),cn.hide()):(aE.accountModalErrorText.innerHTML=i.error,aE.accountModalError.style.display="block"),!1}),aE.accountSettingsForm.addEventListener("submit",async t=>{t.preventDefault();var e=ak.account.username,n=ak.account.email,r=aE.accountSettingsUsername.value===ak.account.username?void 0:aE.accountSettingsUsername.value,i=aE.accountSettingsEmail.value===ak.account.email?void 0:aE.accountSettingsEmail.value,o=""===aE.accountSettingsNewPassword.value?void 0:aE.accountSettingsNewPassword.value,s=aE.accountSettingsCurrentPassword.value;if(o&&o!==aE.accountSettingsConfirmNewPassword.value)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kPasswordsMustMatch),aE.accountModalError.style.display="block",!1;if(localStorage.setItem("collabvm-hide-flag",JSON.stringify(aE.hideFlagCheckbox.checked)),!o&&!i&&!r)return cn.hide(),!1;var a=await ak.updateAccount(s,i,r,o);return a.success?(aE.accountSettingsNewPassword.value="",aE.accountSettingsConfirmNewPassword.value="",aE.accountSettingsCurrentPassword.value="",a.verificationRequired?(ct(),c=r??e,aE.accountVerifyEmailText.innerText=ag.GetString(ty.kAccountModal_VerifyText,i??n),aE.accountSettingsSection.style.display="none",aE.accountVerifyEmailSection.style.display="block"):a.sessionExpired?(cn.hide(),localStorage.removeItem("collabvm_session_"+new URL(ak.apiEndpoint).host),aq&&aX(),ct()):cn.hide()):(aE.accountModalErrorText.innerHTML=a.error,aE.accountModalError.style.display="block"),!1}),aE.accountResetPasswordForm.addEventListener("submit",async t=>{t.preventDefault();var e=void 0,n=void 0;if(ak.info.hcaptcha?.required){n=aE.accountResetPasswordCaptchaContainer.getAttribute("data-hcaptcha-widget-id");var r=hcaptcha.getResponse(n);if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;e=r}var i=void 0,o=void 0;if(ak.info.turnstile?.required){o=aE.accountResetPasswordTurnstileContainer.getAttribute("data-turnstile-widget-id");var r=turnstile.getResponse(o)||"";if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;i=r}var s=void 0,a=void 0;if(ak.info.recaptcha?.required){a=parseInt(aE.accountResetPasswordRecaptchaContainer.getAttribute("data-recaptcha-widget-id"));var r=grecaptcha.getResponse(a);if(""===r)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kMissingCaptcha),aE.accountModalError.style.display="block",!1;s=r}var c=aE.accountResetPasswordUsername.value,d=aE.accountResetPasswordEmail.value,h=await ak.sendPasswordResetEmail(c,d,e,i,s);return ak.info.hcaptcha?.required&&hcaptcha.reset(n),ak.info.turnstile?.required&&turnstile.reset(o),ak.info.recaptcha?.required&&grecaptcha.reset(a),h.success?(l=c,u=d,aE.accountResetPasswordUsername.value="",aE.accountResetPasswordEmail.value="",aE.accountVerifyPasswordResetText.innerText=ag.GetString(ty.kAccountModal_VerifyPasswordResetText,d),aE.accountResetPasswordSection.style.display="none",aE.accountResetPasswordVerifySection.style.display="block"):(aE.accountModalErrorText.innerHTML=h.error,aE.accountModalError.style.display="block"),!1}),aE.accountResetPasswordVerifyForm.addEventListener("submit",async t=>{t.preventDefault();var e=aE.accountResetPasswordCode.value,n=aE.accountResetPasswordNewPassword.value;if(n!==aE.accountResetPasswordConfirmNewPassword.value)return aE.accountModalErrorText.innerHTML=ag.GetString(ty.kPasswordsMustMatch),aE.accountModalError.style.display="block",!1;var r=await ak.resetPassword(l,u,e,n);return r.success?(aE.accountResetPasswordCode.value="",aE.accountResetPasswordNewPassword.value="",aE.accountResetPasswordConfirmNewPassword.value="",aE.accountModalSuccessText.innerHTML=ag.GetString(ty.kAccountModal_PasswordResetSuccess),aE.accountModalSuccess.style.display="block",aE.accountResetPasswordVerifySection.style.display="none",aE.accountLoginSection.style.display="block"):(aE.accountModalErrorText.innerHTML=r.error,aE.accountModalError.style.display="block"),!1});let cr=!0;function ci(t){t?(cr=!0,document.children[0].setAttribute("data-bs-theme","dark"),aE.toggleThemeBtnText.innerHTML=ag.GetString(ty.kSiteButtons_LightMode),aE.toggleThemeIcon.classList.remove("fa-moon"),aE.toggleThemeIcon.classList.add("fa-sun")):(cr=!1,document.children[0].setAttribute("data-bs-theme","light"),aE.toggleThemeBtnText.innerHTML=ag.GetString(ty.kSiteButtons_DarkMode),aE.toggleThemeIcon.classList.remove("fa-sun"),aE.toggleThemeIcon.classList.add("fa-moon"))}aE.toggleThemeBtn.addEventListener("click",t=>(t.preventDefault(),ci(!cr),localStorage.setItem("cvm-dark-theme",cr?"1":"0"),!1)),a_.collabvm={openVM:aQ,closeVM:aX,loadList:aJ,multicollab:aY,getVM:()=>aq,ghostTurn:!1},a_.multicollab=aY,a_.GetAdmin=()=>{if(null!==aq)return{adminInstruction:(...t)=>{t.unshift("admin"),aq?.send(...t)},restore:()=>aq.restore(),reboot:()=>aq.reboot(),clearQueue:()=>aq.clearQueue(),bypassTurn:()=>aq.bypassTurn(),endTurn:t=>aq.endTurn(t),ban:t=>aq.ban(t),kick:t=>aq.kick(t),renameUser:(t,e)=>aq.renameUser(t,e),mute:(t,e)=>aq.mute(t,e),getip:t=>aq.getip(t),qemuMonitor:t=>{aq?.qemuMonitor(t)},globalXss:t=>aq.xss(t),forceVote:t=>aq.forceVote(t)}},a_.cvmEvents={on:(t,e)=>{null!==aq&&aq.on("message",(...t)=>e(...t))}},a_.VMName=null,document.addEventListener("DOMContentLoaded",async()=>{await ag.Init(),ag.on("languageChanged",t=>{for(let t of(aq?(document.title=ah("{0} - {1}",aq.getNode(),ag.GetString(ty.kGeneric_CollabVM)),-1!==aV?(0===aV?aE.turnstatus.innerText=ag.GetString(ty.kVM_TurnTimeTimer,aG):aE.turnstatus.innerText=ag.GetString(ty.kVM_WaitingTurnTimer,aG),aE.turnBtnText.innerText=ag.GetString(ty.kVMButtons_EndTurn)):aE.turnBtnText.innerText=ag.GetString(ty.kVMButtons_TakeTurn),aq.getVoteStatus()&&(aE.voteTimeText.innerText=ag.GetString(ty.kVM_VoteForResetTimer,aH))):document.title=ag.GetString(ty.kGeneric_CollabVM),ak&&ak.account||(aE.accountDropdownUsername.innerText=ag.GetString(ty.kNotLoggedIn)),cr?aE.toggleThemeBtnText.innerHTML=ag.GetString(ty.kSiteButtons_LightMode):aE.toggleThemeBtnText.innerHTML=ag.GetString(ty.kSiteButtons_DarkMode),a_.collabvm.ghostTurn?aE.ghostTurnBtnText.innerText=ag.GetString(ty.kAdminVMButtons_GhostTurnOn):aE.ghostTurnBtnText.innerText=ag.GetString(ty.kAdminVMButtons_GhostTurnOff),a$))null!==t.user.countryCode&&(t.flagElement.title=ag.getCountryName(t.user.countryCode))}),null!==localStorage.getItem("cvm-dark-theme")?ci("1"===localStorage.getItem("cvm-dark-theme")):window.matchMedia("(prefers-color-scheme: dark)").matches?ci(!0):ci(!1),f(e8).Auth.Enabled&&(ak=new ay(f(e8).Auth.APIEndpoint),ct());var t=JSON.parse(localStorage.getItem("collabvm-hide-flag"));null===t&&(t=!1),aE.hideFlagCheckbox.checked=t,document.title=ag.GetString(ty.kGeneric_CollabVM),aJ();let e=new oX(document.getElementById("welcomeModal"));if("1"!==window.localStorage.getItem(f(e8).WelcomeModalLocalStorageKey)){let t=document.getElementById("welcomeModalDismiss");t.addEventListener("click",()=>{window.localStorage.setItem(f(e8).WelcomeModalLocalStorageKey,"1")}),t.disabled=!0,e.show(),setTimeout(()=>{t.disabled=!1},5e3)}aE.rulesBtn.addEventListener("click",t=>{"en-us"!==ag.CurrentLanguage()&&(t.preventDefault(),e.show())})});